(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function r(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(l){if(l.ep)return;l.ep=!0;const c=r(l);fetch(l.href,c)}})();function vm(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Bc={exports:{}},Bo={},bc={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gp;function Yy(){if(gp)return Pe;gp=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),x=Symbol.iterator;function L(N){return N===null||typeof N!="object"?null:(N=x&&N[x]||N["@@iterator"],typeof N=="function"?N:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,J={};function z(N,b,ce){this.props=N,this.context=b,this.refs=J,this.updater=ce||B}z.prototype.isReactComponent={},z.prototype.setState=function(N,b){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,b,"setState")},z.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Ee(){}Ee.prototype=z.prototype;function de(N,b,ce){this.props=N,this.context=b,this.refs=J,this.updater=ce||B}var ye=de.prototype=new Ee;ye.constructor=de,X(ye,z.prototype),ye.isPureReactComponent=!0;var ve=Array.isArray,Ze=Object.prototype.hasOwnProperty,xe={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function T(N,b,ce){var Ae,Re={},Ce=null,Le=null;if(b!=null)for(Ae in b.ref!==void 0&&(Le=b.ref),b.key!==void 0&&(Ce=""+b.key),b)Ze.call(b,Ae)&&!k.hasOwnProperty(Ae)&&(Re[Ae]=b[Ae]);var Oe=arguments.length-2;if(Oe===1)Re.children=ce;else if(1<Oe){for(var K=Array(Oe),ne=0;ne<Oe;ne++)K[ne]=arguments[ne+2];Re.children=K}if(N&&N.defaultProps)for(Ae in Oe=N.defaultProps,Oe)Re[Ae]===void 0&&(Re[Ae]=Oe[Ae]);return{$$typeof:i,type:N,key:Ce,ref:Le,props:Re,_owner:xe.current}}function A(N,b){return{$$typeof:i,type:N.type,key:b,ref:N.ref,props:N.props,_owner:N._owner}}function C(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function V(N){var b={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ce){return b[ce]})}var D=/\/+/g;function S(N,b){return typeof N=="object"&&N!==null&&N.key!=null?V(""+N.key):b.toString(36)}function Qe(N,b,ce,Ae,Re){var Ce=typeof N;(Ce==="undefined"||Ce==="boolean")&&(N=null);var Le=!1;if(N===null)Le=!0;else switch(Ce){case"string":case"number":Le=!0;break;case"object":switch(N.$$typeof){case i:case e:Le=!0}}if(Le)return Le=N,Re=Re(Le),N=Ae===""?"."+S(Le,0):Ae,ve(Re)?(ce="",N!=null&&(ce=N.replace(D,"$&/")+"/"),Qe(Re,b,ce,"",function(ne){return ne})):Re!=null&&(C(Re)&&(Re=A(Re,ce+(!Re.key||Le&&Le.key===Re.key?"":(""+Re.key).replace(D,"$&/")+"/")+N)),b.push(Re)),1;if(Le=0,Ae=Ae===""?".":Ae+":",ve(N))for(var Oe=0;Oe<N.length;Oe++){Ce=N[Oe];var K=Ae+S(Ce,Oe);Le+=Qe(Ce,b,ce,K,Re)}else if(K=L(N),typeof K=="function")for(N=K.call(N),Oe=0;!(Ce=N.next()).done;)Ce=Ce.value,K=Ae+S(Ce,Oe++),Le+=Qe(Ce,b,ce,K,Re);else if(Ce==="object")throw b=String(N),Error("Objects are not valid as a React child (found: "+(b==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":b)+"). If you meant to render a collection of children, use an array instead.");return Le}function kt(N,b,ce){if(N==null)return N;var Ae=[],Re=0;return Qe(N,Ae,"","",function(Ce){return b.call(ce,Ce,Re++)}),Ae}function gt(N){if(N._status===-1){var b=N._result;b=b(),b.then(function(ce){(N._status===0||N._status===-1)&&(N._status=1,N._result=ce)},function(ce){(N._status===0||N._status===-1)&&(N._status=2,N._result=ce)}),N._status===-1&&(N._status=0,N._result=b)}if(N._status===1)return N._result.default;throw N._result}var Be={current:null},ee={transition:null},fe={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:ee,ReactCurrentOwner:xe};function te(){throw Error("act(...) is not supported in production builds of React.")}return Pe.Children={map:kt,forEach:function(N,b,ce){kt(N,function(){b.apply(this,arguments)},ce)},count:function(N){var b=0;return kt(N,function(){b++}),b},toArray:function(N){return kt(N,function(b){return b})||[]},only:function(N){if(!C(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Pe.Component=z,Pe.Fragment=r,Pe.Profiler=l,Pe.PureComponent=de,Pe.StrictMode=o,Pe.Suspense=_,Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Pe.act=te,Pe.cloneElement=function(N,b,ce){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var Ae=X({},N.props),Re=N.key,Ce=N.ref,Le=N._owner;if(b!=null){if(b.ref!==void 0&&(Ce=b.ref,Le=xe.current),b.key!==void 0&&(Re=""+b.key),N.type&&N.type.defaultProps)var Oe=N.type.defaultProps;for(K in b)Ze.call(b,K)&&!k.hasOwnProperty(K)&&(Ae[K]=b[K]===void 0&&Oe!==void 0?Oe[K]:b[K])}var K=arguments.length-2;if(K===1)Ae.children=ce;else if(1<K){Oe=Array(K);for(var ne=0;ne<K;ne++)Oe[ne]=arguments[ne+2];Ae.children=Oe}return{$$typeof:i,type:N.type,key:Re,ref:Ce,props:Ae,_owner:Le}},Pe.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:c,_context:N},N.Consumer=N},Pe.createElement=T,Pe.createFactory=function(N){var b=T.bind(null,N);return b.type=N,b},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(N){return{$$typeof:m,render:N}},Pe.isValidElement=C,Pe.lazy=function(N){return{$$typeof:I,_payload:{_status:-1,_result:N},_init:gt}},Pe.memo=function(N,b){return{$$typeof:v,type:N,compare:b===void 0?null:b}},Pe.startTransition=function(N){var b=ee.transition;ee.transition={};try{N()}finally{ee.transition=b}},Pe.unstable_act=te,Pe.useCallback=function(N,b){return Be.current.useCallback(N,b)},Pe.useContext=function(N){return Be.current.useContext(N)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(N){return Be.current.useDeferredValue(N)},Pe.useEffect=function(N,b){return Be.current.useEffect(N,b)},Pe.useId=function(){return Be.current.useId()},Pe.useImperativeHandle=function(N,b,ce){return Be.current.useImperativeHandle(N,b,ce)},Pe.useInsertionEffect=function(N,b){return Be.current.useInsertionEffect(N,b)},Pe.useLayoutEffect=function(N,b){return Be.current.useLayoutEffect(N,b)},Pe.useMemo=function(N,b){return Be.current.useMemo(N,b)},Pe.useReducer=function(N,b,ce){return Be.current.useReducer(N,b,ce)},Pe.useRef=function(N){return Be.current.useRef(N)},Pe.useState=function(N){return Be.current.useState(N)},Pe.useSyncExternalStore=function(N,b,ce){return Be.current.useSyncExternalStore(N,b,ce)},Pe.useTransition=function(){return Be.current.useTransition()},Pe.version="18.3.1",Pe}var yp;function Ih(){return yp||(yp=1,bc.exports=Yy()),bc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p;function Xy(){if(_p)return Bo;_p=1;var i=Ih(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(m,_,v){var I,x={},L=null,B=null;v!==void 0&&(L=""+v),_.key!==void 0&&(L=""+_.key),_.ref!==void 0&&(B=_.ref);for(I in _)o.call(_,I)&&!c.hasOwnProperty(I)&&(x[I]=_[I]);if(m&&m.defaultProps)for(I in _=m.defaultProps,_)x[I]===void 0&&(x[I]=_[I]);return{$$typeof:e,type:m,key:L,ref:B,props:x,_owner:l.current}}return Bo.Fragment=r,Bo.jsx=f,Bo.jsxs=f,Bo}var vp;function Jy(){return vp||(vp=1,Bc.exports=Xy()),Bc.exports}var G=Jy(),$e=Ih();const Zy=vm($e);var Cl={},$c={exports:{}},rn={},qc={exports:{}},Hc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ep;function e_(){return Ep||(Ep=1,function(i){function e(ee,fe){var te=ee.length;ee.push(fe);e:for(;0<te;){var N=te-1>>>1,b=ee[N];if(0<l(b,fe))ee[N]=fe,ee[te]=b,te=N;else break e}}function r(ee){return ee.length===0?null:ee[0]}function o(ee){if(ee.length===0)return null;var fe=ee[0],te=ee.pop();if(te!==fe){ee[0]=te;e:for(var N=0,b=ee.length,ce=b>>>1;N<ce;){var Ae=2*(N+1)-1,Re=ee[Ae],Ce=Ae+1,Le=ee[Ce];if(0>l(Re,te))Ce<b&&0>l(Le,Re)?(ee[N]=Le,ee[Ce]=te,N=Ce):(ee[N]=Re,ee[Ae]=te,N=Ae);else if(Ce<b&&0>l(Le,te))ee[N]=Le,ee[Ce]=te,N=Ce;else break e}}return fe}function l(ee,fe){var te=ee.sortIndex-fe.sortIndex;return te!==0?te:ee.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var _=[],v=[],I=1,x=null,L=3,B=!1,X=!1,J=!1,z=typeof setTimeout=="function"?setTimeout:null,Ee=typeof clearTimeout=="function"?clearTimeout:null,de=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ye(ee){for(var fe=r(v);fe!==null;){if(fe.callback===null)o(v);else if(fe.startTime<=ee)o(v),fe.sortIndex=fe.expirationTime,e(_,fe);else break;fe=r(v)}}function ve(ee){if(J=!1,ye(ee),!X)if(r(_)!==null)X=!0,gt(Ze);else{var fe=r(v);fe!==null&&Be(ve,fe.startTime-ee)}}function Ze(ee,fe){X=!1,J&&(J=!1,Ee(T),T=-1),B=!0;var te=L;try{for(ye(fe),x=r(_);x!==null&&(!(x.expirationTime>fe)||ee&&!V());){var N=x.callback;if(typeof N=="function"){x.callback=null,L=x.priorityLevel;var b=N(x.expirationTime<=fe);fe=i.unstable_now(),typeof b=="function"?x.callback=b:x===r(_)&&o(_),ye(fe)}else o(_);x=r(_)}if(x!==null)var ce=!0;else{var Ae=r(v);Ae!==null&&Be(ve,Ae.startTime-fe),ce=!1}return ce}finally{x=null,L=te,B=!1}}var xe=!1,k=null,T=-1,A=5,C=-1;function V(){return!(i.unstable_now()-C<A)}function D(){if(k!==null){var ee=i.unstable_now();C=ee;var fe=!0;try{fe=k(!0,ee)}finally{fe?S():(xe=!1,k=null)}}else xe=!1}var S;if(typeof de=="function")S=function(){de(D)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,kt=Qe.port2;Qe.port1.onmessage=D,S=function(){kt.postMessage(null)}}else S=function(){z(D,0)};function gt(ee){k=ee,xe||(xe=!0,S())}function Be(ee,fe){T=z(function(){ee(i.unstable_now())},fe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ee){ee.callback=null},i.unstable_continueExecution=function(){X||B||(X=!0,gt(Ze))},i.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<ee?Math.floor(1e3/ee):5},i.unstable_getCurrentPriorityLevel=function(){return L},i.unstable_getFirstCallbackNode=function(){return r(_)},i.unstable_next=function(ee){switch(L){case 1:case 2:case 3:var fe=3;break;default:fe=L}var te=L;L=fe;try{return ee()}finally{L=te}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ee,fe){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var te=L;L=ee;try{return fe()}finally{L=te}},i.unstable_scheduleCallback=function(ee,fe,te){var N=i.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?N+te:N):te=N,ee){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=te+b,ee={id:I++,callback:fe,priorityLevel:ee,startTime:te,expirationTime:b,sortIndex:-1},te>N?(ee.sortIndex=te,e(v,ee),r(_)===null&&ee===r(v)&&(J?(Ee(T),T=-1):J=!0,Be(ve,te-N))):(ee.sortIndex=b,e(_,ee),X||B||(X=!0,gt(Ze))),ee},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(ee){var fe=L;return function(){var te=L;L=fe;try{return ee.apply(this,arguments)}finally{L=te}}}}(Hc)),Hc}var wp;function t_(){return wp||(wp=1,qc.exports=e_()),qc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tp;function n_(){if(Tp)return rn;Tp=1;var i=Ih(),e=t_();function r(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function c(t,n){f(t,n),f(t+"Capture",n)}function f(t,n){for(l[t]=n,t=0;t<n.length;t++)o.add(n[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I={},x={};function L(t){return _.call(x,t)?!0:_.call(I,t)?!1:v.test(t)?x[t]=!0:(I[t]=!0,!1)}function B(t,n,s,u){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return u?!1:s!==null?!s.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function X(t,n,s,u){if(n===null||typeof n>"u"||B(t,n,s,u))return!0;if(u)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function J(t,n,s,u,h,p,y){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=s,this.propertyName=t,this.type=n,this.sanitizeURL=p,this.removeEmptyString=y}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){z[t]=new J(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var n=t[0];z[n]=new J(n,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){z[t]=new J(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){z[t]=new J(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){z[t]=new J(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){z[t]=new J(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){z[t]=new J(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){z[t]=new J(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){z[t]=new J(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ee=/[\-:]([a-z])/g;function de(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var n=t.replace(Ee,de);z[n]=new J(n,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var n=t.replace(Ee,de);z[n]=new J(n,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var n=t.replace(Ee,de);z[n]=new J(n,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){z[t]=new J(t,1,!1,t.toLowerCase(),null,!1,!1)}),z.xlinkHref=new J("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){z[t]=new J(t,1,!1,t.toLowerCase(),null,!0,!0)});function ye(t,n,s,u){var h=z.hasOwnProperty(n)?z[n]:null;(h!==null?h.type!==0:u||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(X(n,s,h,u)&&(s=null),u||h===null?L(n)&&(s===null?t.removeAttribute(n):t.setAttribute(n,""+s)):h.mustUseProperty?t[h.propertyName]=s===null?h.type===3?!1:"":s:(n=h.attributeName,u=h.attributeNamespace,s===null?t.removeAttribute(n):(h=h.type,s=h===3||h===4&&s===!0?"":""+s,u?t.setAttributeNS(u,n,s):t.setAttribute(n,s))))}var ve=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ze=Symbol.for("react.element"),xe=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),V=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),Qe=Symbol.for("react.suspense_list"),kt=Symbol.for("react.memo"),gt=Symbol.for("react.lazy"),Be=Symbol.for("react.offscreen"),ee=Symbol.iterator;function fe(t){return t===null||typeof t!="object"?null:(t=ee&&t[ee]||t["@@iterator"],typeof t=="function"?t:null)}var te=Object.assign,N;function b(t){if(N===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);N=n&&n[1]||""}return`
`+N+t}var ce=!1;function Ae(t,n){if(!t||ce)return"";ce=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(j){var u=j}Reflect.construct(t,[],n)}else{try{n.call()}catch(j){u=j}t.call(n.prototype)}else{try{throw Error()}catch(j){u=j}t()}}catch(j){if(j&&u&&typeof j.stack=="string"){for(var h=j.stack.split(`
`),p=u.stack.split(`
`),y=h.length-1,w=p.length-1;1<=y&&0<=w&&h[y]!==p[w];)w--;for(;1<=y&&0<=w;y--,w--)if(h[y]!==p[w]){if(y!==1||w!==1)do if(y--,w--,0>w||h[y]!==p[w]){var R=`
`+h[y].replace(" at new "," at ");return t.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",t.displayName)),R}while(1<=y&&0<=w);break}}}finally{ce=!1,Error.prepareStackTrace=s}return(t=t?t.displayName||t.name:"")?b(t):""}function Re(t){switch(t.tag){case 5:return b(t.type);case 16:return b("Lazy");case 13:return b("Suspense");case 19:return b("SuspenseList");case 0:case 2:case 15:return t=Ae(t.type,!1),t;case 11:return t=Ae(t.type.render,!1),t;case 1:return t=Ae(t.type,!0),t;default:return""}}function Ce(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case xe:return"Portal";case A:return"Profiler";case T:return"StrictMode";case S:return"Suspense";case Qe:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case V:return(t.displayName||"Context")+".Consumer";case C:return(t._context.displayName||"Context")+".Provider";case D:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case kt:return n=t.displayName||null,n!==null?n:Ce(t.type)||"Memo";case gt:n=t._payload,t=t._init;try{return Ce(t(n))}catch{}}return null}function Le(t){var n=t.type;switch(t.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=n.render,t=t.displayName||t.name||"",n.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(n);case 8:return n===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Oe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function K(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ne(t){var n=K(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),u=""+t[n];if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,p=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){u=""+y,p.call(this,y)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return u},setValue:function(y){u=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function he(t){t._valueTracker||(t._valueTracker=ne(t))}function _e(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),u="";return t&&(u=K(t)?t.checked?"true":"false":t.value),t=u,t!==s?(n.setValue(t),!0):!1}function Me(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ye(t,n){var s=n.checked;return te({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??t._wrapperState.initialChecked})}function kn(t,n){var s=n.defaultValue==null?"":n.defaultValue,u=n.checked!=null?n.checked:n.defaultChecked;s=Oe(n.value!=null?n.value:s),t._wrapperState={initialChecked:u,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function xr(t,n){n=n.checked,n!=null&&ye(t,"checked",n,!1)}function Hn(t,n){xr(t,n);var s=Oe(n.value),u=n.type;if(s!=null)u==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+s):t.value!==""+s&&(t.value=""+s);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}n.hasOwnProperty("value")?It(t,n.type,s):n.hasOwnProperty("defaultValue")&&It(t,n.type,Oe(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(t.defaultChecked=!!n.defaultChecked)}function rt(t,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var u=n.type;if(!(u!=="submit"&&u!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+t._wrapperState.initialValue,s||n===t.value||(t.value=n),t.defaultValue=n}s=t.name,s!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,s!==""&&(t.name=s)}function It(t,n,s){(n!=="number"||Me(t.ownerDocument)!==t)&&(s==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+s&&(t.defaultValue=""+s))}var jt=Array.isArray;function ln(t,n,s,u){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&u&&(t[s].defaultSelected=!0)}else{for(s=""+Oe(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Vr(t,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return te({},n,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Wn(t,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(r(92));if(jt(s)){if(1<s.length)throw Error(r(93));s=s[0]}n=s}n==null&&(n=""),s=n}t._wrapperState={initialValue:Oe(s)}}function ur(t,n){var s=Oe(n.value),u=Oe(n.defaultValue);s!=null&&(s=""+s,s!==t.value&&(t.value=s),n.defaultValue==null&&t.defaultValue!==s&&(t.defaultValue=s)),u!=null&&(t.defaultValue=""+u)}function at(t){var n=t.textContent;n===t._wrapperState.initialValue&&n!==""&&n!==null&&(t.value=n)}function He(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yt(t,n){return t==null||t==="http://www.w3.org/1999/xhtml"?He(n):t==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var cr,Ys=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,u,h){MSApp.execUnsafeLocalFunction(function(){return t(n,s,u,h)})}:t}(function(t,n){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=n;else{for(cr=cr||document.createElement("div"),cr.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=cr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)t.appendChild(n.firstChild)}});function Nr(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var hi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fi=["Webkit","ms","Moz","O"];Object.keys(hi).forEach(function(t){fi.forEach(function(n){n=n+t.charAt(0).toUpperCase()+t.substring(1),hi[n]=hi[t]})});function Xs(t,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||hi.hasOwnProperty(t)&&hi[t]?(""+n).trim():n+"px"}function Js(t,n){t=t.style;for(var s in n)if(n.hasOwnProperty(s)){var u=s.indexOf("--")===0,h=Xs(s,n[s],u);s==="float"&&(s="cssFloat"),u?t.setProperty(s,h):t[s]=h}}var Zs=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eo(t,n){if(n){if(Zs[t]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,t));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function to(t,n){if(t.indexOf("-")===-1)return typeof n.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var di=null;function Qi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ki=null,vn=null,Qn=null;function Gi(t){if(t=Ro(t)){if(typeof Ki!="function")throw Error(r(280));var n=t.stateNode;n&&(n=ba(n),Ki(t.stateNode,t.type,n))}}function Kn(t){vn?Qn?Qn.push(t):Qn=[t]:vn=t}function no(){if(vn){var t=vn,n=Qn;if(Qn=vn=null,Gi(t),n)for(t=0;t<n.length;t++)Gi(n[t])}}function pi(t,n){return t(n)}function ro(){}var hr=!1;function io(t,n,s){if(hr)return t(n,s);hr=!0;try{return pi(t,n,s)}finally{hr=!1,(vn!==null||Qn!==null)&&(ro(),no())}}function ut(t,n){var s=t.stateNode;if(s===null)return null;var u=ba(s);if(u===null)return null;s=u[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var Yi=!1;if(m)try{var xn={};Object.defineProperty(xn,"passive",{get:function(){Yi=!0}}),window.addEventListener("test",xn,xn),window.removeEventListener("test",xn,xn)}catch{Yi=!1}function mi(t,n,s,u,h,p,y,w,R){var j=Array.prototype.slice.call(arguments,3);try{n.apply(s,j)}catch(H){this.onError(H)}}var gi=!1,Xi=null,Vn=!1,so=null,mu={onError:function(t){gi=!0,Xi=t}};function Ji(t,n,s,u,h,p,y,w,R){gi=!1,Xi=null,mi.apply(mu,arguments)}function da(t,n,s,u,h,p,y,w,R){if(Ji.apply(this,arguments),gi){if(gi){var j=Xi;gi=!1,Xi=null}else throw Error(r(198));Vn||(Vn=!0,so=j)}}function Nn(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function yi(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function Dn(t){if(Nn(t)!==t)throw Error(r(188))}function pa(t){var n=t.alternate;if(!n){if(n=Nn(t),n===null)throw Error(r(188));return n!==t?null:t}for(var s=t,u=n;;){var h=s.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){s=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===s)return Dn(h),t;if(p===u)return Dn(h),n;p=p.sibling}throw Error(r(188))}if(s.return!==u.return)s=h,u=p;else{for(var y=!1,w=h.child;w;){if(w===s){y=!0,s=h,u=p;break}if(w===u){y=!0,u=h,s=p;break}w=w.sibling}if(!y){for(w=p.child;w;){if(w===s){y=!0,s=p,u=h;break}if(w===u){y=!0,u=p,s=h;break}w=w.sibling}if(!y)throw Error(r(189))}}if(s.alternate!==u)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:n}function oo(t){return t=pa(t),t!==null?Zi(t):null}function Zi(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var n=Zi(t);if(n!==null)return n;t=t.sibling}return null}var es=e.unstable_scheduleCallback,ao=e.unstable_cancelCallback,ma=e.unstable_shouldYield,gu=e.unstable_requestPaint,Ke=e.unstable_now,ga=e.unstable_getCurrentPriorityLevel,_i=e.unstable_ImmediatePriority,Dr=e.unstable_UserBlockingPriority,En=e.unstable_NormalPriority,lo=e.unstable_LowPriority,ya=e.unstable_IdlePriority,vi=null,un=null;function _a(t){if(un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(vi,t,void 0,(t.current.flags&128)===128)}catch{}}var Wt=Math.clz32?Math.clz32:Ea,uo=Math.log,va=Math.LN2;function Ea(t){return t>>>=0,t===0?32:31-(uo(t)/va|0)|0}var ts=64,ns=4194304;function Lr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ei(t,n){var s=t.pendingLanes;if(s===0)return 0;var u=0,h=t.suspendedLanes,p=t.pingedLanes,y=s&268435455;if(y!==0){var w=y&~h;w!==0?u=Lr(w):(p&=y,p!==0&&(u=Lr(p)))}else y=s&~h,y!==0?u=Lr(y):p!==0&&(u=Lr(p));if(u===0)return 0;if(n!==0&&n!==u&&(n&h)===0&&(h=u&-u,p=n&-n,h>=p||h===16&&(p&4194240)!==0))return n;if((u&4)!==0&&(u|=s&16),n=t.entangledLanes,n!==0)for(t=t.entanglements,n&=u;0<n;)s=31-Wt(n),h=1<<s,u|=t[s],n&=~h;return u}function yu(t,n){switch(t){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fr(t,n){for(var s=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes;0<p;){var y=31-Wt(p),w=1<<y,R=h[y];R===-1?((w&s)===0||(w&u)!==0)&&(h[y]=yu(w,n)):R<=n&&(t.expiredLanes|=w),p&=~w}}function cn(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function wi(){var t=ts;return ts<<=1,(ts&4194240)===0&&(ts=64),t}function Or(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Mr(t,n,s){t.pendingLanes|=n,n!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,n=31-Wt(n),t[n]=s}function We(t,n){var s=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<s;){var h=31-Wt(s),p=1<<h;n[h]=0,u[h]=-1,t[h]=-1,s&=~p}}function Fr(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var u=31-Wt(s),h=1<<u;h&n|t[u]&n&&(t[u]|=n),s&=~h}}var Ve=0;function jr(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var wa,rs,Ta,Ia,Sa,co=!1,Gn=[],xt=null,Ln=null,On=null,Ur=new Map,wn=new Map,Yn=[],_u="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Aa(t,n){switch(t){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":Ln=null;break;case"mouseover":case"mouseout":On=null;break;case"pointerover":case"pointerout":Ur.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":wn.delete(n.pointerId)}}function Yt(t,n,s,u,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:n,domEventName:s,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},n!==null&&(n=Ro(n),n!==null&&rs(n)),t):(t.eventSystemFlags|=u,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function vu(t,n,s,u,h){switch(n){case"focusin":return xt=Yt(xt,t,n,s,u,h),!0;case"dragenter":return Ln=Yt(Ln,t,n,s,u,h),!0;case"mouseover":return On=Yt(On,t,n,s,u,h),!0;case"pointerover":var p=h.pointerId;return Ur.set(p,Yt(Ur.get(p)||null,t,n,s,u,h)),!0;case"gotpointercapture":return p=h.pointerId,wn.set(p,Yt(wn.get(p)||null,t,n,s,u,h)),!0}return!1}function Ra(t){var n=Ri(t.target);if(n!==null){var s=Nn(n);if(s!==null){if(n=s.tag,n===13){if(n=yi(s),n!==null){t.blockedOn=n,Sa(t.priority,function(){Ta(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function dr(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=is(t.domEventName,t.eventSystemFlags,n[0],t.nativeEvent);if(s===null){s=t.nativeEvent;var u=new s.constructor(s.type,s);di=u,s.target.dispatchEvent(u),di=null}else return n=Ro(s),n!==null&&rs(n),t.blockedOn=s,!1;n.shift()}return!0}function Ti(t,n,s){dr(t)&&s.delete(n)}function Ca(){co=!1,xt!==null&&dr(xt)&&(xt=null),Ln!==null&&dr(Ln)&&(Ln=null),On!==null&&dr(On)&&(On=null),Ur.forEach(Ti),wn.forEach(Ti)}function Mn(t,n){t.blockedOn===n&&(t.blockedOn=null,co||(co=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ca)))}function Fn(t){function n(h){return Mn(h,t)}if(0<Gn.length){Mn(Gn[0],t);for(var s=1;s<Gn.length;s++){var u=Gn[s];u.blockedOn===t&&(u.blockedOn=null)}}for(xt!==null&&Mn(xt,t),Ln!==null&&Mn(Ln,t),On!==null&&Mn(On,t),Ur.forEach(n),wn.forEach(n),s=0;s<Yn.length;s++)u=Yn[s],u.blockedOn===t&&(u.blockedOn=null);for(;0<Yn.length&&(s=Yn[0],s.blockedOn===null);)Ra(s),s.blockedOn===null&&Yn.shift()}var pr=ve.ReactCurrentBatchConfig,zr=!0;function et(t,n,s,u){var h=Ve,p=pr.transition;pr.transition=null;try{Ve=1,ho(t,n,s,u)}finally{Ve=h,pr.transition=p}}function Eu(t,n,s,u){var h=Ve,p=pr.transition;pr.transition=null;try{Ve=4,ho(t,n,s,u)}finally{Ve=h,pr.transition=p}}function ho(t,n,s,u){if(zr){var h=is(t,n,s,u);if(h===null)Vu(t,n,u,Ii,s),Aa(t,u);else if(vu(h,t,n,s,u))u.stopPropagation();else if(Aa(t,u),n&4&&-1<_u.indexOf(t)){for(;h!==null;){var p=Ro(h);if(p!==null&&wa(p),p=is(t,n,s,u),p===null&&Vu(t,n,u,Ii,s),p===h)break;h=p}h!==null&&u.stopPropagation()}else Vu(t,n,u,null,s)}}var Ii=null;function is(t,n,s,u){if(Ii=null,t=Qi(u),t=Ri(t),t!==null)if(n=Nn(t),n===null)t=null;else if(s=n.tag,s===13){if(t=yi(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null);return Ii=t,null}function fo(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ga()){case _i:return 1;case Dr:return 4;case En:case lo:return 16;case ya:return 536870912;default:return 16}default:return 16}}var hn=null,ss=null,Xt=null;function po(){if(Xt)return Xt;var t,n=ss,s=n.length,u,h="value"in hn?hn.value:hn.textContent,p=h.length;for(t=0;t<s&&n[t]===h[t];t++);var y=s-t;for(u=1;u<=y&&n[s-u]===h[p-u];u++);return Xt=h.slice(t,1<u?1-u:void 0)}function os(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Xn(){return!0}function mo(){return!1}function Vt(t){function n(s,u,h,p,y){this._reactName=s,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=y,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(s=t[w],this[w]=s?s(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Xn:mo,this.isPropagationStopped=mo,this}return te(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Xn)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Xn)},persist:function(){},isPersistent:Xn}),n}var jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},as=Vt(jn),Jn=te({},jn,{view:0,detail:0}),wu=Vt(Jn),ls,mr,Br,Si=te({},Jn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zn,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Br&&(Br&&t.type==="mousemove"?(ls=t.screenX-Br.screenX,mr=t.screenY-Br.screenY):mr=ls=0,Br=t),ls)},movementY:function(t){return"movementY"in t?t.movementY:mr}}),us=Vt(Si),go=te({},Si,{dataTransfer:0}),Pa=Vt(go),cs=te({},Jn,{relatedTarget:0}),hs=Vt(cs),ka=te({},jn,{animationName:0,elapsedTime:0,pseudoElement:0}),gr=Vt(ka),xa=te({},jn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Va=Vt(xa),Na=te({},jn,{data:0}),yo=Vt(Na),fs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Da={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function La(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Da[t])?!!n[t]:!1}function Zn(){return La}var a=te({},Jn,{key:function(t){if(t.key){var n=fs[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=os(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Qt[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zn,charCode:function(t){return t.type==="keypress"?os(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?os(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d=Vt(a),g=te({},Si,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=Vt(g),O=te({},Jn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zn}),U=Vt(O),Z=te({},jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),be=Vt(Z),_t=te({},Si,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ne=Vt(_t),St=[9,13,27,32],dt=m&&"CompositionEvent"in window,Tn=null;m&&"documentMode"in document&&(Tn=document.documentMode);var fn=m&&"TextEvent"in window&&!Tn,Ai=m&&(!dt||Tn&&8<Tn&&11>=Tn),ds=" ",cf=!1;function hf(t,n){switch(t){case"keyup":return St.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ff(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ps=!1;function Qg(t,n){switch(t){case"compositionend":return ff(n);case"keypress":return n.which!==32?null:(cf=!0,ds);case"textInput":return t=n.data,t===ds&&cf?null:t;default:return null}}function Kg(t,n){if(ps)return t==="compositionend"||!dt&&hf(t,n)?(t=po(),Xt=ss=hn=null,ps=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ai&&n.locale!=="ko"?null:n.data;default:return null}}var Gg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function df(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Gg[t.type]:n==="textarea"}function pf(t,n,s,u){Kn(u),n=Ua(n,"onChange"),0<n.length&&(s=new as("onChange","change",null,s,u),t.push({event:s,listeners:n}))}var _o=null,vo=null;function Yg(t){Nf(t,0)}function Oa(t){var n=vs(t);if(_e(n))return t}function Xg(t,n){if(t==="change")return n}var mf=!1;if(m){var Tu;if(m){var Iu="oninput"in document;if(!Iu){var gf=document.createElement("div");gf.setAttribute("oninput","return;"),Iu=typeof gf.oninput=="function"}Tu=Iu}else Tu=!1;mf=Tu&&(!document.documentMode||9<document.documentMode)}function yf(){_o&&(_o.detachEvent("onpropertychange",_f),vo=_o=null)}function _f(t){if(t.propertyName==="value"&&Oa(vo)){var n=[];pf(n,vo,t,Qi(t)),io(Yg,n)}}function Jg(t,n,s){t==="focusin"?(yf(),_o=n,vo=s,_o.attachEvent("onpropertychange",_f)):t==="focusout"&&yf()}function Zg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Oa(vo)}function ey(t,n){if(t==="click")return Oa(n)}function ty(t,n){if(t==="input"||t==="change")return Oa(n)}function ny(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Un=typeof Object.is=="function"?Object.is:ny;function Eo(t,n){if(Un(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),u=Object.keys(n);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var h=s[u];if(!_.call(n,h)||!Un(t[h],n[h]))return!1}return!0}function vf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ef(t,n){var s=vf(t);t=0;for(var u;s;){if(s.nodeType===3){if(u=t+s.textContent.length,t<=n&&u>=n)return{node:s,offset:n-t};t=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=vf(s)}}function wf(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?wf(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Tf(){for(var t=window,n=Me();n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=Me(t.document)}return n}function Su(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function ry(t){var n=Tf(),s=t.focusedElem,u=t.selectionRange;if(n!==s&&s&&s.ownerDocument&&wf(s.ownerDocument.documentElement,s)){if(u!==null&&Su(s)){if(n=u.start,t=u.end,t===void 0&&(t=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(t,s.value.length);else if(t=(n=s.ownerDocument||document)&&n.defaultView||window,t.getSelection){t=t.getSelection();var h=s.textContent.length,p=Math.min(u.start,h);u=u.end===void 0?p:Math.min(u.end,h),!t.extend&&p>u&&(h=u,u=p,p=h),h=Ef(s,p);var y=Ef(s,u);h&&y&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==y.node||t.focusOffset!==y.offset)&&(n=n.createRange(),n.setStart(h.node,h.offset),t.removeAllRanges(),p>u?(t.addRange(n),t.extend(y.node,y.offset)):(n.setEnd(y.node,y.offset),t.addRange(n)))}}for(n=[],t=s;t=t.parentNode;)t.nodeType===1&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)t=n[s],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var iy=m&&"documentMode"in document&&11>=document.documentMode,ms=null,Au=null,wo=null,Ru=!1;function If(t,n,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ru||ms==null||ms!==Me(u)||(u=ms,"selectionStart"in u&&Su(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),wo&&Eo(wo,u)||(wo=u,u=Ua(Au,"onSelect"),0<u.length&&(n=new as("onSelect","select",null,n,s),t.push({event:n,listeners:u}),n.target=ms)))}function Ma(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var gs={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionend:Ma("Transition","TransitionEnd")},Cu={},Sf={};m&&(Sf=document.createElement("div").style,"AnimationEvent"in window||(delete gs.animationend.animation,delete gs.animationiteration.animation,delete gs.animationstart.animation),"TransitionEvent"in window||delete gs.transitionend.transition);function Fa(t){if(Cu[t])return Cu[t];if(!gs[t])return t;var n=gs[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Sf)return Cu[t]=n[s];return t}var Af=Fa("animationend"),Rf=Fa("animationiteration"),Cf=Fa("animationstart"),Pf=Fa("transitionend"),kf=new Map,xf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function br(t,n){kf.set(t,n),c(n,[t])}for(var Pu=0;Pu<xf.length;Pu++){var ku=xf[Pu],sy=ku.toLowerCase(),oy=ku[0].toUpperCase()+ku.slice(1);br(sy,"on"+oy)}br(Af,"onAnimationEnd"),br(Rf,"onAnimationIteration"),br(Cf,"onAnimationStart"),br("dblclick","onDoubleClick"),br("focusin","onFocus"),br("focusout","onBlur"),br(Pf,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var To="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ay=new Set("cancel close invalid load scroll toggle".split(" ").concat(To));function Vf(t,n,s){var u=t.type||"unknown-event";t.currentTarget=s,da(u,n,void 0,t),t.currentTarget=null}function Nf(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var u=t[s],h=u.event;u=u.listeners;e:{var p=void 0;if(n)for(var y=u.length-1;0<=y;y--){var w=u[y],R=w.instance,j=w.currentTarget;if(w=w.listener,R!==p&&h.isPropagationStopped())break e;Vf(h,w,j),p=R}else for(y=0;y<u.length;y++){if(w=u[y],R=w.instance,j=w.currentTarget,w=w.listener,R!==p&&h.isPropagationStopped())break e;Vf(h,w,j),p=R}}}if(Vn)throw t=so,Vn=!1,so=null,t}function Xe(t,n){var s=n[Fu];s===void 0&&(s=n[Fu]=new Set);var u=t+"__bubble";s.has(u)||(Df(n,t,2,!1),s.add(u))}function xu(t,n,s){var u=0;n&&(u|=4),Df(s,t,u,n)}var ja="_reactListening"+Math.random().toString(36).slice(2);function Io(t){if(!t[ja]){t[ja]=!0,o.forEach(function(s){s!=="selectionchange"&&(ay.has(s)||xu(s,!1,t),xu(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[ja]||(n[ja]=!0,xu("selectionchange",!1,n))}}function Df(t,n,s,u){switch(fo(n)){case 1:var h=et;break;case 4:h=Eu;break;default:h=ho}s=h.bind(null,n,s,t),h=void 0,!Yi||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function Vu(t,n,s,u,h){var p=u;if((n&1)===0&&(n&2)===0&&u!==null)e:for(;;){if(u===null)return;var y=u.tag;if(y===3||y===4){var w=u.stateNode.containerInfo;if(w===h||w.nodeType===8&&w.parentNode===h)break;if(y===4)for(y=u.return;y!==null;){var R=y.tag;if((R===3||R===4)&&(R=y.stateNode.containerInfo,R===h||R.nodeType===8&&R.parentNode===h))return;y=y.return}for(;w!==null;){if(y=Ri(w),y===null)return;if(R=y.tag,R===5||R===6){u=p=y;continue e}w=w.parentNode}}u=u.return}io(function(){var j=p,H=Qi(s),Q=[];e:{var $=kf.get(t);if($!==void 0){var re=as,se=t;switch(t){case"keypress":if(os(s)===0)break e;case"keydown":case"keyup":re=d;break;case"focusin":se="focus",re=hs;break;case"focusout":se="blur",re=hs;break;case"beforeblur":case"afterblur":re=hs;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=us;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Pa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=U;break;case Af:case Rf:case Cf:re=gr;break;case Pf:re=be;break;case"scroll":re=wu;break;case"wheel":re=Ne;break;case"copy":case"cut":case"paste":re=Va;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=E}var oe=(n&4)!==0,ct=!oe&&t==="scroll",M=oe?$!==null?$+"Capture":null:$;oe=[];for(var P=j,F;P!==null;){F=P;var Y=F.stateNode;if(F.tag===5&&Y!==null&&(F=Y,M!==null&&(Y=ut(P,M),Y!=null&&oe.push(So(P,Y,F)))),ct)break;P=P.return}0<oe.length&&($=new re($,se,null,s,H),Q.push({event:$,listeners:oe}))}}if((n&7)===0){e:{if($=t==="mouseover"||t==="pointerover",re=t==="mouseout"||t==="pointerout",$&&s!==di&&(se=s.relatedTarget||s.fromElement)&&(Ri(se)||se[yr]))break e;if((re||$)&&($=H.window===H?H:($=H.ownerDocument)?$.defaultView||$.parentWindow:window,re?(se=s.relatedTarget||s.toElement,re=j,se=se?Ri(se):null,se!==null&&(ct=Nn(se),se!==ct||se.tag!==5&&se.tag!==6)&&(se=null)):(re=null,se=j),re!==se)){if(oe=us,Y="onMouseLeave",M="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(oe=E,Y="onPointerLeave",M="onPointerEnter",P="pointer"),ct=re==null?$:vs(re),F=se==null?$:vs(se),$=new oe(Y,P+"leave",re,s,H),$.target=ct,$.relatedTarget=F,Y=null,Ri(H)===j&&(oe=new oe(M,P+"enter",se,s,H),oe.target=F,oe.relatedTarget=ct,Y=oe),ct=Y,re&&se)t:{for(oe=re,M=se,P=0,F=oe;F;F=ys(F))P++;for(F=0,Y=M;Y;Y=ys(Y))F++;for(;0<P-F;)oe=ys(oe),P--;for(;0<F-P;)M=ys(M),F--;for(;P--;){if(oe===M||M!==null&&oe===M.alternate)break t;oe=ys(oe),M=ys(M)}oe=null}else oe=null;re!==null&&Lf(Q,$,re,oe,!1),se!==null&&ct!==null&&Lf(Q,ct,se,oe,!0)}}e:{if($=j?vs(j):window,re=$.nodeName&&$.nodeName.toLowerCase(),re==="select"||re==="input"&&$.type==="file")var le=Xg;else if(df($))if(mf)le=ty;else{le=Zg;var pe=Jg}else(re=$.nodeName)&&re.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(le=ey);if(le&&(le=le(t,j))){pf(Q,le,s,H);break e}pe&&pe(t,$,j),t==="focusout"&&(pe=$._wrapperState)&&pe.controlled&&$.type==="number"&&It($,"number",$.value)}switch(pe=j?vs(j):window,t){case"focusin":(df(pe)||pe.contentEditable==="true")&&(ms=pe,Au=j,wo=null);break;case"focusout":wo=Au=ms=null;break;case"mousedown":Ru=!0;break;case"contextmenu":case"mouseup":case"dragend":Ru=!1,If(Q,s,H);break;case"selectionchange":if(iy)break;case"keydown":case"keyup":If(Q,s,H)}var me;if(dt)e:{switch(t){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else ps?hf(t,s)&&(we="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(we="onCompositionStart");we&&(Ai&&s.locale!=="ko"&&(ps||we!=="onCompositionStart"?we==="onCompositionEnd"&&ps&&(me=po()):(hn=H,ss="value"in hn?hn.value:hn.textContent,ps=!0)),pe=Ua(j,we),0<pe.length&&(we=new yo(we,t,null,s,H),Q.push({event:we,listeners:pe}),me?we.data=me:(me=ff(s),me!==null&&(we.data=me)))),(me=fn?Qg(t,s):Kg(t,s))&&(j=Ua(j,"onBeforeInput"),0<j.length&&(H=new yo("onBeforeInput","beforeinput",null,s,H),Q.push({event:H,listeners:j}),H.data=me))}Nf(Q,n)})}function So(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Ua(t,n){for(var s=n+"Capture",u=[];t!==null;){var h=t,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=ut(t,s),p!=null&&u.unshift(So(t,p,h)),p=ut(t,n),p!=null&&u.push(So(t,p,h))),t=t.return}return u}function ys(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Lf(t,n,s,u,h){for(var p=n._reactName,y=[];s!==null&&s!==u;){var w=s,R=w.alternate,j=w.stateNode;if(R!==null&&R===u)break;w.tag===5&&j!==null&&(w=j,h?(R=ut(s,p),R!=null&&y.unshift(So(s,R,w))):h||(R=ut(s,p),R!=null&&y.push(So(s,R,w)))),s=s.return}y.length!==0&&t.push({event:n,listeners:y})}var ly=/\r\n?/g,uy=/\u0000|\uFFFD/g;function Of(t){return(typeof t=="string"?t:""+t).replace(ly,`
`).replace(uy,"")}function za(t,n,s){if(n=Of(n),Of(t)!==n&&s)throw Error(r(425))}function Ba(){}var Nu=null,Du=null;function Lu(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ou=typeof setTimeout=="function"?setTimeout:void 0,cy=typeof clearTimeout=="function"?clearTimeout:void 0,Mf=typeof Promise=="function"?Promise:void 0,hy=typeof queueMicrotask=="function"?queueMicrotask:typeof Mf<"u"?function(t){return Mf.resolve(null).then(t).catch(fy)}:Ou;function fy(t){setTimeout(function(){throw t})}function Mu(t,n){var s=n,u=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"){if(u===0){t.removeChild(h),Fn(n);return}u--}else s!=="$"&&s!=="$?"&&s!=="$!"||u++;s=h}while(s);Fn(n)}function $r(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return t}function Ff(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return t;n--}else s==="/$"&&n++}t=t.previousSibling}return null}var _s=Math.random().toString(36).slice(2),er="__reactFiber$"+_s,Ao="__reactProps$"+_s,yr="__reactContainer$"+_s,Fu="__reactEvents$"+_s,dy="__reactListeners$"+_s,py="__reactHandles$"+_s;function Ri(t){var n=t[er];if(n)return n;for(var s=t.parentNode;s;){if(n=s[yr]||s[er]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Ff(t);t!==null;){if(s=t[er])return s;t=Ff(t)}return n}t=s,s=t.parentNode}return null}function Ro(t){return t=t[er]||t[yr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function vs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(r(33))}function ba(t){return t[Ao]||null}var ju=[],Es=-1;function qr(t){return{current:t}}function Je(t){0>Es||(t.current=ju[Es],ju[Es]=null,Es--)}function Ge(t,n){Es++,ju[Es]=t.current,t.current=n}var Hr={},Ut=qr(Hr),Jt=qr(!1),Ci=Hr;function ws(t,n){var s=t.type.contextTypes;if(!s)return Hr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===n)return u.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in s)h[p]=n[p];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=h),h}function Zt(t){return t=t.childContextTypes,t!=null}function $a(){Je(Jt),Je(Ut)}function jf(t,n,s){if(Ut.current!==Hr)throw Error(r(168));Ge(Ut,n),Ge(Jt,s)}function Uf(t,n,s){var u=t.stateNode;if(n=n.childContextTypes,typeof u.getChildContext!="function")return s;u=u.getChildContext();for(var h in u)if(!(h in n))throw Error(r(108,Le(t)||"Unknown",h));return te({},s,u)}function qa(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Hr,Ci=Ut.current,Ge(Ut,t),Ge(Jt,Jt.current),!0}function zf(t,n,s){var u=t.stateNode;if(!u)throw Error(r(169));s?(t=Uf(t,n,Ci),u.__reactInternalMemoizedMergedChildContext=t,Je(Jt),Je(Ut),Ge(Ut,t)):Je(Jt),Ge(Jt,s)}var _r=null,Ha=!1,Uu=!1;function Bf(t){_r===null?_r=[t]:_r.push(t)}function my(t){Ha=!0,Bf(t)}function Wr(){if(!Uu&&_r!==null){Uu=!0;var t=0,n=Ve;try{var s=_r;for(Ve=1;t<s.length;t++){var u=s[t];do u=u(!0);while(u!==null)}_r=null,Ha=!1}catch(h){throw _r!==null&&(_r=_r.slice(t+1)),es(_i,Wr),h}finally{Ve=n,Uu=!1}}return null}var Ts=[],Is=0,Wa=null,Qa=0,In=[],Sn=0,Pi=null,vr=1,Er="";function ki(t,n){Ts[Is++]=Qa,Ts[Is++]=Wa,Wa=t,Qa=n}function bf(t,n,s){In[Sn++]=vr,In[Sn++]=Er,In[Sn++]=Pi,Pi=t;var u=vr;t=Er;var h=32-Wt(u)-1;u&=~(1<<h),s+=1;var p=32-Wt(n)+h;if(30<p){var y=h-h%5;p=(u&(1<<y)-1).toString(32),u>>=y,h-=y,vr=1<<32-Wt(n)+h|s<<h|u,Er=p+t}else vr=1<<p|s<<h|u,Er=t}function zu(t){t.return!==null&&(ki(t,1),bf(t,1,0))}function Bu(t){for(;t===Wa;)Wa=Ts[--Is],Ts[Is]=null,Qa=Ts[--Is],Ts[Is]=null;for(;t===Pi;)Pi=In[--Sn],In[Sn]=null,Er=In[--Sn],In[Sn]=null,vr=In[--Sn],In[Sn]=null}var dn=null,pn=null,tt=!1,zn=null;function $f(t,n){var s=Pn(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=t,n=t.deletions,n===null?(t.deletions=[s],t.flags|=16):n.push(s)}function qf(t,n){switch(t.tag){case 5:var s=t.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(t.stateNode=n,dn=t,pn=$r(n.firstChild),!0):!1;case 6:return n=t.pendingProps===""||n.nodeType!==3?null:n,n!==null?(t.stateNode=n,dn=t,pn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=Pi!==null?{id:vr,overflow:Er}:null,t.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=Pn(18,null,null,0),s.stateNode=n,s.return=t,t.child=s,dn=t,pn=null,!0):!1;default:return!1}}function bu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $u(t){if(tt){var n=pn;if(n){var s=n;if(!qf(t,n)){if(bu(t))throw Error(r(418));n=$r(s.nextSibling);var u=dn;n&&qf(t,n)?$f(u,s):(t.flags=t.flags&-4097|2,tt=!1,dn=t)}}else{if(bu(t))throw Error(r(418));t.flags=t.flags&-4097|2,tt=!1,dn=t}}}function Hf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;dn=t}function Ka(t){if(t!==dn)return!1;if(!tt)return Hf(t),tt=!0,!1;var n;if((n=t.tag!==3)&&!(n=t.tag!==5)&&(n=t.type,n=n!=="head"&&n!=="body"&&!Lu(t.type,t.memoizedProps)),n&&(n=pn)){if(bu(t))throw Wf(),Error(r(418));for(;n;)$f(t,n),n=$r(n.nextSibling)}if(Hf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"){if(n===0){pn=$r(t.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}t=t.nextSibling}pn=null}}else pn=dn?$r(t.stateNode.nextSibling):null;return!0}function Wf(){for(var t=pn;t;)t=$r(t.nextSibling)}function Ss(){pn=dn=null,tt=!1}function qu(t){zn===null?zn=[t]:zn.push(t)}var gy=ve.ReactCurrentBatchConfig;function Co(t,n,s){if(t=s.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(r(309));var u=s.stateNode}if(!u)throw Error(r(147,t));var h=u,p=""+t;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===p?n.ref:(n=function(y){var w=h.refs;y===null?delete w[p]:w[p]=y},n._stringRef=p,n)}if(typeof t!="string")throw Error(r(284));if(!s._owner)throw Error(r(290,t))}return t}function Ga(t,n){throw t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}function Qf(t){var n=t._init;return n(t._payload)}function Kf(t){function n(M,P){if(t){var F=M.deletions;F===null?(M.deletions=[P],M.flags|=16):F.push(P)}}function s(M,P){if(!t)return null;for(;P!==null;)n(M,P),P=P.sibling;return null}function u(M,P){for(M=new Map;P!==null;)P.key!==null?M.set(P.key,P):M.set(P.index,P),P=P.sibling;return M}function h(M,P){return M=ei(M,P),M.index=0,M.sibling=null,M}function p(M,P,F){return M.index=F,t?(F=M.alternate,F!==null?(F=F.index,F<P?(M.flags|=2,P):F):(M.flags|=2,P)):(M.flags|=1048576,P)}function y(M){return t&&M.alternate===null&&(M.flags|=2),M}function w(M,P,F,Y){return P===null||P.tag!==6?(P=Oc(F,M.mode,Y),P.return=M,P):(P=h(P,F),P.return=M,P)}function R(M,P,F,Y){var le=F.type;return le===k?H(M,P,F.props.children,Y,F.key):P!==null&&(P.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===gt&&Qf(le)===P.type)?(Y=h(P,F.props),Y.ref=Co(M,P,F),Y.return=M,Y):(Y=vl(F.type,F.key,F.props,null,M.mode,Y),Y.ref=Co(M,P,F),Y.return=M,Y)}function j(M,P,F,Y){return P===null||P.tag!==4||P.stateNode.containerInfo!==F.containerInfo||P.stateNode.implementation!==F.implementation?(P=Mc(F,M.mode,Y),P.return=M,P):(P=h(P,F.children||[]),P.return=M,P)}function H(M,P,F,Y,le){return P===null||P.tag!==7?(P=Fi(F,M.mode,Y,le),P.return=M,P):(P=h(P,F),P.return=M,P)}function Q(M,P,F){if(typeof P=="string"&&P!==""||typeof P=="number")return P=Oc(""+P,M.mode,F),P.return=M,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Ze:return F=vl(P.type,P.key,P.props,null,M.mode,F),F.ref=Co(M,null,P),F.return=M,F;case xe:return P=Mc(P,M.mode,F),P.return=M,P;case gt:var Y=P._init;return Q(M,Y(P._payload),F)}if(jt(P)||fe(P))return P=Fi(P,M.mode,F,null),P.return=M,P;Ga(M,P)}return null}function $(M,P,F,Y){var le=P!==null?P.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return le!==null?null:w(M,P,""+F,Y);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Ze:return F.key===le?R(M,P,F,Y):null;case xe:return F.key===le?j(M,P,F,Y):null;case gt:return le=F._init,$(M,P,le(F._payload),Y)}if(jt(F)||fe(F))return le!==null?null:H(M,P,F,Y,null);Ga(M,F)}return null}function re(M,P,F,Y,le){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return M=M.get(F)||null,w(P,M,""+Y,le);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case Ze:return M=M.get(Y.key===null?F:Y.key)||null,R(P,M,Y,le);case xe:return M=M.get(Y.key===null?F:Y.key)||null,j(P,M,Y,le);case gt:var pe=Y._init;return re(M,P,F,pe(Y._payload),le)}if(jt(Y)||fe(Y))return M=M.get(F)||null,H(P,M,Y,le,null);Ga(P,Y)}return null}function se(M,P,F,Y){for(var le=null,pe=null,me=P,we=P=0,Ct=null;me!==null&&we<F.length;we++){me.index>we?(Ct=me,me=null):Ct=me.sibling;var Ue=$(M,me,F[we],Y);if(Ue===null){me===null&&(me=Ct);break}t&&me&&Ue.alternate===null&&n(M,me),P=p(Ue,P,we),pe===null?le=Ue:pe.sibling=Ue,pe=Ue,me=Ct}if(we===F.length)return s(M,me),tt&&ki(M,we),le;if(me===null){for(;we<F.length;we++)me=Q(M,F[we],Y),me!==null&&(P=p(me,P,we),pe===null?le=me:pe.sibling=me,pe=me);return tt&&ki(M,we),le}for(me=u(M,me);we<F.length;we++)Ct=re(me,M,we,F[we],Y),Ct!==null&&(t&&Ct.alternate!==null&&me.delete(Ct.key===null?we:Ct.key),P=p(Ct,P,we),pe===null?le=Ct:pe.sibling=Ct,pe=Ct);return t&&me.forEach(function(ti){return n(M,ti)}),tt&&ki(M,we),le}function oe(M,P,F,Y){var le=fe(F);if(typeof le!="function")throw Error(r(150));if(F=le.call(F),F==null)throw Error(r(151));for(var pe=le=null,me=P,we=P=0,Ct=null,Ue=F.next();me!==null&&!Ue.done;we++,Ue=F.next()){me.index>we?(Ct=me,me=null):Ct=me.sibling;var ti=$(M,me,Ue.value,Y);if(ti===null){me===null&&(me=Ct);break}t&&me&&ti.alternate===null&&n(M,me),P=p(ti,P,we),pe===null?le=ti:pe.sibling=ti,pe=ti,me=Ct}if(Ue.done)return s(M,me),tt&&ki(M,we),le;if(me===null){for(;!Ue.done;we++,Ue=F.next())Ue=Q(M,Ue.value,Y),Ue!==null&&(P=p(Ue,P,we),pe===null?le=Ue:pe.sibling=Ue,pe=Ue);return tt&&ki(M,we),le}for(me=u(M,me);!Ue.done;we++,Ue=F.next())Ue=re(me,M,we,Ue.value,Y),Ue!==null&&(t&&Ue.alternate!==null&&me.delete(Ue.key===null?we:Ue.key),P=p(Ue,P,we),pe===null?le=Ue:pe.sibling=Ue,pe=Ue);return t&&me.forEach(function(Gy){return n(M,Gy)}),tt&&ki(M,we),le}function ct(M,P,F,Y){if(typeof F=="object"&&F!==null&&F.type===k&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case Ze:e:{for(var le=F.key,pe=P;pe!==null;){if(pe.key===le){if(le=F.type,le===k){if(pe.tag===7){s(M,pe.sibling),P=h(pe,F.props.children),P.return=M,M=P;break e}}else if(pe.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===gt&&Qf(le)===pe.type){s(M,pe.sibling),P=h(pe,F.props),P.ref=Co(M,pe,F),P.return=M,M=P;break e}s(M,pe);break}else n(M,pe);pe=pe.sibling}F.type===k?(P=Fi(F.props.children,M.mode,Y,F.key),P.return=M,M=P):(Y=vl(F.type,F.key,F.props,null,M.mode,Y),Y.ref=Co(M,P,F),Y.return=M,M=Y)}return y(M);case xe:e:{for(pe=F.key;P!==null;){if(P.key===pe)if(P.tag===4&&P.stateNode.containerInfo===F.containerInfo&&P.stateNode.implementation===F.implementation){s(M,P.sibling),P=h(P,F.children||[]),P.return=M,M=P;break e}else{s(M,P);break}else n(M,P);P=P.sibling}P=Mc(F,M.mode,Y),P.return=M,M=P}return y(M);case gt:return pe=F._init,ct(M,P,pe(F._payload),Y)}if(jt(F))return se(M,P,F,Y);if(fe(F))return oe(M,P,F,Y);Ga(M,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,P!==null&&P.tag===6?(s(M,P.sibling),P=h(P,F),P.return=M,M=P):(s(M,P),P=Oc(F,M.mode,Y),P.return=M,M=P),y(M)):s(M,P)}return ct}var As=Kf(!0),Gf=Kf(!1),Ya=qr(null),Xa=null,Rs=null,Hu=null;function Wu(){Hu=Rs=Xa=null}function Qu(t){var n=Ya.current;Je(Ya),t._currentValue=n}function Ku(t,n,s){for(;t!==null;){var u=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),t===s)break;t=t.return}}function Cs(t,n){Xa=t,Hu=Rs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&n)!==0&&(en=!0),t.firstContext=null)}function An(t){var n=t._currentValue;if(Hu!==t)if(t={context:t,memoizedValue:n,next:null},Rs===null){if(Xa===null)throw Error(r(308));Rs=t,Xa.dependencies={lanes:0,firstContext:t}}else Rs=Rs.next=t;return n}var xi=null;function Gu(t){xi===null?xi=[t]:xi.push(t)}function Yf(t,n,s,u){var h=n.interleaved;return h===null?(s.next=s,Gu(n)):(s.next=h.next,h.next=s),n.interleaved=s,wr(t,u)}function wr(t,n){t.lanes|=n;var s=t.alternate;for(s!==null&&(s.lanes|=n),s=t,t=t.return;t!==null;)t.childLanes|=n,s=t.alternate,s!==null&&(s.childLanes|=n),s=t,t=t.return;return s.tag===3?s.stateNode:null}var Qr=!1;function Yu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Tr(t,n){return{eventTime:t,lane:n,tag:0,payload:null,callback:null,next:null}}function Kr(t,n,s){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Fe&2)!==0){var h=u.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),u.pending=n,wr(t,s)}return h=u.interleaved,h===null?(n.next=n,Gu(u)):(n.next=h.next,h.next=n),u.interleaved=n,wr(t,s)}function Ja(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var u=n.lanes;u&=t.pendingLanes,s|=u,n.lanes=s,Fr(t,s)}}function Jf(t,n){var s=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var h=null,p=null;if(s=s.firstBaseUpdate,s!==null){do{var y={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};p===null?h=p=y:p=p.next=y,s=s.next}while(s!==null);p===null?h=p=n:p=p.next=n}else h=p=n;s={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,effects:u.effects},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}function Za(t,n,s,u){var h=t.updateQueue;Qr=!1;var p=h.firstBaseUpdate,y=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var R=w,j=R.next;R.next=null,y===null?p=j:y.next=j,y=R;var H=t.alternate;H!==null&&(H=H.updateQueue,w=H.lastBaseUpdate,w!==y&&(w===null?H.firstBaseUpdate=j:w.next=j,H.lastBaseUpdate=R))}if(p!==null){var Q=h.baseState;y=0,H=j=R=null,w=p;do{var $=w.lane,re=w.eventTime;if((u&$)===$){H!==null&&(H=H.next={eventTime:re,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var se=t,oe=w;switch($=n,re=s,oe.tag){case 1:if(se=oe.payload,typeof se=="function"){Q=se.call(re,Q,$);break e}Q=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=oe.payload,$=typeof se=="function"?se.call(re,Q,$):se,$==null)break e;Q=te({},Q,$);break e;case 2:Qr=!0}}w.callback!==null&&w.lane!==0&&(t.flags|=64,$=h.effects,$===null?h.effects=[w]:$.push(w))}else re={eventTime:re,lane:$,tag:w.tag,payload:w.payload,callback:w.callback,next:null},H===null?(j=H=re,R=Q):H=H.next=re,y|=$;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;$=w,w=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);if(H===null&&(R=Q),h.baseState=R,h.firstBaseUpdate=j,h.lastBaseUpdate=H,n=h.shared.interleaved,n!==null){h=n;do y|=h.lane,h=h.next;while(h!==n)}else p===null&&(h.shared.lanes=0);Di|=y,t.lanes=y,t.memoizedState=Q}}function Zf(t,n,s){if(t=n.effects,n.effects=null,t!==null)for(n=0;n<t.length;n++){var u=t[n],h=u.callback;if(h!==null){if(u.callback=null,u=s,typeof h!="function")throw Error(r(191,h));h.call(u)}}}var Po={},tr=qr(Po),ko=qr(Po),xo=qr(Po);function Vi(t){if(t===Po)throw Error(r(174));return t}function Xu(t,n){switch(Ge(xo,n),Ge(ko,t),Ge(tr,Po),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:yt(null,"");break;default:t=t===8?n.parentNode:n,n=t.namespaceURI||null,t=t.tagName,n=yt(n,t)}Je(tr),Ge(tr,n)}function Ps(){Je(tr),Je(ko),Je(xo)}function ed(t){Vi(xo.current);var n=Vi(tr.current),s=yt(n,t.type);n!==s&&(Ge(ko,t),Ge(tr,s))}function Ju(t){ko.current===t&&(Je(tr),Je(ko))}var it=qr(0);function el(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Zu=[];function ec(){for(var t=0;t<Zu.length;t++)Zu[t]._workInProgressVersionPrimary=null;Zu.length=0}var tl=ve.ReactCurrentDispatcher,tc=ve.ReactCurrentBatchConfig,Ni=0,st=null,vt=null,At=null,nl=!1,Vo=!1,No=0,yy=0;function zt(){throw Error(r(321))}function nc(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!Un(t[s],n[s]))return!1;return!0}function rc(t,n,s,u,h,p){if(Ni=p,st=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,tl.current=t===null||t.memoizedState===null?wy:Ty,t=s(u,h),Vo){p=0;do{if(Vo=!1,No=0,25<=p)throw Error(r(301));p+=1,At=vt=null,n.updateQueue=null,tl.current=Iy,t=s(u,h)}while(Vo)}if(tl.current=sl,n=vt!==null&&vt.next!==null,Ni=0,At=vt=st=null,nl=!1,n)throw Error(r(300));return t}function ic(){var t=No!==0;return No=0,t}function nr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?st.memoizedState=At=t:At=At.next=t,At}function Rn(){if(vt===null){var t=st.alternate;t=t!==null?t.memoizedState:null}else t=vt.next;var n=At===null?st.memoizedState:At.next;if(n!==null)At=n,vt=t;else{if(t===null)throw Error(r(310));vt=t,t={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},At===null?st.memoizedState=At=t:At=At.next=t}return At}function Do(t,n){return typeof n=="function"?n(t):n}function sc(t){var n=Rn(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var u=vt,h=u.baseQueue,p=s.pending;if(p!==null){if(h!==null){var y=h.next;h.next=p.next,p.next=y}u.baseQueue=h=p,s.pending=null}if(h!==null){p=h.next,u=u.baseState;var w=y=null,R=null,j=p;do{var H=j.lane;if((Ni&H)===H)R!==null&&(R=R.next={lane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),u=j.hasEagerState?j.eagerState:t(u,j.action);else{var Q={lane:H,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null};R===null?(w=R=Q,y=u):R=R.next=Q,st.lanes|=H,Di|=H}j=j.next}while(j!==null&&j!==p);R===null?y=u:R.next=w,Un(u,n.memoizedState)||(en=!0),n.memoizedState=u,n.baseState=y,n.baseQueue=R,s.lastRenderedState=u}if(t=s.interleaved,t!==null){h=t;do p=h.lane,st.lanes|=p,Di|=p,h=h.next;while(h!==t)}else h===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function oc(t){var n=Rn(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var u=s.dispatch,h=s.pending,p=n.memoizedState;if(h!==null){s.pending=null;var y=h=h.next;do p=t(p,y.action),y=y.next;while(y!==h);Un(p,n.memoizedState)||(en=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),s.lastRenderedState=p}return[p,u]}function td(){}function nd(t,n){var s=st,u=Rn(),h=n(),p=!Un(u.memoizedState,h);if(p&&(u.memoizedState=h,en=!0),u=u.queue,ac(sd.bind(null,s,u,t),[t]),u.getSnapshot!==n||p||At!==null&&At.memoizedState.tag&1){if(s.flags|=2048,Lo(9,id.bind(null,s,u,h,n),void 0,null),Rt===null)throw Error(r(349));(Ni&30)!==0||rd(s,n,h)}return h}function rd(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=st.updateQueue,n===null?(n={lastEffect:null,stores:null},st.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function id(t,n,s,u){n.value=s,n.getSnapshot=u,od(n)&&ad(t)}function sd(t,n,s){return s(function(){od(n)&&ad(t)})}function od(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!Un(t,s)}catch{return!0}}function ad(t){var n=wr(t,1);n!==null&&qn(n,t,1,-1)}function ld(t){var n=nr();return typeof t=="function"&&(t=t()),n.memoizedState=n.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:t},n.queue=t,t=t.dispatch=Ey.bind(null,st,t),[n.memoizedState,t]}function Lo(t,n,s,u){return t={tag:t,create:n,destroy:s,deps:u,next:null},n=st.updateQueue,n===null?(n={lastEffect:null,stores:null},st.updateQueue=n,n.lastEffect=t.next=t):(s=n.lastEffect,s===null?n.lastEffect=t.next=t:(u=s.next,s.next=t,t.next=u,n.lastEffect=t)),t}function ud(){return Rn().memoizedState}function rl(t,n,s,u){var h=nr();st.flags|=t,h.memoizedState=Lo(1|n,s,void 0,u===void 0?null:u)}function il(t,n,s,u){var h=Rn();u=u===void 0?null:u;var p=void 0;if(vt!==null){var y=vt.memoizedState;if(p=y.destroy,u!==null&&nc(u,y.deps)){h.memoizedState=Lo(n,s,p,u);return}}st.flags|=t,h.memoizedState=Lo(1|n,s,p,u)}function cd(t,n){return rl(8390656,8,t,n)}function ac(t,n){return il(2048,8,t,n)}function hd(t,n){return il(4,2,t,n)}function fd(t,n){return il(4,4,t,n)}function dd(t,n){if(typeof n=="function")return t=t(),n(t),function(){n(null)};if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function pd(t,n,s){return s=s!=null?s.concat([t]):null,il(4,4,dd.bind(null,n,t),s)}function lc(){}function md(t,n){var s=Rn();n=n===void 0?null:n;var u=s.memoizedState;return u!==null&&n!==null&&nc(n,u[1])?u[0]:(s.memoizedState=[t,n],t)}function gd(t,n){var s=Rn();n=n===void 0?null:n;var u=s.memoizedState;return u!==null&&n!==null&&nc(n,u[1])?u[0]:(t=t(),s.memoizedState=[t,n],t)}function yd(t,n,s){return(Ni&21)===0?(t.baseState&&(t.baseState=!1,en=!0),t.memoizedState=s):(Un(s,n)||(s=wi(),st.lanes|=s,Di|=s,t.baseState=!0),n)}function _y(t,n){var s=Ve;Ve=s!==0&&4>s?s:4,t(!0);var u=tc.transition;tc.transition={};try{t(!1),n()}finally{Ve=s,tc.transition=u}}function _d(){return Rn().memoizedState}function vy(t,n,s){var u=Jr(t);if(s={lane:u,action:s,hasEagerState:!1,eagerState:null,next:null},vd(t))Ed(n,s);else if(s=Yf(t,n,s,u),s!==null){var h=Gt();qn(s,t,u,h),wd(s,n,u)}}function Ey(t,n,s){var u=Jr(t),h={lane:u,action:s,hasEagerState:!1,eagerState:null,next:null};if(vd(t))Ed(n,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var y=n.lastRenderedState,w=p(y,s);if(h.hasEagerState=!0,h.eagerState=w,Un(w,y)){var R=n.interleaved;R===null?(h.next=h,Gu(n)):(h.next=R.next,R.next=h),n.interleaved=h;return}}catch{}finally{}s=Yf(t,n,h,u),s!==null&&(h=Gt(),qn(s,t,u,h),wd(s,n,u))}}function vd(t){var n=t.alternate;return t===st||n!==null&&n===st}function Ed(t,n){Vo=nl=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function wd(t,n,s){if((s&4194240)!==0){var u=n.lanes;u&=t.pendingLanes,s|=u,n.lanes=s,Fr(t,s)}}var sl={readContext:An,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},wy={readContext:An,useCallback:function(t,n){return nr().memoizedState=[t,n===void 0?null:n],t},useContext:An,useEffect:cd,useImperativeHandle:function(t,n,s){return s=s!=null?s.concat([t]):null,rl(4194308,4,dd.bind(null,n,t),s)},useLayoutEffect:function(t,n){return rl(4194308,4,t,n)},useInsertionEffect:function(t,n){return rl(4,2,t,n)},useMemo:function(t,n){var s=nr();return n=n===void 0?null:n,t=t(),s.memoizedState=[t,n],t},useReducer:function(t,n,s){var u=nr();return n=s!==void 0?s(n):n,u.memoizedState=u.baseState=n,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},u.queue=t,t=t.dispatch=vy.bind(null,st,t),[u.memoizedState,t]},useRef:function(t){var n=nr();return t={current:t},n.memoizedState=t},useState:ld,useDebugValue:lc,useDeferredValue:function(t){return nr().memoizedState=t},useTransition:function(){var t=ld(!1),n=t[0];return t=_y.bind(null,t[1]),nr().memoizedState=t,[n,t]},useMutableSource:function(){},useSyncExternalStore:function(t,n,s){var u=st,h=nr();if(tt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),Rt===null)throw Error(r(349));(Ni&30)!==0||rd(u,n,s)}h.memoizedState=s;var p={value:s,getSnapshot:n};return h.queue=p,cd(sd.bind(null,u,p,t),[t]),u.flags|=2048,Lo(9,id.bind(null,u,p,s,n),void 0,null),s},useId:function(){var t=nr(),n=Rt.identifierPrefix;if(tt){var s=Er,u=vr;s=(u&~(1<<32-Wt(u)-1)).toString(32)+s,n=":"+n+"R"+s,s=No++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=yy++,n=":"+n+"r"+s.toString(32)+":";return t.memoizedState=n},unstable_isNewReconciler:!1},Ty={readContext:An,useCallback:md,useContext:An,useEffect:ac,useImperativeHandle:pd,useInsertionEffect:hd,useLayoutEffect:fd,useMemo:gd,useReducer:sc,useRef:ud,useState:function(){return sc(Do)},useDebugValue:lc,useDeferredValue:function(t){var n=Rn();return yd(n,vt.memoizedState,t)},useTransition:function(){var t=sc(Do)[0],n=Rn().memoizedState;return[t,n]},useMutableSource:td,useSyncExternalStore:nd,useId:_d,unstable_isNewReconciler:!1},Iy={readContext:An,useCallback:md,useContext:An,useEffect:ac,useImperativeHandle:pd,useInsertionEffect:hd,useLayoutEffect:fd,useMemo:gd,useReducer:oc,useRef:ud,useState:function(){return oc(Do)},useDebugValue:lc,useDeferredValue:function(t){var n=Rn();return vt===null?n.memoizedState=t:yd(n,vt.memoizedState,t)},useTransition:function(){var t=oc(Do)[0],n=Rn().memoizedState;return[t,n]},useMutableSource:td,useSyncExternalStore:nd,useId:_d,unstable_isNewReconciler:!1};function Bn(t,n){if(t&&t.defaultProps){n=te({},n),t=t.defaultProps;for(var s in t)n[s]===void 0&&(n[s]=t[s]);return n}return n}function uc(t,n,s,u){n=t.memoizedState,s=s(u,n),s=s==null?n:te({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var ol={isMounted:function(t){return(t=t._reactInternals)?Nn(t)===t:!1},enqueueSetState:function(t,n,s){t=t._reactInternals;var u=Gt(),h=Jr(t),p=Tr(u,h);p.payload=n,s!=null&&(p.callback=s),n=Kr(t,p,h),n!==null&&(qn(n,t,h,u),Ja(n,t,h))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var u=Gt(),h=Jr(t),p=Tr(u,h);p.tag=1,p.payload=n,s!=null&&(p.callback=s),n=Kr(t,p,h),n!==null&&(qn(n,t,h,u),Ja(n,t,h))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Gt(),u=Jr(t),h=Tr(s,u);h.tag=2,n!=null&&(h.callback=n),n=Kr(t,h,u),n!==null&&(qn(n,t,u,s),Ja(n,t,u))}};function Td(t,n,s,u,h,p,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,y):n.prototype&&n.prototype.isPureReactComponent?!Eo(s,u)||!Eo(h,p):!0}function Id(t,n,s){var u=!1,h=Hr,p=n.contextType;return typeof p=="object"&&p!==null?p=An(p):(h=Zt(n)?Ci:Ut.current,u=n.contextTypes,p=(u=u!=null)?ws(t,h):Hr),n=new n(s,p),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=ol,t.stateNode=n,n._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=p),n}function Sd(t,n,s,u){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,u),n.state!==t&&ol.enqueueReplaceState(n,n.state,null)}function cc(t,n,s,u){var h=t.stateNode;h.props=s,h.state=t.memoizedState,h.refs={},Yu(t);var p=n.contextType;typeof p=="object"&&p!==null?h.context=An(p):(p=Zt(n)?Ci:Ut.current,h.context=ws(t,p)),h.state=t.memoizedState,p=n.getDerivedStateFromProps,typeof p=="function"&&(uc(t,n,p,s),h.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(n=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),n!==h.state&&ol.enqueueReplaceState(h,h.state,null),Za(t,s,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function ks(t,n){try{var s="",u=n;do s+=Re(u),u=u.return;while(u);var h=s}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:n,stack:h,digest:null}}function hc(t,n,s){return{value:t,source:null,stack:s??null,digest:n??null}}function fc(t,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var Sy=typeof WeakMap=="function"?WeakMap:Map;function Ad(t,n,s){s=Tr(-1,s),s.tag=3,s.payload={element:null};var u=n.value;return s.callback=function(){dl||(dl=!0,Cc=u),fc(t,n)},s}function Rd(t,n,s){s=Tr(-1,s),s.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=n.value;s.payload=function(){return u(h)},s.callback=function(){fc(t,n)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(s.callback=function(){fc(t,n),typeof u!="function"&&(Yr===null?Yr=new Set([this]):Yr.add(this));var y=n.stack;this.componentDidCatch(n.value,{componentStack:y!==null?y:""})}),s}function Cd(t,n,s){var u=t.pingCache;if(u===null){u=t.pingCache=new Sy;var h=new Set;u.set(n,h)}else h=u.get(n),h===void 0&&(h=new Set,u.set(n,h));h.has(s)||(h.add(s),t=jy.bind(null,t,n,s),n.then(t,t))}function Pd(t){do{var n;if((n=t.tag===13)&&(n=t.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return t;t=t.return}while(t!==null);return null}function kd(t,n,s,u,h){return(t.mode&1)===0?(t===n?t.flags|=65536:(t.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=Tr(-1,1),n.tag=2,Kr(s,n,1))),s.lanes|=1),t):(t.flags|=65536,t.lanes=h,t)}var Ay=ve.ReactCurrentOwner,en=!1;function Kt(t,n,s,u){n.child=t===null?Gf(n,null,s,u):As(n,t.child,s,u)}function xd(t,n,s,u,h){s=s.render;var p=n.ref;return Cs(n,h),u=rc(t,n,s,u,p,h),s=ic(),t!==null&&!en?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~h,Ir(t,n,h)):(tt&&s&&zu(n),n.flags|=1,Kt(t,n,u,h),n.child)}function Vd(t,n,s,u,h){if(t===null){var p=s.type;return typeof p=="function"&&!Lc(p)&&p.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=p,Nd(t,n,p,u,h)):(t=vl(s.type,null,u,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(p=t.child,(t.lanes&h)===0){var y=p.memoizedProps;if(s=s.compare,s=s!==null?s:Eo,s(y,u)&&t.ref===n.ref)return Ir(t,n,h)}return n.flags|=1,t=ei(p,u),t.ref=n.ref,t.return=n,n.child=t}function Nd(t,n,s,u,h){if(t!==null){var p=t.memoizedProps;if(Eo(p,u)&&t.ref===n.ref)if(en=!1,n.pendingProps=u=p,(t.lanes&h)!==0)(t.flags&131072)!==0&&(en=!0);else return n.lanes=t.lanes,Ir(t,n,h)}return dc(t,n,s,u,h)}function Dd(t,n,s){var u=n.pendingProps,h=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(Vs,mn),mn|=s;else{if((s&1073741824)===0)return t=p!==null?p.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:t,cachePool:null,transitions:null},n.updateQueue=null,Ge(Vs,mn),mn|=t,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:s,Ge(Vs,mn),mn|=u}else p!==null?(u=p.baseLanes|s,n.memoizedState=null):u=s,Ge(Vs,mn),mn|=u;return Kt(t,n,h,s),n.child}function Ld(t,n){var s=n.ref;(t===null&&s!==null||t!==null&&t.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function dc(t,n,s,u,h){var p=Zt(s)?Ci:Ut.current;return p=ws(n,p),Cs(n,h),s=rc(t,n,s,u,p,h),u=ic(),t!==null&&!en?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~h,Ir(t,n,h)):(tt&&u&&zu(n),n.flags|=1,Kt(t,n,s,h),n.child)}function Od(t,n,s,u,h){if(Zt(s)){var p=!0;qa(n)}else p=!1;if(Cs(n,h),n.stateNode===null)ll(t,n),Id(n,s,u),cc(n,s,u,h),u=!0;else if(t===null){var y=n.stateNode,w=n.memoizedProps;y.props=w;var R=y.context,j=s.contextType;typeof j=="object"&&j!==null?j=An(j):(j=Zt(s)?Ci:Ut.current,j=ws(n,j));var H=s.getDerivedStateFromProps,Q=typeof H=="function"||typeof y.getSnapshotBeforeUpdate=="function";Q||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==u||R!==j)&&Sd(n,y,u,j),Qr=!1;var $=n.memoizedState;y.state=$,Za(n,u,y,h),R=n.memoizedState,w!==u||$!==R||Jt.current||Qr?(typeof H=="function"&&(uc(n,s,H,u),R=n.memoizedState),(w=Qr||Td(n,s,w,u,$,R,j))?(Q||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=R),y.props=u,y.state=R,y.context=j,u=w):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{y=n.stateNode,Xf(t,n),w=n.memoizedProps,j=n.type===n.elementType?w:Bn(n.type,w),y.props=j,Q=n.pendingProps,$=y.context,R=s.contextType,typeof R=="object"&&R!==null?R=An(R):(R=Zt(s)?Ci:Ut.current,R=ws(n,R));var re=s.getDerivedStateFromProps;(H=typeof re=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==Q||$!==R)&&Sd(n,y,u,R),Qr=!1,$=n.memoizedState,y.state=$,Za(n,u,y,h);var se=n.memoizedState;w!==Q||$!==se||Jt.current||Qr?(typeof re=="function"&&(uc(n,s,re,u),se=n.memoizedState),(j=Qr||Td(n,s,j,u,$,se,R)||!1)?(H||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,se,R),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,se,R)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===t.memoizedProps&&$===t.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&$===t.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=se),y.props=u,y.state=se,y.context=R,u=j):(typeof y.componentDidUpdate!="function"||w===t.memoizedProps&&$===t.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&$===t.memoizedState||(n.flags|=1024),u=!1)}return pc(t,n,s,u,p,h)}function pc(t,n,s,u,h,p){Ld(t,n);var y=(n.flags&128)!==0;if(!u&&!y)return h&&zf(n,s,!1),Ir(t,n,p);u=n.stateNode,Ay.current=n;var w=y&&typeof s.getDerivedStateFromError!="function"?null:u.render();return n.flags|=1,t!==null&&y?(n.child=As(n,t.child,null,p),n.child=As(n,null,w,p)):Kt(t,n,w,p),n.memoizedState=u.state,h&&zf(n,s,!0),n.child}function Md(t){var n=t.stateNode;n.pendingContext?jf(t,n.pendingContext,n.pendingContext!==n.context):n.context&&jf(t,n.context,!1),Xu(t,n.containerInfo)}function Fd(t,n,s,u,h){return Ss(),qu(h),n.flags|=256,Kt(t,n,s,u),n.child}var mc={dehydrated:null,treeContext:null,retryLane:0};function gc(t){return{baseLanes:t,cachePool:null,transitions:null}}function jd(t,n,s){var u=n.pendingProps,h=it.current,p=!1,y=(n.flags&128)!==0,w;if((w=y)||(w=t!==null&&t.memoizedState===null?!1:(h&2)!==0),w?(p=!0,n.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),Ge(it,h&1),t===null)return $u(n),t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((n.mode&1)===0?n.lanes=1:t.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(y=u.children,t=u.fallback,p?(u=n.mode,p=n.child,y={mode:"hidden",children:y},(u&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=y):p=El(y,u,0,null),t=Fi(t,u,s,null),p.return=n,t.return=n,p.sibling=t,n.child=p,n.child.memoizedState=gc(s),n.memoizedState=mc,t):yc(n,y));if(h=t.memoizedState,h!==null&&(w=h.dehydrated,w!==null))return Ry(t,n,y,u,w,h,s);if(p){p=u.fallback,y=n.mode,h=t.child,w=h.sibling;var R={mode:"hidden",children:u.children};return(y&1)===0&&n.child!==h?(u=n.child,u.childLanes=0,u.pendingProps=R,n.deletions=null):(u=ei(h,R),u.subtreeFlags=h.subtreeFlags&14680064),w!==null?p=ei(w,p):(p=Fi(p,y,s,null),p.flags|=2),p.return=n,u.return=n,u.sibling=p,n.child=u,u=p,p=n.child,y=t.child.memoizedState,y=y===null?gc(s):{baseLanes:y.baseLanes|s,cachePool:null,transitions:y.transitions},p.memoizedState=y,p.childLanes=t.childLanes&~s,n.memoizedState=mc,u}return p=t.child,t=p.sibling,u=ei(p,{mode:"visible",children:u.children}),(n.mode&1)===0&&(u.lanes=s),u.return=n,u.sibling=null,t!==null&&(s=n.deletions,s===null?(n.deletions=[t],n.flags|=16):s.push(t)),n.child=u,n.memoizedState=null,u}function yc(t,n){return n=El({mode:"visible",children:n},t.mode,0,null),n.return=t,t.child=n}function al(t,n,s,u){return u!==null&&qu(u),As(n,t.child,null,s),t=yc(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ry(t,n,s,u,h,p,y){if(s)return n.flags&256?(n.flags&=-257,u=hc(Error(r(422))),al(t,n,y,u)):n.memoizedState!==null?(n.child=t.child,n.flags|=128,null):(p=u.fallback,h=n.mode,u=El({mode:"visible",children:u.children},h,0,null),p=Fi(p,h,y,null),p.flags|=2,u.return=n,p.return=n,u.sibling=p,n.child=u,(n.mode&1)!==0&&As(n,t.child,null,y),n.child.memoizedState=gc(y),n.memoizedState=mc,p);if((n.mode&1)===0)return al(t,n,y,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var w=u.dgst;return u=w,p=Error(r(419)),u=hc(p,u,void 0),al(t,n,y,u)}if(w=(y&t.childLanes)!==0,en||w){if(u=Rt,u!==null){switch(y&-y){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(u.suspendedLanes|y))!==0?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,wr(t,h),qn(u,t,h,-1))}return Dc(),u=hc(Error(r(421))),al(t,n,y,u)}return h.data==="$?"?(n.flags|=128,n.child=t.child,n=Uy.bind(null,t),h._reactRetry=n,null):(t=p.treeContext,pn=$r(h.nextSibling),dn=n,tt=!0,zn=null,t!==null&&(In[Sn++]=vr,In[Sn++]=Er,In[Sn++]=Pi,vr=t.id,Er=t.overflow,Pi=n),n=yc(n,u.children),n.flags|=4096,n)}function Ud(t,n,s){t.lanes|=n;var u=t.alternate;u!==null&&(u.lanes|=n),Ku(t.return,n,s)}function _c(t,n,s,u,h){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:h}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=s,p.tailMode=h)}function zd(t,n,s){var u=n.pendingProps,h=u.revealOrder,p=u.tail;if(Kt(t,n,u.children,s),u=it.current,(u&2)!==0)u=u&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ud(t,s,n);else if(t.tag===19)Ud(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(Ge(it,u),(n.mode&1)===0)n.memoizedState=null;else switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&el(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),_c(n,!1,h,s,p);break;case"backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&el(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}_c(n,!0,s,null,p);break;case"together":_c(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ll(t,n){(n.mode&1)===0&&t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2)}function Ir(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Di|=n.lanes,(s&n.childLanes)===0)return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,s=ei(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=ei(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Cy(t,n,s){switch(n.tag){case 3:Md(n),Ss();break;case 5:ed(n);break;case 1:Zt(n.type)&&qa(n);break;case 4:Xu(n,n.stateNode.containerInfo);break;case 10:var u=n.type._context,h=n.memoizedProps.value;Ge(Ya,u._currentValue),u._currentValue=h;break;case 13:if(u=n.memoizedState,u!==null)return u.dehydrated!==null?(Ge(it,it.current&1),n.flags|=128,null):(s&n.child.childLanes)!==0?jd(t,n,s):(Ge(it,it.current&1),t=Ir(t,n,s),t!==null?t.sibling:null);Ge(it,it.current&1);break;case 19:if(u=(s&n.childLanes)!==0,(t.flags&128)!==0){if(u)return zd(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ge(it,it.current),u)break;return null;case 22:case 23:return n.lanes=0,Dd(t,n,s)}return Ir(t,n,s)}var Bd,vc,bd,$d;Bd=function(t,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},vc=function(){},bd=function(t,n,s,u){var h=t.memoizedProps;if(h!==u){t=n.stateNode,Vi(tr.current);var p=null;switch(s){case"input":h=Ye(t,h),u=Ye(t,u),p=[];break;case"select":h=te({},h,{value:void 0}),u=te({},u,{value:void 0}),p=[];break;case"textarea":h=Vr(t,h),u=Vr(t,u),p=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=Ba)}eo(s,u);var y;s=null;for(j in h)if(!u.hasOwnProperty(j)&&h.hasOwnProperty(j)&&h[j]!=null)if(j==="style"){var w=h[j];for(y in w)w.hasOwnProperty(y)&&(s||(s={}),s[y]="")}else j!=="dangerouslySetInnerHTML"&&j!=="children"&&j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(l.hasOwnProperty(j)?p||(p=[]):(p=p||[]).push(j,null));for(j in u){var R=u[j];if(w=h!=null?h[j]:void 0,u.hasOwnProperty(j)&&R!==w&&(R!=null||w!=null))if(j==="style")if(w){for(y in w)!w.hasOwnProperty(y)||R&&R.hasOwnProperty(y)||(s||(s={}),s[y]="");for(y in R)R.hasOwnProperty(y)&&w[y]!==R[y]&&(s||(s={}),s[y]=R[y])}else s||(p||(p=[]),p.push(j,s)),s=R;else j==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,w=w?w.__html:void 0,R!=null&&w!==R&&(p=p||[]).push(j,R)):j==="children"?typeof R!="string"&&typeof R!="number"||(p=p||[]).push(j,""+R):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&(l.hasOwnProperty(j)?(R!=null&&j==="onScroll"&&Xe("scroll",t),p||w===R||(p=[])):(p=p||[]).push(j,R))}s&&(p=p||[]).push("style",s);var j=p;(n.updateQueue=j)&&(n.flags|=4)}},$d=function(t,n,s,u){s!==u&&(n.flags|=4)};function Oo(t,n){if(!tt)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Bt(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,u=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=s,n}function Py(t,n,s){var u=n.pendingProps;switch(Bu(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(n),null;case 1:return Zt(n.type)&&$a(),Bt(n),null;case 3:return u=n.stateNode,Ps(),Je(Jt),Je(Ut),ec(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(Ka(n)?n.flags|=4:t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,zn!==null&&(xc(zn),zn=null))),vc(t,n),Bt(n),null;case 5:Ju(n);var h=Vi(xo.current);if(s=n.type,t!==null&&n.stateNode!=null)bd(t,n,s,u,h),t.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!u){if(n.stateNode===null)throw Error(r(166));return Bt(n),null}if(t=Vi(tr.current),Ka(n)){u=n.stateNode,s=n.type;var p=n.memoizedProps;switch(u[er]=n,u[Ao]=p,t=(n.mode&1)!==0,s){case"dialog":Xe("cancel",u),Xe("close",u);break;case"iframe":case"object":case"embed":Xe("load",u);break;case"video":case"audio":for(h=0;h<To.length;h++)Xe(To[h],u);break;case"source":Xe("error",u);break;case"img":case"image":case"link":Xe("error",u),Xe("load",u);break;case"details":Xe("toggle",u);break;case"input":kn(u,p),Xe("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},Xe("invalid",u);break;case"textarea":Wn(u,p),Xe("invalid",u)}eo(s,p),h=null;for(var y in p)if(p.hasOwnProperty(y)){var w=p[y];y==="children"?typeof w=="string"?u.textContent!==w&&(p.suppressHydrationWarning!==!0&&za(u.textContent,w,t),h=["children",w]):typeof w=="number"&&u.textContent!==""+w&&(p.suppressHydrationWarning!==!0&&za(u.textContent,w,t),h=["children",""+w]):l.hasOwnProperty(y)&&w!=null&&y==="onScroll"&&Xe("scroll",u)}switch(s){case"input":he(u),rt(u,p,!0);break;case"textarea":he(u),at(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=Ba)}u=h,n.updateQueue=u,u!==null&&(n.flags|=4)}else{y=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=He(s)),t==="http://www.w3.org/1999/xhtml"?s==="script"?(t=y.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=y.createElement(s,{is:u.is}):(t=y.createElement(s),s==="select"&&(y=t,u.multiple?y.multiple=!0:u.size&&(y.size=u.size))):t=y.createElementNS(t,s),t[er]=n,t[Ao]=u,Bd(t,n,!1,!1),n.stateNode=t;e:{switch(y=to(s,u),s){case"dialog":Xe("cancel",t),Xe("close",t),h=u;break;case"iframe":case"object":case"embed":Xe("load",t),h=u;break;case"video":case"audio":for(h=0;h<To.length;h++)Xe(To[h],t);h=u;break;case"source":Xe("error",t),h=u;break;case"img":case"image":case"link":Xe("error",t),Xe("load",t),h=u;break;case"details":Xe("toggle",t),h=u;break;case"input":kn(t,u),h=Ye(t,u),Xe("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=te({},u,{value:void 0}),Xe("invalid",t);break;case"textarea":Wn(t,u),h=Vr(t,u),Xe("invalid",t);break;default:h=u}eo(s,h),w=h;for(p in w)if(w.hasOwnProperty(p)){var R=w[p];p==="style"?Js(t,R):p==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&Ys(t,R)):p==="children"?typeof R=="string"?(s!=="textarea"||R!=="")&&Nr(t,R):typeof R=="number"&&Nr(t,""+R):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(l.hasOwnProperty(p)?R!=null&&p==="onScroll"&&Xe("scroll",t):R!=null&&ye(t,p,R,y))}switch(s){case"input":he(t),rt(t,u,!1);break;case"textarea":he(t),at(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Oe(u.value));break;case"select":t.multiple=!!u.multiple,p=u.value,p!=null?ln(t,!!u.multiple,p,!1):u.defaultValue!=null&&ln(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=Ba)}switch(s){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Bt(n),null;case 6:if(t&&n.stateNode!=null)$d(t,n,t.memoizedProps,u);else{if(typeof u!="string"&&n.stateNode===null)throw Error(r(166));if(s=Vi(xo.current),Vi(tr.current),Ka(n)){if(u=n.stateNode,s=n.memoizedProps,u[er]=n,(p=u.nodeValue!==s)&&(t=dn,t!==null))switch(t.tag){case 3:za(u.nodeValue,s,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&za(u.nodeValue,s,(t.mode&1)!==0)}p&&(n.flags|=4)}else u=(s.nodeType===9?s:s.ownerDocument).createTextNode(u),u[er]=n,n.stateNode=u}return Bt(n),null;case 13:if(Je(it),u=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tt&&pn!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Wf(),Ss(),n.flags|=98560,p=!1;else if(p=Ka(n),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(r(318));if(p=n.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[er]=n}else Ss(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Bt(n),p=!1}else zn!==null&&(xc(zn),zn=null),p=!0;if(!p)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=s,n):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(n.child.flags|=8192,(n.mode&1)!==0&&(t===null||(it.current&1)!==0?Et===0&&(Et=3):Dc())),n.updateQueue!==null&&(n.flags|=4),Bt(n),null);case 4:return Ps(),vc(t,n),t===null&&Io(n.stateNode.containerInfo),Bt(n),null;case 10:return Qu(n.type._context),Bt(n),null;case 17:return Zt(n.type)&&$a(),Bt(n),null;case 19:if(Je(it),p=n.memoizedState,p===null)return Bt(n),null;if(u=(n.flags&128)!==0,y=p.rendering,y===null)if(u)Oo(p,!1);else{if(Et!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(y=el(t),y!==null){for(n.flags|=128,Oo(p,!1),u=y.updateQueue,u!==null&&(n.updateQueue=u,n.flags|=4),n.subtreeFlags=0,u=s,s=n.child;s!==null;)p=s,t=u,p.flags&=14680066,y=p.alternate,y===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=y.childLanes,p.lanes=y.lanes,p.child=y.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=y.memoizedProps,p.memoizedState=y.memoizedState,p.updateQueue=y.updateQueue,p.type=y.type,t=y.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),s=s.sibling;return Ge(it,it.current&1|2),n.child}t=t.sibling}p.tail!==null&&Ke()>Ns&&(n.flags|=128,u=!0,Oo(p,!1),n.lanes=4194304)}else{if(!u)if(t=el(y),t!==null){if(n.flags|=128,u=!0,s=t.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),Oo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!tt)return Bt(n),null}else 2*Ke()-p.renderingStartTime>Ns&&s!==1073741824&&(n.flags|=128,u=!0,Oo(p,!1),n.lanes=4194304);p.isBackwards?(y.sibling=n.child,n.child=y):(s=p.last,s!==null?s.sibling=y:n.child=y,p.last=y)}return p.tail!==null?(n=p.tail,p.rendering=n,p.tail=n.sibling,p.renderingStartTime=Ke(),n.sibling=null,s=it.current,Ge(it,u?s&1|2:s&1),n):(Bt(n),null);case 22:case 23:return Nc(),u=n.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(n.flags|=8192),u&&(n.mode&1)!==0?(mn&1073741824)!==0&&(Bt(n),n.subtreeFlags&6&&(n.flags|=8192)):Bt(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function ky(t,n){switch(Bu(n),n.tag){case 1:return Zt(n.type)&&$a(),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ps(),Je(Jt),Je(Ut),ec(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 5:return Ju(n),null;case 13:if(Je(it),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Ss()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Je(it),null;case 4:return Ps(),null;case 10:return Qu(n.type._context),null;case 22:case 23:return Nc(),null;case 24:return null;default:return null}}var ul=!1,bt=!1,xy=typeof WeakSet=="function"?WeakSet:Set,ie=null;function xs(t,n){var s=t.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(u){lt(t,n,u)}else s.current=null}function Ec(t,n,s){try{s()}catch(u){lt(t,n,u)}}var qd=!1;function Vy(t,n){if(Nu=zr,t=Tf(),Su(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{s.nodeType,p.nodeType}catch{s=null;break e}var y=0,w=-1,R=-1,j=0,H=0,Q=t,$=null;t:for(;;){for(var re;Q!==s||h!==0&&Q.nodeType!==3||(w=y+h),Q!==p||u!==0&&Q.nodeType!==3||(R=y+u),Q.nodeType===3&&(y+=Q.nodeValue.length),(re=Q.firstChild)!==null;)$=Q,Q=re;for(;;){if(Q===t)break t;if($===s&&++j===h&&(w=y),$===p&&++H===u&&(R=y),(re=Q.nextSibling)!==null)break;Q=$,$=Q.parentNode}Q=re}s=w===-1||R===-1?null:{start:w,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(Du={focusedElem:t,selectionRange:s},zr=!1,ie=n;ie!==null;)if(n=ie,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ie=t;else for(;ie!==null;){n=ie;try{var se=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(se!==null){var oe=se.memoizedProps,ct=se.memoizedState,M=n.stateNode,P=M.getSnapshotBeforeUpdate(n.elementType===n.type?oe:Bn(n.type,oe),ct);M.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var F=n.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Y){lt(n,n.return,Y)}if(t=n.sibling,t!==null){t.return=n.return,ie=t;break}ie=n.return}return se=qd,qd=!1,se}function Mo(t,n,s){var u=n.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var p=h.destroy;h.destroy=void 0,p!==void 0&&Ec(n,s,p)}h=h.next}while(h!==u)}}function cl(t,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var u=s.create;s.destroy=u()}s=s.next}while(s!==n)}}function wc(t){var n=t.ref;if(n!==null){var s=t.stateNode;switch(t.tag){case 5:t=s;break;default:t=s}typeof n=="function"?n(t):n.current=t}}function Hd(t){var n=t.alternate;n!==null&&(t.alternate=null,Hd(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&(delete n[er],delete n[Ao],delete n[Fu],delete n[dy],delete n[py])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Wd(t){return t.tag===5||t.tag===3||t.tag===4}function Qd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Wd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Tc(t,n,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(t,n):s.insertBefore(t,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(t,s)):(n=s,n.appendChild(t)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Ba));else if(u!==4&&(t=t.child,t!==null))for(Tc(t,n,s),t=t.sibling;t!==null;)Tc(t,n,s),t=t.sibling}function Ic(t,n,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(Ic(t,n,s),t=t.sibling;t!==null;)Ic(t,n,s),t=t.sibling}var Nt=null,bn=!1;function Gr(t,n,s){for(s=s.child;s!==null;)Kd(t,n,s),s=s.sibling}function Kd(t,n,s){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(vi,s)}catch{}switch(s.tag){case 5:bt||xs(s,n);case 6:var u=Nt,h=bn;Nt=null,Gr(t,n,s),Nt=u,bn=h,Nt!==null&&(bn?(t=Nt,s=s.stateNode,t.nodeType===8?t.parentNode.removeChild(s):t.removeChild(s)):Nt.removeChild(s.stateNode));break;case 18:Nt!==null&&(bn?(t=Nt,s=s.stateNode,t.nodeType===8?Mu(t.parentNode,s):t.nodeType===1&&Mu(t,s),Fn(t)):Mu(Nt,s.stateNode));break;case 4:u=Nt,h=bn,Nt=s.stateNode.containerInfo,bn=!0,Gr(t,n,s),Nt=u,bn=h;break;case 0:case 11:case 14:case 15:if(!bt&&(u=s.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var p=h,y=p.destroy;p=p.tag,y!==void 0&&((p&2)!==0||(p&4)!==0)&&Ec(s,n,y),h=h.next}while(h!==u)}Gr(t,n,s);break;case 1:if(!bt&&(xs(s,n),u=s.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=s.memoizedProps,u.state=s.memoizedState,u.componentWillUnmount()}catch(w){lt(s,n,w)}Gr(t,n,s);break;case 21:Gr(t,n,s);break;case 22:s.mode&1?(bt=(u=bt)||s.memoizedState!==null,Gr(t,n,s),bt=u):Gr(t,n,s);break;default:Gr(t,n,s)}}function Gd(t){var n=t.updateQueue;if(n!==null){t.updateQueue=null;var s=t.stateNode;s===null&&(s=t.stateNode=new xy),n.forEach(function(u){var h=zy.bind(null,t,u);s.has(u)||(s.add(u),u.then(h,h))})}}function $n(t,n){var s=n.deletions;if(s!==null)for(var u=0;u<s.length;u++){var h=s[u];try{var p=t,y=n,w=y;e:for(;w!==null;){switch(w.tag){case 5:Nt=w.stateNode,bn=!1;break e;case 3:Nt=w.stateNode.containerInfo,bn=!0;break e;case 4:Nt=w.stateNode.containerInfo,bn=!0;break e}w=w.return}if(Nt===null)throw Error(r(160));Kd(p,y,h),Nt=null,bn=!1;var R=h.alternate;R!==null&&(R.return=null),h.return=null}catch(j){lt(h,n,j)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Yd(n,t),n=n.sibling}function Yd(t,n){var s=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if($n(n,t),rr(t),u&4){try{Mo(3,t,t.return),cl(3,t)}catch(oe){lt(t,t.return,oe)}try{Mo(5,t,t.return)}catch(oe){lt(t,t.return,oe)}}break;case 1:$n(n,t),rr(t),u&512&&s!==null&&xs(s,s.return);break;case 5:if($n(n,t),rr(t),u&512&&s!==null&&xs(s,s.return),t.flags&32){var h=t.stateNode;try{Nr(h,"")}catch(oe){lt(t,t.return,oe)}}if(u&4&&(h=t.stateNode,h!=null)){var p=t.memoizedProps,y=s!==null?s.memoizedProps:p,w=t.type,R=t.updateQueue;if(t.updateQueue=null,R!==null)try{w==="input"&&p.type==="radio"&&p.name!=null&&xr(h,p),to(w,y);var j=to(w,p);for(y=0;y<R.length;y+=2){var H=R[y],Q=R[y+1];H==="style"?Js(h,Q):H==="dangerouslySetInnerHTML"?Ys(h,Q):H==="children"?Nr(h,Q):ye(h,H,Q,j)}switch(w){case"input":Hn(h,p);break;case"textarea":ur(h,p);break;case"select":var $=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var re=p.value;re!=null?ln(h,!!p.multiple,re,!1):$!==!!p.multiple&&(p.defaultValue!=null?ln(h,!!p.multiple,p.defaultValue,!0):ln(h,!!p.multiple,p.multiple?[]:"",!1))}h[Ao]=p}catch(oe){lt(t,t.return,oe)}}break;case 6:if($n(n,t),rr(t),u&4){if(t.stateNode===null)throw Error(r(162));h=t.stateNode,p=t.memoizedProps;try{h.nodeValue=p}catch(oe){lt(t,t.return,oe)}}break;case 3:if($n(n,t),rr(t),u&4&&s!==null&&s.memoizedState.isDehydrated)try{Fn(n.containerInfo)}catch(oe){lt(t,t.return,oe)}break;case 4:$n(n,t),rr(t);break;case 13:$n(n,t),rr(t),h=t.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(Rc=Ke())),u&4&&Gd(t);break;case 22:if(H=s!==null&&s.memoizedState!==null,t.mode&1?(bt=(j=bt)||H,$n(n,t),bt=j):$n(n,t),rr(t),u&8192){if(j=t.memoizedState!==null,(t.stateNode.isHidden=j)&&!H&&(t.mode&1)!==0)for(ie=t,H=t.child;H!==null;){for(Q=ie=H;ie!==null;){switch($=ie,re=$.child,$.tag){case 0:case 11:case 14:case 15:Mo(4,$,$.return);break;case 1:xs($,$.return);var se=$.stateNode;if(typeof se.componentWillUnmount=="function"){u=$,s=$.return;try{n=u,se.props=n.memoizedProps,se.state=n.memoizedState,se.componentWillUnmount()}catch(oe){lt(u,s,oe)}}break;case 5:xs($,$.return);break;case 22:if($.memoizedState!==null){Zd(Q);continue}}re!==null?(re.return=$,ie=re):Zd(Q)}H=H.sibling}e:for(H=null,Q=t;;){if(Q.tag===5){if(H===null){H=Q;try{h=Q.stateNode,j?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(w=Q.stateNode,R=Q.memoizedProps.style,y=R!=null&&R.hasOwnProperty("display")?R.display:null,w.style.display=Xs("display",y))}catch(oe){lt(t,t.return,oe)}}}else if(Q.tag===6){if(H===null)try{Q.stateNode.nodeValue=j?"":Q.memoizedProps}catch(oe){lt(t,t.return,oe)}}else if((Q.tag!==22&&Q.tag!==23||Q.memoizedState===null||Q===t)&&Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===t)break e;for(;Q.sibling===null;){if(Q.return===null||Q.return===t)break e;H===Q&&(H=null),Q=Q.return}H===Q&&(H=null),Q.sibling.return=Q.return,Q=Q.sibling}}break;case 19:$n(n,t),rr(t),u&4&&Gd(t);break;case 21:break;default:$n(n,t),rr(t)}}function rr(t){var n=t.flags;if(n&2){try{e:{for(var s=t.return;s!==null;){if(Wd(s)){var u=s;break e}s=s.return}throw Error(r(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(Nr(h,""),u.flags&=-33);var p=Qd(t);Ic(t,p,h);break;case 3:case 4:var y=u.stateNode.containerInfo,w=Qd(t);Tc(t,w,y);break;default:throw Error(r(161))}}catch(R){lt(t,t.return,R)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ny(t,n,s){ie=t,Xd(t)}function Xd(t,n,s){for(var u=(t.mode&1)!==0;ie!==null;){var h=ie,p=h.child;if(h.tag===22&&u){var y=h.memoizedState!==null||ul;if(!y){var w=h.alternate,R=w!==null&&w.memoizedState!==null||bt;w=ul;var j=bt;if(ul=y,(bt=R)&&!j)for(ie=h;ie!==null;)y=ie,R=y.child,y.tag===22&&y.memoizedState!==null?ep(h):R!==null?(R.return=y,ie=R):ep(h);for(;p!==null;)ie=p,Xd(p),p=p.sibling;ie=h,ul=w,bt=j}Jd(t)}else(h.subtreeFlags&8772)!==0&&p!==null?(p.return=h,ie=p):Jd(t)}}function Jd(t){for(;ie!==null;){var n=ie;if((n.flags&8772)!==0){var s=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:bt||cl(5,n);break;case 1:var u=n.stateNode;if(n.flags&4&&!bt)if(s===null)u.componentDidMount();else{var h=n.elementType===n.type?s.memoizedProps:Bn(n.type,s.memoizedProps);u.componentDidUpdate(h,s.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=n.updateQueue;p!==null&&Zf(n,p,u);break;case 3:var y=n.updateQueue;if(y!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}Zf(n,y,s)}break;case 5:var w=n.stateNode;if(s===null&&n.flags&4){s=w;var R=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&s.focus();break;case"img":R.src&&(s.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var j=n.alternate;if(j!==null){var H=j.memoizedState;if(H!==null){var Q=H.dehydrated;Q!==null&&Fn(Q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}bt||n.flags&512&&wc(n)}catch($){lt(n,n.return,$)}}if(n===t){ie=null;break}if(s=n.sibling,s!==null){s.return=n.return,ie=s;break}ie=n.return}}function Zd(t){for(;ie!==null;){var n=ie;if(n===t){ie=null;break}var s=n.sibling;if(s!==null){s.return=n.return,ie=s;break}ie=n.return}}function ep(t){for(;ie!==null;){var n=ie;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{cl(4,n)}catch(R){lt(n,s,R)}break;case 1:var u=n.stateNode;if(typeof u.componentDidMount=="function"){var h=n.return;try{u.componentDidMount()}catch(R){lt(n,h,R)}}var p=n.return;try{wc(n)}catch(R){lt(n,p,R)}break;case 5:var y=n.return;try{wc(n)}catch(R){lt(n,y,R)}}}catch(R){lt(n,n.return,R)}if(n===t){ie=null;break}var w=n.sibling;if(w!==null){w.return=n.return,ie=w;break}ie=n.return}}var Dy=Math.ceil,hl=ve.ReactCurrentDispatcher,Sc=ve.ReactCurrentOwner,Cn=ve.ReactCurrentBatchConfig,Fe=0,Rt=null,pt=null,Dt=0,mn=0,Vs=qr(0),Et=0,Fo=null,Di=0,fl=0,Ac=0,jo=null,tn=null,Rc=0,Ns=1/0,Sr=null,dl=!1,Cc=null,Yr=null,pl=!1,Xr=null,ml=0,Uo=0,Pc=null,gl=-1,yl=0;function Gt(){return(Fe&6)!==0?Ke():gl!==-1?gl:gl=Ke()}function Jr(t){return(t.mode&1)===0?1:(Fe&2)!==0&&Dt!==0?Dt&-Dt:gy.transition!==null?(yl===0&&(yl=wi()),yl):(t=Ve,t!==0||(t=window.event,t=t===void 0?16:fo(t.type)),t)}function qn(t,n,s,u){if(50<Uo)throw Uo=0,Pc=null,Error(r(185));Mr(t,s,u),((Fe&2)===0||t!==Rt)&&(t===Rt&&((Fe&2)===0&&(fl|=s),Et===4&&Zr(t,Dt)),nn(t,u),s===1&&Fe===0&&(n.mode&1)===0&&(Ns=Ke()+500,Ha&&Wr()))}function nn(t,n){var s=t.callbackNode;fr(t,n);var u=Ei(t,t===Rt?Dt:0);if(u===0)s!==null&&ao(s),t.callbackNode=null,t.callbackPriority=0;else if(n=u&-u,t.callbackPriority!==n){if(s!=null&&ao(s),n===1)t.tag===0?my(np.bind(null,t)):Bf(np.bind(null,t)),hy(function(){(Fe&6)===0&&Wr()}),s=null;else{switch(jr(u)){case 1:s=_i;break;case 4:s=Dr;break;case 16:s=En;break;case 536870912:s=ya;break;default:s=En}s=cp(s,tp.bind(null,t))}t.callbackPriority=n,t.callbackNode=s}}function tp(t,n){if(gl=-1,yl=0,(Fe&6)!==0)throw Error(r(327));var s=t.callbackNode;if(Ds()&&t.callbackNode!==s)return null;var u=Ei(t,t===Rt?Dt:0);if(u===0)return null;if((u&30)!==0||(u&t.expiredLanes)!==0||n)n=_l(t,u);else{n=u;var h=Fe;Fe|=2;var p=ip();(Rt!==t||Dt!==n)&&(Sr=null,Ns=Ke()+500,Oi(t,n));do try{My();break}catch(w){rp(t,w)}while(!0);Wu(),hl.current=p,Fe=h,pt!==null?n=0:(Rt=null,Dt=0,n=Et)}if(n!==0){if(n===2&&(h=cn(t),h!==0&&(u=h,n=kc(t,h))),n===1)throw s=Fo,Oi(t,0),Zr(t,u),nn(t,Ke()),s;if(n===6)Zr(t,u);else{if(h=t.current.alternate,(u&30)===0&&!Ly(h)&&(n=_l(t,u),n===2&&(p=cn(t),p!==0&&(u=p,n=kc(t,p))),n===1))throw s=Fo,Oi(t,0),Zr(t,u),nn(t,Ke()),s;switch(t.finishedWork=h,t.finishedLanes=u,n){case 0:case 1:throw Error(r(345));case 2:Mi(t,tn,Sr);break;case 3:if(Zr(t,u),(u&130023424)===u&&(n=Rc+500-Ke(),10<n)){if(Ei(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){Gt(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=Ou(Mi.bind(null,t,tn,Sr),n);break}Mi(t,tn,Sr);break;case 4:if(Zr(t,u),(u&4194240)===u)break;for(n=t.eventTimes,h=-1;0<u;){var y=31-Wt(u);p=1<<y,y=n[y],y>h&&(h=y),u&=~p}if(u=h,u=Ke()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Dy(u/1960))-u,10<u){t.timeoutHandle=Ou(Mi.bind(null,t,tn,Sr),u);break}Mi(t,tn,Sr);break;case 5:Mi(t,tn,Sr);break;default:throw Error(r(329))}}}return nn(t,Ke()),t.callbackNode===s?tp.bind(null,t):null}function kc(t,n){var s=jo;return t.current.memoizedState.isDehydrated&&(Oi(t,n).flags|=256),t=_l(t,n),t!==2&&(n=tn,tn=s,n!==null&&xc(n)),t}function xc(t){tn===null?tn=t:tn.push.apply(tn,t)}function Ly(t){for(var n=t;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var u=0;u<s.length;u++){var h=s[u],p=h.getSnapshot;h=h.value;try{if(!Un(p(),h))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Zr(t,n){for(n&=~Ac,n&=~fl,t.suspendedLanes|=n,t.pingedLanes&=~n,t=t.expirationTimes;0<n;){var s=31-Wt(n),u=1<<s;t[s]=-1,n&=~u}}function np(t){if((Fe&6)!==0)throw Error(r(327));Ds();var n=Ei(t,0);if((n&1)===0)return nn(t,Ke()),null;var s=_l(t,n);if(t.tag!==0&&s===2){var u=cn(t);u!==0&&(n=u,s=kc(t,u))}if(s===1)throw s=Fo,Oi(t,0),Zr(t,n),nn(t,Ke()),s;if(s===6)throw Error(r(345));return t.finishedWork=t.current.alternate,t.finishedLanes=n,Mi(t,tn,Sr),nn(t,Ke()),null}function Vc(t,n){var s=Fe;Fe|=1;try{return t(n)}finally{Fe=s,Fe===0&&(Ns=Ke()+500,Ha&&Wr())}}function Li(t){Xr!==null&&Xr.tag===0&&(Fe&6)===0&&Ds();var n=Fe;Fe|=1;var s=Cn.transition,u=Ve;try{if(Cn.transition=null,Ve=1,t)return t()}finally{Ve=u,Cn.transition=s,Fe=n,(Fe&6)===0&&Wr()}}function Nc(){mn=Vs.current,Je(Vs)}function Oi(t,n){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;if(s!==-1&&(t.timeoutHandle=-1,cy(s)),pt!==null)for(s=pt.return;s!==null;){var u=s;switch(Bu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&$a();break;case 3:Ps(),Je(Jt),Je(Ut),ec();break;case 5:Ju(u);break;case 4:Ps();break;case 13:Je(it);break;case 19:Je(it);break;case 10:Qu(u.type._context);break;case 22:case 23:Nc()}s=s.return}if(Rt=t,pt=t=ei(t.current,null),Dt=mn=n,Et=0,Fo=null,Ac=fl=Di=0,tn=jo=null,xi!==null){for(n=0;n<xi.length;n++)if(s=xi[n],u=s.interleaved,u!==null){s.interleaved=null;var h=u.next,p=s.pending;if(p!==null){var y=p.next;p.next=h,u.next=y}s.pending=u}xi=null}return t}function rp(t,n){do{var s=pt;try{if(Wu(),tl.current=sl,nl){for(var u=st.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}nl=!1}if(Ni=0,At=vt=st=null,Vo=!1,No=0,Sc.current=null,s===null||s.return===null){Et=1,Fo=n,pt=null;break}e:{var p=t,y=s.return,w=s,R=n;if(n=Dt,w.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var j=R,H=w,Q=H.tag;if((H.mode&1)===0&&(Q===0||Q===11||Q===15)){var $=H.alternate;$?(H.updateQueue=$.updateQueue,H.memoizedState=$.memoizedState,H.lanes=$.lanes):(H.updateQueue=null,H.memoizedState=null)}var re=Pd(y);if(re!==null){re.flags&=-257,kd(re,y,w,p,n),re.mode&1&&Cd(p,j,n),n=re,R=j;var se=n.updateQueue;if(se===null){var oe=new Set;oe.add(R),n.updateQueue=oe}else se.add(R);break e}else{if((n&1)===0){Cd(p,j,n),Dc();break e}R=Error(r(426))}}else if(tt&&w.mode&1){var ct=Pd(y);if(ct!==null){(ct.flags&65536)===0&&(ct.flags|=256),kd(ct,y,w,p,n),qu(ks(R,w));break e}}p=R=ks(R,w),Et!==4&&(Et=2),jo===null?jo=[p]:jo.push(p),p=y;do{switch(p.tag){case 3:p.flags|=65536,n&=-n,p.lanes|=n;var M=Ad(p,R,n);Jf(p,M);break e;case 1:w=R;var P=p.type,F=p.stateNode;if((p.flags&128)===0&&(typeof P.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Yr===null||!Yr.has(F)))){p.flags|=65536,n&=-n,p.lanes|=n;var Y=Rd(p,w,n);Jf(p,Y);break e}}p=p.return}while(p!==null)}op(s)}catch(le){n=le,pt===s&&s!==null&&(pt=s=s.return);continue}break}while(!0)}function ip(){var t=hl.current;return hl.current=sl,t===null?sl:t}function Dc(){(Et===0||Et===3||Et===2)&&(Et=4),Rt===null||(Di&268435455)===0&&(fl&268435455)===0||Zr(Rt,Dt)}function _l(t,n){var s=Fe;Fe|=2;var u=ip();(Rt!==t||Dt!==n)&&(Sr=null,Oi(t,n));do try{Oy();break}catch(h){rp(t,h)}while(!0);if(Wu(),Fe=s,hl.current=u,pt!==null)throw Error(r(261));return Rt=null,Dt=0,Et}function Oy(){for(;pt!==null;)sp(pt)}function My(){for(;pt!==null&&!ma();)sp(pt)}function sp(t){var n=up(t.alternate,t,mn);t.memoizedProps=t.pendingProps,n===null?op(t):pt=n,Sc.current=null}function op(t){var n=t;do{var s=n.alternate;if(t=n.return,(n.flags&32768)===0){if(s=Py(s,n,mn),s!==null){pt=s;return}}else{if(s=ky(s,n),s!==null){s.flags&=32767,pt=s;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Et=6,pt=null;return}}if(n=n.sibling,n!==null){pt=n;return}pt=n=t}while(n!==null);Et===0&&(Et=5)}function Mi(t,n,s){var u=Ve,h=Cn.transition;try{Cn.transition=null,Ve=1,Fy(t,n,s,u)}finally{Cn.transition=h,Ve=u}return null}function Fy(t,n,s,u){do Ds();while(Xr!==null);if((Fe&6)!==0)throw Error(r(327));s=t.finishedWork;var h=t.finishedLanes;if(s===null)return null;if(t.finishedWork=null,t.finishedLanes=0,s===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0;var p=s.lanes|s.childLanes;if(We(t,p),t===Rt&&(pt=Rt=null,Dt=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||pl||(pl=!0,cp(En,function(){return Ds(),null})),p=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||p){p=Cn.transition,Cn.transition=null;var y=Ve;Ve=1;var w=Fe;Fe|=4,Sc.current=null,Vy(t,s),Yd(s,t),ry(Du),zr=!!Nu,Du=Nu=null,t.current=s,Ny(s),gu(),Fe=w,Ve=y,Cn.transition=p}else t.current=s;if(pl&&(pl=!1,Xr=t,ml=h),p=t.pendingLanes,p===0&&(Yr=null),_a(s.stateNode),nn(t,Ke()),n!==null)for(u=t.onRecoverableError,s=0;s<n.length;s++)h=n[s],u(h.value,{componentStack:h.stack,digest:h.digest});if(dl)throw dl=!1,t=Cc,Cc=null,t;return(ml&1)!==0&&t.tag!==0&&Ds(),p=t.pendingLanes,(p&1)!==0?t===Pc?Uo++:(Uo=0,Pc=t):Uo=0,Wr(),null}function Ds(){if(Xr!==null){var t=jr(ml),n=Cn.transition,s=Ve;try{if(Cn.transition=null,Ve=16>t?16:t,Xr===null)var u=!1;else{if(t=Xr,Xr=null,ml=0,(Fe&6)!==0)throw Error(r(331));var h=Fe;for(Fe|=4,ie=t.current;ie!==null;){var p=ie,y=p.child;if((ie.flags&16)!==0){var w=p.deletions;if(w!==null){for(var R=0;R<w.length;R++){var j=w[R];for(ie=j;ie!==null;){var H=ie;switch(H.tag){case 0:case 11:case 15:Mo(8,H,p)}var Q=H.child;if(Q!==null)Q.return=H,ie=Q;else for(;ie!==null;){H=ie;var $=H.sibling,re=H.return;if(Hd(H),H===j){ie=null;break}if($!==null){$.return=re,ie=$;break}ie=re}}}var se=p.alternate;if(se!==null){var oe=se.child;if(oe!==null){se.child=null;do{var ct=oe.sibling;oe.sibling=null,oe=ct}while(oe!==null)}}ie=p}}if((p.subtreeFlags&2064)!==0&&y!==null)y.return=p,ie=y;else e:for(;ie!==null;){if(p=ie,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:Mo(9,p,p.return)}var M=p.sibling;if(M!==null){M.return=p.return,ie=M;break e}ie=p.return}}var P=t.current;for(ie=P;ie!==null;){y=ie;var F=y.child;if((y.subtreeFlags&2064)!==0&&F!==null)F.return=y,ie=F;else e:for(y=P;ie!==null;){if(w=ie,(w.flags&2048)!==0)try{switch(w.tag){case 0:case 11:case 15:cl(9,w)}}catch(le){lt(w,w.return,le)}if(w===y){ie=null;break e}var Y=w.sibling;if(Y!==null){Y.return=w.return,ie=Y;break e}ie=w.return}}if(Fe=h,Wr(),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(vi,t)}catch{}u=!0}return u}finally{Ve=s,Cn.transition=n}}return!1}function ap(t,n,s){n=ks(s,n),n=Ad(t,n,1),t=Kr(t,n,1),n=Gt(),t!==null&&(Mr(t,1,n),nn(t,n))}function lt(t,n,s){if(t.tag===3)ap(t,t,s);else for(;n!==null;){if(n.tag===3){ap(n,t,s);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Yr===null||!Yr.has(u))){t=ks(s,t),t=Rd(n,t,1),n=Kr(n,t,1),t=Gt(),n!==null&&(Mr(n,1,t),nn(n,t));break}}n=n.return}}function jy(t,n,s){var u=t.pingCache;u!==null&&u.delete(n),n=Gt(),t.pingedLanes|=t.suspendedLanes&s,Rt===t&&(Dt&s)===s&&(Et===4||Et===3&&(Dt&130023424)===Dt&&500>Ke()-Rc?Oi(t,0):Ac|=s),nn(t,n)}function lp(t,n){n===0&&((t.mode&1)===0?n=1:(n=ns,ns<<=1,(ns&130023424)===0&&(ns=4194304)));var s=Gt();t=wr(t,n),t!==null&&(Mr(t,n,s),nn(t,s))}function Uy(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),lp(t,s)}function zy(t,n){var s=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(r(314))}u!==null&&u.delete(n),lp(t,s)}var up;up=function(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps||Jt.current)en=!0;else{if((t.lanes&s)===0&&(n.flags&128)===0)return en=!1,Cy(t,n,s);en=(t.flags&131072)!==0}else en=!1,tt&&(n.flags&1048576)!==0&&bf(n,Qa,n.index);switch(n.lanes=0,n.tag){case 2:var u=n.type;ll(t,n),t=n.pendingProps;var h=ws(n,Ut.current);Cs(n,s),h=rc(null,n,u,t,h,s);var p=ic();return n.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Zt(u)?(p=!0,qa(n)):p=!1,n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Yu(n),h.updater=ol,n.stateNode=h,h._reactInternals=n,cc(n,u,t,s),n=pc(null,n,u,!0,p,s)):(n.tag=0,tt&&p&&zu(n),Kt(null,n,h,s),n=n.child),n;case 16:u=n.elementType;e:{switch(ll(t,n),t=n.pendingProps,h=u._init,u=h(u._payload),n.type=u,h=n.tag=by(u),t=Bn(u,t),h){case 0:n=dc(null,n,u,t,s);break e;case 1:n=Od(null,n,u,t,s);break e;case 11:n=xd(null,n,u,t,s);break e;case 14:n=Vd(null,n,u,Bn(u.type,t),s);break e}throw Error(r(306,u,""))}return n;case 0:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:Bn(u,h),dc(t,n,u,h,s);case 1:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:Bn(u,h),Od(t,n,u,h,s);case 3:e:{if(Md(n),t===null)throw Error(r(387));u=n.pendingProps,p=n.memoizedState,h=p.element,Xf(t,n),Za(n,u,null,s);var y=n.memoizedState;if(u=y.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){h=ks(Error(r(423)),n),n=Fd(t,n,u,s,h);break e}else if(u!==h){h=ks(Error(r(424)),n),n=Fd(t,n,u,s,h);break e}else for(pn=$r(n.stateNode.containerInfo.firstChild),dn=n,tt=!0,zn=null,s=Gf(n,null,u,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ss(),u===h){n=Ir(t,n,s);break e}Kt(t,n,u,s)}n=n.child}return n;case 5:return ed(n),t===null&&$u(n),u=n.type,h=n.pendingProps,p=t!==null?t.memoizedProps:null,y=h.children,Lu(u,h)?y=null:p!==null&&Lu(u,p)&&(n.flags|=32),Ld(t,n),Kt(t,n,y,s),n.child;case 6:return t===null&&$u(n),null;case 13:return jd(t,n,s);case 4:return Xu(n,n.stateNode.containerInfo),u=n.pendingProps,t===null?n.child=As(n,null,u,s):Kt(t,n,u,s),n.child;case 11:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:Bn(u,h),xd(t,n,u,h,s);case 7:return Kt(t,n,n.pendingProps,s),n.child;case 8:return Kt(t,n,n.pendingProps.children,s),n.child;case 12:return Kt(t,n,n.pendingProps.children,s),n.child;case 10:e:{if(u=n.type._context,h=n.pendingProps,p=n.memoizedProps,y=h.value,Ge(Ya,u._currentValue),u._currentValue=y,p!==null)if(Un(p.value,y)){if(p.children===h.children&&!Jt.current){n=Ir(t,n,s);break e}}else for(p=n.child,p!==null&&(p.return=n);p!==null;){var w=p.dependencies;if(w!==null){y=p.child;for(var R=w.firstContext;R!==null;){if(R.context===u){if(p.tag===1){R=Tr(-1,s&-s),R.tag=2;var j=p.updateQueue;if(j!==null){j=j.shared;var H=j.pending;H===null?R.next=R:(R.next=H.next,H.next=R),j.pending=R}}p.lanes|=s,R=p.alternate,R!==null&&(R.lanes|=s),Ku(p.return,s,n),w.lanes|=s;break}R=R.next}}else if(p.tag===10)y=p.type===n.type?null:p.child;else if(p.tag===18){if(y=p.return,y===null)throw Error(r(341));y.lanes|=s,w=y.alternate,w!==null&&(w.lanes|=s),Ku(y,s,n),y=p.sibling}else y=p.child;if(y!==null)y.return=p;else for(y=p;y!==null;){if(y===n){y=null;break}if(p=y.sibling,p!==null){p.return=y.return,y=p;break}y=y.return}p=y}Kt(t,n,h.children,s),n=n.child}return n;case 9:return h=n.type,u=n.pendingProps.children,Cs(n,s),h=An(h),u=u(h),n.flags|=1,Kt(t,n,u,s),n.child;case 14:return u=n.type,h=Bn(u,n.pendingProps),h=Bn(u.type,h),Vd(t,n,u,h,s);case 15:return Nd(t,n,n.type,n.pendingProps,s);case 17:return u=n.type,h=n.pendingProps,h=n.elementType===u?h:Bn(u,h),ll(t,n),n.tag=1,Zt(u)?(t=!0,qa(n)):t=!1,Cs(n,s),Id(n,u,h),cc(n,u,h,s),pc(null,n,u,!0,t,s);case 19:return zd(t,n,s);case 22:return Dd(t,n,s)}throw Error(r(156,n.tag))};function cp(t,n){return es(t,n)}function By(t,n,s,u){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(t,n,s,u){return new By(t,n,s,u)}function Lc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function by(t){if(typeof t=="function")return Lc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===D)return 11;if(t===kt)return 14}return 2}function ei(t,n){var s=t.alternate;return s===null?(s=Pn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&14680064,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s}function vl(t,n,s,u,h,p){var y=2;if(u=t,typeof t=="function")Lc(t)&&(y=1);else if(typeof t=="string")y=5;else e:switch(t){case k:return Fi(s.children,h,p,n);case T:y=8,h|=8;break;case A:return t=Pn(12,s,n,h|2),t.elementType=A,t.lanes=p,t;case S:return t=Pn(13,s,n,h),t.elementType=S,t.lanes=p,t;case Qe:return t=Pn(19,s,n,h),t.elementType=Qe,t.lanes=p,t;case Be:return El(s,h,p,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case C:y=10;break e;case V:y=9;break e;case D:y=11;break e;case kt:y=14;break e;case gt:y=16,u=null;break e}throw Error(r(130,t==null?t:typeof t,""))}return n=Pn(y,s,n,h),n.elementType=t,n.type=u,n.lanes=p,n}function Fi(t,n,s,u){return t=Pn(7,t,u,n),t.lanes=s,t}function El(t,n,s,u){return t=Pn(22,t,u,n),t.elementType=Be,t.lanes=s,t.stateNode={isHidden:!1},t}function Oc(t,n,s){return t=Pn(6,t,null,n),t.lanes=s,t}function Mc(t,n,s){return n=Pn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function $y(t,n,s,u,h){this.tag=n,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Or(0),this.expirationTimes=Or(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Or(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Fc(t,n,s,u,h,p,y,w,R){return t=new $y(t,n,s,w,R),n===1?(n=1,p===!0&&(n|=8)):n=0,p=Pn(3,null,null,n),t.current=p,p.stateNode=t,p.memoizedState={element:u,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yu(p),t}function qy(t,n,s){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xe,key:u==null?null:""+u,children:t,containerInfo:n,implementation:s}}function hp(t){if(!t)return Hr;t=t._reactInternals;e:{if(Nn(t)!==t||t.tag!==1)throw Error(r(170));var n=t;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Zt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(t.tag===1){var s=t.type;if(Zt(s))return Uf(t,s,n)}return n}function fp(t,n,s,u,h,p,y,w,R){return t=Fc(s,u,!0,t,h,p,y,w,R),t.context=hp(null),s=t.current,u=Gt(),h=Jr(s),p=Tr(u,h),p.callback=n??null,Kr(s,p,h),t.current.lanes=h,Mr(t,h,u),nn(t,u),t}function wl(t,n,s,u){var h=n.current,p=Gt(),y=Jr(h);return s=hp(s),n.context===null?n.context=s:n.pendingContext=s,n=Tr(p,y),n.payload={element:t},u=u===void 0?null:u,u!==null&&(n.callback=u),t=Kr(h,n,y),t!==null&&(qn(t,h,y,p),Ja(t,h,y)),y}function Tl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function dp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function jc(t,n){dp(t,n),(t=t.alternate)&&dp(t,n)}function Hy(){return null}var pp=typeof reportError=="function"?reportError:function(t){console.error(t)};function Uc(t){this._internalRoot=t}Il.prototype.render=Uc.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));wl(t,n,null,null)},Il.prototype.unmount=Uc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Li(function(){wl(null,t,null,null)}),n[yr]=null}};function Il(t){this._internalRoot=t}Il.prototype.unstable_scheduleHydration=function(t){if(t){var n=Ia();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Yn.length&&n!==0&&n<Yn[s].priority;s++);Yn.splice(s,0,t),s===0&&Ra(t)}};function zc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function mp(){}function Wy(t,n,s,u,h){if(h){if(typeof u=="function"){var p=u;u=function(){var j=Tl(y);p.call(j)}}var y=fp(n,u,t,0,null,!1,!1,"",mp);return t._reactRootContainer=y,t[yr]=y.current,Io(t.nodeType===8?t.parentNode:t),Li(),y}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var w=u;u=function(){var j=Tl(R);w.call(j)}}var R=Fc(t,0,!1,null,null,!1,!1,"",mp);return t._reactRootContainer=R,t[yr]=R.current,Io(t.nodeType===8?t.parentNode:t),Li(function(){wl(n,R,s,u)}),R}function Al(t,n,s,u,h){var p=s._reactRootContainer;if(p){var y=p;if(typeof h=="function"){var w=h;h=function(){var R=Tl(y);w.call(R)}}wl(n,y,t,h)}else y=Wy(s,n,t,h,u);return Tl(y)}wa=function(t){switch(t.tag){case 3:var n=t.stateNode;if(n.current.memoizedState.isDehydrated){var s=Lr(n.pendingLanes);s!==0&&(Fr(n,s|1),nn(n,Ke()),(Fe&6)===0&&(Ns=Ke()+500,Wr()))}break;case 13:Li(function(){var u=wr(t,1);if(u!==null){var h=Gt();qn(u,t,1,h)}}),jc(t,1)}},rs=function(t){if(t.tag===13){var n=wr(t,134217728);if(n!==null){var s=Gt();qn(n,t,134217728,s)}jc(t,134217728)}},Ta=function(t){if(t.tag===13){var n=Jr(t),s=wr(t,n);if(s!==null){var u=Gt();qn(s,t,n,u)}jc(t,n)}},Ia=function(){return Ve},Sa=function(t,n){var s=Ve;try{return Ve=t,n()}finally{Ve=s}},Ki=function(t,n,s){switch(n){case"input":if(Hn(t,s),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var u=s[n];if(u!==t&&u.form===t.form){var h=ba(u);if(!h)throw Error(r(90));_e(u),Hn(u,h)}}}break;case"textarea":ur(t,s);break;case"select":n=s.value,n!=null&&ln(t,!!s.multiple,n,!1)}},pi=Vc,ro=Li;var Qy={usingClientEntryPoint:!1,Events:[Ro,vs,ba,Kn,no,Vc]},zo={findFiberByHostInstance:Ri,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ky={bundleType:zo.bundleType,version:zo.version,rendererPackageName:zo.rendererPackageName,rendererConfig:zo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ve.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=oo(t),t===null?null:t.stateNode},findFiberByHostInstance:zo.findFiberByHostInstance||Hy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rl.isDisabled&&Rl.supportsFiber)try{vi=Rl.inject(Ky),un=Rl}catch{}}return rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qy,rn.createPortal=function(t,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zc(n))throw Error(r(200));return qy(t,n,null,s)},rn.createRoot=function(t,n){if(!zc(t))throw Error(r(299));var s=!1,u="",h=pp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),n=Fc(t,1,!1,null,null,s,!1,u,h),t[yr]=n.current,Io(t.nodeType===8?t.parentNode:t),new Uc(n)},rn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=oo(n),t=t===null?null:t.stateNode,t},rn.flushSync=function(t){return Li(t)},rn.hydrate=function(t,n,s){if(!Sl(n))throw Error(r(200));return Al(null,t,n,!0,s)},rn.hydrateRoot=function(t,n,s){if(!zc(t))throw Error(r(405));var u=s!=null&&s.hydratedSources||null,h=!1,p="",y=pp;if(s!=null&&(s.unstable_strictMode===!0&&(h=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onRecoverableError!==void 0&&(y=s.onRecoverableError)),n=fp(n,null,t,1,s??null,h,!1,p,y),t[yr]=n.current,Io(t),u)for(t=0;t<u.length;t++)s=u[t],h=s._getVersion,h=h(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,h]:n.mutableSourceEagerHydrationData.push(s,h);return new Il(n)},rn.render=function(t,n,s){if(!Sl(n))throw Error(r(200));return Al(null,t,n,!1,s)},rn.unmountComponentAtNode=function(t){if(!Sl(t))throw Error(r(40));return t._reactRootContainer?(Li(function(){Al(null,null,t,!1,function(){t._reactRootContainer=null,t[yr]=null})}),!0):!1},rn.unstable_batchedUpdates=Vc,rn.unstable_renderSubtreeIntoContainer=function(t,n,s,u){if(!Sl(s))throw Error(r(200));if(t==null||t._reactInternals===void 0)throw Error(r(38));return Al(t,n,s,!1,u)},rn.version="18.3.1-next-f1338f8080-20240426",rn}var Ip;function r_(){if(Ip)return $c.exports;Ip=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),$c.exports=n_(),$c.exports}var Sp;function i_(){if(Sp)return Cl;Sp=1;var i=r_();return Cl.createRoot=i.createRoot,Cl.hydrateRoot=i.hydrateRoot,Cl}var s_=i_();const o_=vm(s_);var Ap={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em=function(i){const e=[];let r=0;for(let o=0;o<i.length;o++){let l=i.charCodeAt(o);l<128?e[r++]=l:l<2048?(e[r++]=l>>6|192,e[r++]=l&63|128):(l&64512)===55296&&o+1<i.length&&(i.charCodeAt(o+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++o)&1023),e[r++]=l>>18|240,e[r++]=l>>12&63|128,e[r++]=l>>6&63|128,e[r++]=l&63|128):(e[r++]=l>>12|224,e[r++]=l>>6&63|128,e[r++]=l&63|128)}return e},a_=function(i){const e=[];let r=0,o=0;for(;r<i.length;){const l=i[r++];if(l<128)e[o++]=String.fromCharCode(l);else if(l>191&&l<224){const c=i[r++];e[o++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=i[r++],f=i[r++],m=i[r++],_=((l&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;e[o++]=String.fromCharCode(55296+(_>>10)),e[o++]=String.fromCharCode(56320+(_&1023))}else{const c=i[r++],f=i[r++];e[o++]=String.fromCharCode((l&15)<<12|(c&63)<<6|f&63)}}return e.join("")},wm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let l=0;l<i.length;l+=3){const c=i[l],f=l+1<i.length,m=f?i[l+1]:0,_=l+2<i.length,v=_?i[l+2]:0,I=c>>2,x=(c&3)<<4|m>>4;let L=(m&15)<<2|v>>6,B=v&63;_||(B=64,f||(L=64)),o.push(r[I],r[x],r[L],r[B])}return o.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Em(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):a_(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let l=0;l<i.length;){const c=r[i.charAt(l++)],m=l<i.length?r[i.charAt(l)]:0;++l;const v=l<i.length?r[i.charAt(l)]:64;++l;const x=l<i.length?r[i.charAt(l)]:64;if(++l,c==null||m==null||v==null||x==null)throw new l_;const L=c<<2|m>>4;if(o.push(L),v!==64){const B=m<<4&240|v>>2;if(o.push(B),x!==64){const X=v<<6&192|x;o.push(X)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class l_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const u_=function(i){const e=Em(i);return wm.encodeByteArray(e,!0)},Ul=function(i){return u_(i).replace(/\./g,"")},c_=function(i){try{return wm.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_=()=>h_().__FIREBASE_DEFAULTS__,d_=()=>{if(typeof process>"u"||typeof Ap>"u")return;const i=Ap.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},p_=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&c_(i[1]);return e&&JSON.parse(e)},Sh=()=>{try{return f_()||d_()||p_()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},m_=i=>{var e,r;return(r=(e=Sh())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[i]},g_=i=>{const e=m_(i);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const o=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),o]:[e.substring(0,r),o]},Tm=()=>{var i;return(i=Sh())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},o=e||"demo-project",l=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Ul(JSON.stringify(r)),Ul(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function E_(){var i;const e=(i=Sh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function w_(){return!E_()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function T_(){try{return typeof indexedDB=="object"}catch{return!1}}function I_(){return new Promise((i,e)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(o);l.onsuccess=()=>{l.result.close(),r||self.indexedDB.deleteDatabase(o),i(!0)},l.onupgradeneeded=()=>{r=!1},l.onerror=()=>{var c;e(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="FirebaseError";class Ws extends Error{constructor(e,r,o){super(r),this.code=e,this.customData=o,this.name=S_,Object.setPrototypeOf(this,Ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Im.prototype.create)}}class Im{constructor(e,r,o){this.service=e,this.serviceName=r,this.errors=o}create(e,...r){const o=r[0]||{},l=`${this.service}/${e}`,c=this.errors[e],f=c?A_(c,o):"Error",m=`${this.serviceName}: ${f} (${l}).`;return new Ws(l,m,o)}}function A_(i,e){return i.replace(R_,(r,o)=>{const l=e[o];return l!=null?String(l):`<${o}?>`})}const R_=/\{\$([^}]+)}/g;function nh(i,e){if(i===e)return!0;const r=Object.keys(i),o=Object.keys(e);for(const l of r){if(!o.includes(l))return!1;const c=i[l],f=e[l];if(Rp(c)&&Rp(f)){if(!nh(c,f))return!1}else if(c!==f)return!1}for(const l of o)if(!r.includes(l))return!1;return!0}function Rp(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(i){return i&&i._delegate?i._delegate:i}class Xo{constructor(e,r,o){this.name=e,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const o=new y_;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:r});l&&o.resolve(l)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const o=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(k_(e))try{this.getOrInitializeService({instanceIdentifier:ji})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:l});o.resolve(c)}catch{}}}}clearInstance(e=ji){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ji){return this.instances.has(e)}getOptions(e=ji){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);o===m&&f.resolve(l)}return l}onInit(e,r){var o;const l=this.normalizeInstanceIdentifier(r),c=(o=this.onInitCallbacks.get(l))!==null&&o!==void 0?o:new Set;c.add(e),this.onInitCallbacks.set(l,c);const f=this.instances.get(l);return f&&e(f,l),()=>{c.delete(e)}}invokeOnInitCallbacks(e,r){const o=this.onInitCallbacks.get(r);if(o)for(const l of o)try{l(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let o=this.instances.get(e);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:P_(e),options:r}),this.instances.set(e,o),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(o,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,o)}catch{}return o||null}normalizeInstanceIdentifier(e=ji){return this.component?this.component.multipleInstances?e:ji:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function P_(i){return i===ji?void 0:i}function k_(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new C_(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(je||(je={}));const V_={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},N_=je.INFO,D_={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},L_=(i,e,...r)=>{if(e<i.logLevel)return;const o=new Date().toISOString(),l=D_[e];if(l)console[l](`[${o}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sm{constructor(e){this.name=e,this._logLevel=N_,this._logHandler=L_,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?V_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const O_=(i,e)=>e.some(r=>i instanceof r);let Cp,Pp;function M_(){return Cp||(Cp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function F_(){return Pp||(Pp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Am=new WeakMap,rh=new WeakMap,Rm=new WeakMap,Wc=new WeakMap,Ah=new WeakMap;function j_(i){const e=new Promise((r,o)=>{const l=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{r(ii(i.result)),l()},f=()=>{o(i.error),l()};i.addEventListener("success",c),i.addEventListener("error",f)});return e.then(r=>{r instanceof IDBCursor&&Am.set(r,i)}).catch(()=>{}),Ah.set(e,i),e}function U_(i){if(rh.has(i))return;const e=new Promise((r,o)=>{const l=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{r(),l()},f=()=>{o(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});rh.set(i,e)}let ih={get(i,e,r){if(i instanceof IDBTransaction){if(e==="done")return rh.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Rm.get(i);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ii(i[e])},set(i,e,r){return i[e]=r,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function z_(i){ih=i(ih)}function B_(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const o=i.call(Qc(this),e,...r);return Rm.set(o,e.sort?e.sort():[e]),ii(o)}:F_().includes(i)?function(...e){return i.apply(Qc(this),e),ii(Am.get(this))}:function(...e){return ii(i.apply(Qc(this),e))}}function b_(i){return typeof i=="function"?B_(i):(i instanceof IDBTransaction&&U_(i),O_(i,M_())?new Proxy(i,ih):i)}function ii(i){if(i instanceof IDBRequest)return j_(i);if(Wc.has(i))return Wc.get(i);const e=b_(i);return e!==i&&(Wc.set(i,e),Ah.set(e,i)),e}const Qc=i=>Ah.get(i);function $_(i,e,{blocked:r,upgrade:o,blocking:l,terminated:c}={}){const f=indexedDB.open(i,e),m=ii(f);return o&&f.addEventListener("upgradeneeded",_=>{o(ii(f.result),_.oldVersion,_.newVersion,ii(f.transaction),_)}),r&&f.addEventListener("blocked",_=>r(_.oldVersion,_.newVersion,_)),m.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),m}const q_=["get","getKey","getAll","getAllKeys","count"],H_=["put","add","delete","clear"],Kc=new Map;function kp(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Kc.get(e))return Kc.get(e);const r=e.replace(/FromIndex$/,""),o=e!==r,l=H_.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(l||q_.includes(r)))return;const c=async function(f,...m){const _=this.transaction(f,l?"readwrite":"readonly");let v=_.store;return o&&(v=v.index(m.shift())),(await Promise.all([v[r](...m),l&&_.done]))[0]};return Kc.set(e,c),c}z_(i=>({...i,get:(e,r,o)=>kp(e,r)||i.get(e,r,o),has:(e,r)=>!!kp(e,r)||i.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Q_(r)){const o=r.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(r=>r).join(" ")}}function Q_(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sh="@firebase/app",xp="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr=new Sm("@firebase/app"),K_="@firebase/app-compat",G_="@firebase/analytics-compat",Y_="@firebase/analytics",X_="@firebase/app-check-compat",J_="@firebase/app-check",Z_="@firebase/auth",ev="@firebase/auth-compat",tv="@firebase/database",nv="@firebase/data-connect",rv="@firebase/database-compat",iv="@firebase/functions",sv="@firebase/functions-compat",ov="@firebase/installations",av="@firebase/installations-compat",lv="@firebase/messaging",uv="@firebase/messaging-compat",cv="@firebase/performance",hv="@firebase/performance-compat",fv="@firebase/remote-config",dv="@firebase/remote-config-compat",pv="@firebase/storage",mv="@firebase/storage-compat",gv="@firebase/firestore",yv="@firebase/vertexai-preview",_v="@firebase/firestore-compat",vv="firebase",Ev="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh="[DEFAULT]",wv={[sh]:"fire-core",[K_]:"fire-core-compat",[Y_]:"fire-analytics",[G_]:"fire-analytics-compat",[J_]:"fire-app-check",[X_]:"fire-app-check-compat",[Z_]:"fire-auth",[ev]:"fire-auth-compat",[tv]:"fire-rtdb",[nv]:"fire-data-connect",[rv]:"fire-rtdb-compat",[iv]:"fire-fn",[sv]:"fire-fn-compat",[ov]:"fire-iid",[av]:"fire-iid-compat",[lv]:"fire-fcm",[uv]:"fire-fcm-compat",[cv]:"fire-perf",[hv]:"fire-perf-compat",[fv]:"fire-rc",[dv]:"fire-rc-compat",[pv]:"fire-gcs",[mv]:"fire-gcs-compat",[gv]:"fire-fst",[_v]:"fire-fst-compat",[yv]:"fire-vertex","fire-js":"fire-js",[vv]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl=new Map,Tv=new Map,ah=new Map;function Vp(i,e){try{i.container.addComponent(e)}catch(r){Rr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,r)}}function Bl(i){const e=i.name;if(ah.has(e))return Rr.debug(`There were multiple attempts to register component ${e}.`),!1;ah.set(e,i);for(const r of zl.values())Vp(r,i);for(const r of Tv.values())Vp(r,i);return!0}function Iv(i,e){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},si=new Im("app","Firebase",Sv);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e,r,o){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Xo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw si.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=Ev;function Cm(i,e={}){let r=i;typeof e!="object"&&(e={name:e});const o=Object.assign({name:oh,automaticDataCollectionEnabled:!1},e),l=o.name;if(typeof l!="string"||!l)throw si.create("bad-app-name",{appName:String(l)});if(r||(r=Tm()),!r)throw si.create("no-options");const c=zl.get(l);if(c){if(nh(r,c.options)&&nh(o,c.config))return c;throw si.create("duplicate-app",{appName:l})}const f=new x_(l);for(const _ of ah.values())f.addComponent(_);const m=new Av(r,o,f);return zl.set(l,m),m}function Cv(i=oh){const e=zl.get(i);if(!e&&i===oh&&Tm())return Cm();if(!e)throw si.create("no-app",{appName:i});return e}function Fs(i,e,r){var o;let l=(o=wv[i])!==null&&o!==void 0?o:i;r&&(l+=`-${r}`);const c=l.match(/\s|\//),f=e.match(/\s|\//);if(c||f){const m=[`Unable to register library "${l}" with version "${e}":`];c&&m.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rr.warn(m.join(" "));return}Bl(new Xo(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="firebase-heartbeat-database",kv=1,Jo="firebase-heartbeat-store";let Gc=null;function Pm(){return Gc||(Gc=$_(Pv,kv,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Jo)}catch(r){console.warn(r)}}}}).catch(i=>{throw si.create("idb-open",{originalErrorMessage:i.message})})),Gc}async function xv(i){try{const r=(await Pm()).transaction(Jo),o=await r.objectStore(Jo).get(km(i));return await r.done,o}catch(e){if(e instanceof Ws)Rr.warn(e.message);else{const r=si.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Rr.warn(r.message)}}}async function Np(i,e){try{const o=(await Pm()).transaction(Jo,"readwrite");await o.objectStore(Jo).put(e,km(i)),await o.done}catch(r){if(r instanceof Ws)Rr.warn(r.message);else{const o=si.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Rr.warn(o.message)}}}function km(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv=1024,Nv=30*24*60*60*1e3;class Dv{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Ov(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var e,r;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Dp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const m=new Date(f.date).valueOf();return Date.now()-m<=Nv}),this._storage.overwrite(this._heartbeatsCache))}catch(o){Rr.warn(o)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Dp(),{heartbeatsToSend:o,unsentEntries:l}=Lv(this._heartbeatsCache.heartbeats),c=Ul(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=r,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(r){return Rr.warn(r),""}}}function Dp(){return new Date().toISOString().substring(0,10)}function Lv(i,e=Vv){const r=[];let o=i.slice();for(const l of i){const c=r.find(f=>f.agent===l.agent);if(c){if(c.dates.push(l.date),Lp(r)>e){c.dates.pop();break}}else if(r.push({agent:l.agent,dates:[l.date]}),Lp(r)>e){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class Ov{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return T_()?I_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await xv(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return Np(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return Np(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function Lp(i){return Ul(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(i){Bl(new Xo("platform-logger",e=>new W_(e),"PRIVATE")),Bl(new Xo("heartbeat",e=>new Dv(e),"PRIVATE")),Fs(sh,xp,i),Fs(sh,xp,"esm2017"),Fs("fire-js","")}Mv("");var Fv="firebase",jv="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fs(Fv,jv,"app");var Op=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bi,xm;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,T){function A(){}A.prototype=T.prototype,k.D=T.prototype,k.prototype=new A,k.prototype.constructor=k,k.C=function(C,V,D){for(var S=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)S[Qe-2]=arguments[Qe];return T.prototype[V].apply(C,S)}}function r(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(o,r),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(k,T,A){A||(A=0);var C=Array(16);if(typeof T=="string")for(var V=0;16>V;++V)C[V]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(V=0;16>V;++V)C[V]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=k.g[0],A=k.g[1],V=k.g[2];var D=k.g[3],S=T+(D^A&(V^D))+C[0]+3614090360&4294967295;T=A+(S<<7&4294967295|S>>>25),S=D+(V^T&(A^V))+C[1]+3905402710&4294967295,D=T+(S<<12&4294967295|S>>>20),S=V+(A^D&(T^A))+C[2]+606105819&4294967295,V=D+(S<<17&4294967295|S>>>15),S=A+(T^V&(D^T))+C[3]+3250441966&4294967295,A=V+(S<<22&4294967295|S>>>10),S=T+(D^A&(V^D))+C[4]+4118548399&4294967295,T=A+(S<<7&4294967295|S>>>25),S=D+(V^T&(A^V))+C[5]+1200080426&4294967295,D=T+(S<<12&4294967295|S>>>20),S=V+(A^D&(T^A))+C[6]+2821735955&4294967295,V=D+(S<<17&4294967295|S>>>15),S=A+(T^V&(D^T))+C[7]+4249261313&4294967295,A=V+(S<<22&4294967295|S>>>10),S=T+(D^A&(V^D))+C[8]+1770035416&4294967295,T=A+(S<<7&4294967295|S>>>25),S=D+(V^T&(A^V))+C[9]+2336552879&4294967295,D=T+(S<<12&4294967295|S>>>20),S=V+(A^D&(T^A))+C[10]+4294925233&4294967295,V=D+(S<<17&4294967295|S>>>15),S=A+(T^V&(D^T))+C[11]+2304563134&4294967295,A=V+(S<<22&4294967295|S>>>10),S=T+(D^A&(V^D))+C[12]+1804603682&4294967295,T=A+(S<<7&4294967295|S>>>25),S=D+(V^T&(A^V))+C[13]+4254626195&4294967295,D=T+(S<<12&4294967295|S>>>20),S=V+(A^D&(T^A))+C[14]+2792965006&4294967295,V=D+(S<<17&4294967295|S>>>15),S=A+(T^V&(D^T))+C[15]+1236535329&4294967295,A=V+(S<<22&4294967295|S>>>10),S=T+(V^D&(A^V))+C[1]+4129170786&4294967295,T=A+(S<<5&4294967295|S>>>27),S=D+(A^V&(T^A))+C[6]+3225465664&4294967295,D=T+(S<<9&4294967295|S>>>23),S=V+(T^A&(D^T))+C[11]+643717713&4294967295,V=D+(S<<14&4294967295|S>>>18),S=A+(D^T&(V^D))+C[0]+3921069994&4294967295,A=V+(S<<20&4294967295|S>>>12),S=T+(V^D&(A^V))+C[5]+3593408605&4294967295,T=A+(S<<5&4294967295|S>>>27),S=D+(A^V&(T^A))+C[10]+38016083&4294967295,D=T+(S<<9&4294967295|S>>>23),S=V+(T^A&(D^T))+C[15]+3634488961&4294967295,V=D+(S<<14&4294967295|S>>>18),S=A+(D^T&(V^D))+C[4]+3889429448&4294967295,A=V+(S<<20&4294967295|S>>>12),S=T+(V^D&(A^V))+C[9]+568446438&4294967295,T=A+(S<<5&4294967295|S>>>27),S=D+(A^V&(T^A))+C[14]+3275163606&4294967295,D=T+(S<<9&4294967295|S>>>23),S=V+(T^A&(D^T))+C[3]+4107603335&4294967295,V=D+(S<<14&4294967295|S>>>18),S=A+(D^T&(V^D))+C[8]+1163531501&4294967295,A=V+(S<<20&4294967295|S>>>12),S=T+(V^D&(A^V))+C[13]+2850285829&4294967295,T=A+(S<<5&4294967295|S>>>27),S=D+(A^V&(T^A))+C[2]+4243563512&4294967295,D=T+(S<<9&4294967295|S>>>23),S=V+(T^A&(D^T))+C[7]+1735328473&4294967295,V=D+(S<<14&4294967295|S>>>18),S=A+(D^T&(V^D))+C[12]+2368359562&4294967295,A=V+(S<<20&4294967295|S>>>12),S=T+(A^V^D)+C[5]+4294588738&4294967295,T=A+(S<<4&4294967295|S>>>28),S=D+(T^A^V)+C[8]+2272392833&4294967295,D=T+(S<<11&4294967295|S>>>21),S=V+(D^T^A)+C[11]+1839030562&4294967295,V=D+(S<<16&4294967295|S>>>16),S=A+(V^D^T)+C[14]+4259657740&4294967295,A=V+(S<<23&4294967295|S>>>9),S=T+(A^V^D)+C[1]+2763975236&4294967295,T=A+(S<<4&4294967295|S>>>28),S=D+(T^A^V)+C[4]+1272893353&4294967295,D=T+(S<<11&4294967295|S>>>21),S=V+(D^T^A)+C[7]+4139469664&4294967295,V=D+(S<<16&4294967295|S>>>16),S=A+(V^D^T)+C[10]+3200236656&4294967295,A=V+(S<<23&4294967295|S>>>9),S=T+(A^V^D)+C[13]+681279174&4294967295,T=A+(S<<4&4294967295|S>>>28),S=D+(T^A^V)+C[0]+3936430074&4294967295,D=T+(S<<11&4294967295|S>>>21),S=V+(D^T^A)+C[3]+3572445317&4294967295,V=D+(S<<16&4294967295|S>>>16),S=A+(V^D^T)+C[6]+76029189&4294967295,A=V+(S<<23&4294967295|S>>>9),S=T+(A^V^D)+C[9]+3654602809&4294967295,T=A+(S<<4&4294967295|S>>>28),S=D+(T^A^V)+C[12]+3873151461&4294967295,D=T+(S<<11&4294967295|S>>>21),S=V+(D^T^A)+C[15]+530742520&4294967295,V=D+(S<<16&4294967295|S>>>16),S=A+(V^D^T)+C[2]+3299628645&4294967295,A=V+(S<<23&4294967295|S>>>9),S=T+(V^(A|~D))+C[0]+4096336452&4294967295,T=A+(S<<6&4294967295|S>>>26),S=D+(A^(T|~V))+C[7]+1126891415&4294967295,D=T+(S<<10&4294967295|S>>>22),S=V+(T^(D|~A))+C[14]+2878612391&4294967295,V=D+(S<<15&4294967295|S>>>17),S=A+(D^(V|~T))+C[5]+4237533241&4294967295,A=V+(S<<21&4294967295|S>>>11),S=T+(V^(A|~D))+C[12]+1700485571&4294967295,T=A+(S<<6&4294967295|S>>>26),S=D+(A^(T|~V))+C[3]+2399980690&4294967295,D=T+(S<<10&4294967295|S>>>22),S=V+(T^(D|~A))+C[10]+4293915773&4294967295,V=D+(S<<15&4294967295|S>>>17),S=A+(D^(V|~T))+C[1]+2240044497&4294967295,A=V+(S<<21&4294967295|S>>>11),S=T+(V^(A|~D))+C[8]+1873313359&4294967295,T=A+(S<<6&4294967295|S>>>26),S=D+(A^(T|~V))+C[15]+4264355552&4294967295,D=T+(S<<10&4294967295|S>>>22),S=V+(T^(D|~A))+C[6]+2734768916&4294967295,V=D+(S<<15&4294967295|S>>>17),S=A+(D^(V|~T))+C[13]+1309151649&4294967295,A=V+(S<<21&4294967295|S>>>11),S=T+(V^(A|~D))+C[4]+4149444226&4294967295,T=A+(S<<6&4294967295|S>>>26),S=D+(A^(T|~V))+C[11]+3174756917&4294967295,D=T+(S<<10&4294967295|S>>>22),S=V+(T^(D|~A))+C[2]+718787259&4294967295,V=D+(S<<15&4294967295|S>>>17),S=A+(D^(V|~T))+C[9]+3951481745&4294967295,k.g[0]=k.g[0]+T&4294967295,k.g[1]=k.g[1]+(V+(S<<21&4294967295|S>>>11))&4294967295,k.g[2]=k.g[2]+V&4294967295,k.g[3]=k.g[3]+D&4294967295}o.prototype.u=function(k,T){T===void 0&&(T=k.length);for(var A=T-this.blockSize,C=this.B,V=this.h,D=0;D<T;){if(V==0)for(;D<=A;)l(this,k,D),D+=this.blockSize;if(typeof k=="string"){for(;D<T;)if(C[V++]=k.charCodeAt(D++),V==this.blockSize){l(this,C),V=0;break}}else for(;D<T;)if(C[V++]=k[D++],V==this.blockSize){l(this,C),V=0;break}}this.h=V,this.o+=T},o.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var T=1;T<k.length-8;++T)k[T]=0;var A=8*this.o;for(T=k.length-8;T<k.length;++T)k[T]=A&255,A/=256;for(this.u(k),k=Array(16),T=A=0;4>T;++T)for(var C=0;32>C;C+=8)k[A++]=this.g[T]>>>C&255;return k};function c(k,T){var A=m;return Object.prototype.hasOwnProperty.call(A,k)?A[k]:A[k]=T(k)}function f(k,T){this.h=T;for(var A=[],C=!0,V=k.length-1;0<=V;V--){var D=k[V]|0;C&&D==T||(A[V]=D,C=!1)}this.g=A}var m={};function _(k){return-128<=k&&128>k?c(k,function(T){return new f([T|0],0>T?-1:0)}):new f([k|0],0>k?-1:0)}function v(k){if(isNaN(k)||!isFinite(k))return x;if(0>k)return z(v(-k));for(var T=[],A=1,C=0;k>=A;C++)T[C]=k/A|0,A*=4294967296;return new f(T,0)}function I(k,T){if(k.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(k.charAt(0)=="-")return z(I(k.substring(1),T));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=v(Math.pow(T,8)),C=x,V=0;V<k.length;V+=8){var D=Math.min(8,k.length-V),S=parseInt(k.substring(V,V+D),T);8>D?(D=v(Math.pow(T,D)),C=C.j(D).add(v(S))):(C=C.j(A),C=C.add(v(S)))}return C}var x=_(0),L=_(1),B=_(16777216);i=f.prototype,i.m=function(){if(J(this))return-z(this).m();for(var k=0,T=1,A=0;A<this.g.length;A++){var C=this.i(A);k+=(0<=C?C:4294967296+C)*T,T*=4294967296}return k},i.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(X(this))return"0";if(J(this))return"-"+z(this).toString(k);for(var T=v(Math.pow(k,6)),A=this,C="";;){var V=ve(A,T).g;A=Ee(A,V.j(T));var D=((0<A.g.length?A.g[0]:A.h)>>>0).toString(k);if(A=V,X(A))return D+C;for(;6>D.length;)D="0"+D;C=D+C}},i.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function X(k){if(k.h!=0)return!1;for(var T=0;T<k.g.length;T++)if(k.g[T]!=0)return!1;return!0}function J(k){return k.h==-1}i.l=function(k){return k=Ee(this,k),J(k)?-1:X(k)?0:1};function z(k){for(var T=k.g.length,A=[],C=0;C<T;C++)A[C]=~k.g[C];return new f(A,~k.h).add(L)}i.abs=function(){return J(this)?z(this):this},i.add=function(k){for(var T=Math.max(this.g.length,k.g.length),A=[],C=0,V=0;V<=T;V++){var D=C+(this.i(V)&65535)+(k.i(V)&65535),S=(D>>>16)+(this.i(V)>>>16)+(k.i(V)>>>16);C=S>>>16,D&=65535,S&=65535,A[V]=S<<16|D}return new f(A,A[A.length-1]&-2147483648?-1:0)};function Ee(k,T){return k.add(z(T))}i.j=function(k){if(X(this)||X(k))return x;if(J(this))return J(k)?z(this).j(z(k)):z(z(this).j(k));if(J(k))return z(this.j(z(k)));if(0>this.l(B)&&0>k.l(B))return v(this.m()*k.m());for(var T=this.g.length+k.g.length,A=[],C=0;C<2*T;C++)A[C]=0;for(C=0;C<this.g.length;C++)for(var V=0;V<k.g.length;V++){var D=this.i(C)>>>16,S=this.i(C)&65535,Qe=k.i(V)>>>16,kt=k.i(V)&65535;A[2*C+2*V]+=S*kt,de(A,2*C+2*V),A[2*C+2*V+1]+=D*kt,de(A,2*C+2*V+1),A[2*C+2*V+1]+=S*Qe,de(A,2*C+2*V+1),A[2*C+2*V+2]+=D*Qe,de(A,2*C+2*V+2)}for(C=0;C<T;C++)A[C]=A[2*C+1]<<16|A[2*C];for(C=T;C<2*T;C++)A[C]=0;return new f(A,0)};function de(k,T){for(;(k[T]&65535)!=k[T];)k[T+1]+=k[T]>>>16,k[T]&=65535,T++}function ye(k,T){this.g=k,this.h=T}function ve(k,T){if(X(T))throw Error("division by zero");if(X(k))return new ye(x,x);if(J(k))return T=ve(z(k),T),new ye(z(T.g),z(T.h));if(J(T))return T=ve(k,z(T)),new ye(z(T.g),T.h);if(30<k.g.length){if(J(k)||J(T))throw Error("slowDivide_ only works with positive integers.");for(var A=L,C=T;0>=C.l(k);)A=Ze(A),C=Ze(C);var V=xe(A,1),D=xe(C,1);for(C=xe(C,2),A=xe(A,2);!X(C);){var S=D.add(C);0>=S.l(k)&&(V=V.add(A),D=S),C=xe(C,1),A=xe(A,1)}return T=Ee(k,V.j(T)),new ye(V,T)}for(V=x;0<=k.l(T);){for(A=Math.max(1,Math.floor(k.m()/T.m())),C=Math.ceil(Math.log(A)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),D=v(A),S=D.j(T);J(S)||0<S.l(k);)A-=C,D=v(A),S=D.j(T);X(D)&&(D=L),V=V.add(D),k=Ee(k,S)}return new ye(V,k)}i.A=function(k){return ve(this,k).h},i.and=function(k){for(var T=Math.max(this.g.length,k.g.length),A=[],C=0;C<T;C++)A[C]=this.i(C)&k.i(C);return new f(A,this.h&k.h)},i.or=function(k){for(var T=Math.max(this.g.length,k.g.length),A=[],C=0;C<T;C++)A[C]=this.i(C)|k.i(C);return new f(A,this.h|k.h)},i.xor=function(k){for(var T=Math.max(this.g.length,k.g.length),A=[],C=0;C<T;C++)A[C]=this.i(C)^k.i(C);return new f(A,this.h^k.h)};function Ze(k){for(var T=k.g.length+1,A=[],C=0;C<T;C++)A[C]=k.i(C)<<1|k.i(C-1)>>>31;return new f(A,k.h)}function xe(k,T){var A=T>>5;T%=32;for(var C=k.g.length-A,V=[],D=0;D<C;D++)V[D]=0<T?k.i(D+A)>>>T|k.i(D+A+1)<<32-T:k.i(D+A);return new f(V,k.h)}o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,xm=o,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=v,f.fromString=I,Bi=f}).apply(typeof Op<"u"?Op:typeof self<"u"?self:typeof window<"u"?window:{});var Pl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vm,$o,Nm,Ll,lh,Dm,Lm,Om;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,g){return a==Array.prototype||a==Object.prototype||(a[d]=g.value),a};function r(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pl=="object"&&Pl];for(var d=0;d<a.length;++d){var g=a[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var o=r(this);function l(a,d){if(d)e:{var g=o;a=a.split(".");for(var E=0;E<a.length-1;E++){var O=a[E];if(!(O in g))break e;g=g[O]}a=a[a.length-1],E=g[a],d=d(E),d!=E&&d!=null&&e(g,a,{configurable:!0,writable:!0,value:d})}}function c(a,d){a instanceof String&&(a+="");var g=0,E=!1,O={next:function(){if(!E&&g<a.length){var U=g++;return{value:d(U,a[U]),done:!1}}return E=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}l("Array.prototype.values",function(a){return a||function(){return c(this,function(d,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function _(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function v(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function I(a,d,g){return a.call.apply(a.bind,arguments)}function x(a,d,g){if(!a)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,E),a.apply(d,O)}}return function(){return a.apply(d,arguments)}}function L(a,d,g){return L=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?I:x,L.apply(null,arguments)}function B(a,d){var g=Array.prototype.slice.call(arguments,1);return function(){var E=g.slice();return E.push.apply(E,arguments),a.apply(this,E)}}function X(a,d){function g(){}g.prototype=d.prototype,a.aa=d.prototype,a.prototype=new g,a.prototype.constructor=a,a.Qb=function(E,O,U){for(var Z=Array(arguments.length-2),be=2;be<arguments.length;be++)Z[be-2]=arguments[be];return d.prototype[O].apply(E,Z)}}function J(a){const d=a.length;if(0<d){const g=Array(d);for(let E=0;E<d;E++)g[E]=a[E];return g}return[]}function z(a,d){for(let g=1;g<arguments.length;g++){const E=arguments[g];if(_(E)){const O=a.length||0,U=E.length||0;a.length=O+U;for(let Z=0;Z<U;Z++)a[O+Z]=E[Z]}else a.push(E)}}class Ee{constructor(d,g){this.i=d,this.j=g,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function de(a){return/^[\s\xa0]*$/.test(a)}function ye(){var a=m.navigator;return a&&(a=a.userAgent)?a:""}function ve(a){return ve[" "](a),a}ve[" "]=function(){};var Ze=ye().indexOf("Gecko")!=-1&&!(ye().toLowerCase().indexOf("webkit")!=-1&&ye().indexOf("Edge")==-1)&&!(ye().indexOf("Trident")!=-1||ye().indexOf("MSIE")!=-1)&&ye().indexOf("Edge")==-1;function xe(a,d,g){for(const E in a)d.call(g,a[E],E,a)}function k(a,d){for(const g in a)d.call(void 0,a[g],g,a)}function T(a){const d={};for(const g in a)d[g]=a[g];return d}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(a,d){let g,E;for(let O=1;O<arguments.length;O++){E=arguments[O];for(g in E)a[g]=E[g];for(let U=0;U<A.length;U++)g=A[U],Object.prototype.hasOwnProperty.call(E,g)&&(a[g]=E[g])}}function V(a){var d=1;a=a.split(":");const g=[];for(;0<d&&a.length;)g.push(a.shift()),d--;return a.length&&g.push(a.join(":")),g}function D(a){m.setTimeout(()=>{throw a},0)}function S(){var a=fe;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class Qe{constructor(){this.h=this.g=null}add(d,g){const E=kt.get();E.set(d,g),this.h?this.h.next=E:this.g=E,this.h=E}}var kt=new Ee(()=>new gt,a=>a.reset());class gt{constructor(){this.next=this.g=this.h=null}set(d,g){this.h=d,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Be,ee=!1,fe=new Qe,te=()=>{const a=m.Promise.resolve(void 0);Be=()=>{a.then(N)}};var N=()=>{for(var a;a=S();){try{a.h.call(a.g)}catch(g){D(g)}var d=kt;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}ee=!1};function b(){this.s=this.s,this.C=this.C}b.prototype.s=!1,b.prototype.ma=function(){this.s||(this.s=!0,this.N())},b.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var Ae=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const g=()=>{};m.addEventListener("test",g,d),m.removeEventListener("test",g,d)}catch{}return a}();function Re(a,d){if(ce.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var g=this.type=a.type,E=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(Ze){e:{try{ve(d.nodeName);var O=!0;break e}catch{}O=!1}O||(d=null)}}else g=="mouseover"?d=a.fromElement:g=="mouseout"&&(d=a.toElement);this.relatedTarget=d,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Ce[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Re.aa.h.call(this)}}X(Re,ce);var Ce={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),Oe=0;function K(a,d,g,E,O){this.listener=a,this.proxy=null,this.src=d,this.type=g,this.capture=!!E,this.ha=O,this.key=++Oe,this.da=this.fa=!1}function ne(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function he(a){this.src=a,this.g={},this.h=0}he.prototype.add=function(a,d,g,E,O){var U=a.toString();a=this.g[U],a||(a=this.g[U]=[],this.h++);var Z=Me(a,d,E,O);return-1<Z?(d=a[Z],g||(d.fa=!1)):(d=new K(d,this.src,U,!!E,O),d.fa=g,a.push(d)),d};function _e(a,d){var g=d.type;if(g in a.g){var E=a.g[g],O=Array.prototype.indexOf.call(E,d,void 0),U;(U=0<=O)&&Array.prototype.splice.call(E,O,1),U&&(ne(d),a.g[g].length==0&&(delete a.g[g],a.h--))}}function Me(a,d,g,E){for(var O=0;O<a.length;++O){var U=a[O];if(!U.da&&U.listener==d&&U.capture==!!g&&U.ha==E)return O}return-1}var Ye="closure_lm_"+(1e6*Math.random()|0),kn={};function xr(a,d,g,E,O){if(Array.isArray(d)){for(var U=0;U<d.length;U++)xr(a,d[U],g,E,O);return null}return g=at(g),a&&a[Le]?a.K(d,g,v(E)?!!E.capture:!1,O):Hn(a,d,g,!1,E,O)}function Hn(a,d,g,E,O,U){if(!d)throw Error("Invalid event type");var Z=v(O)?!!O.capture:!!O,be=Wn(a);if(be||(a[Ye]=be=new he(a)),g=be.add(d,g,E,Z,U),g.proxy)return g;if(E=rt(),g.proxy=E,E.src=a,E.listener=g,a.addEventListener)Ae||(O=Z),O===void 0&&(O=!1),a.addEventListener(d.toString(),E,O);else if(a.attachEvent)a.attachEvent(ln(d.toString()),E);else if(a.addListener&&a.removeListener)a.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return g}function rt(){function a(g){return d.call(a.src,a.listener,g)}const d=Vr;return a}function It(a,d,g,E,O){if(Array.isArray(d))for(var U=0;U<d.length;U++)It(a,d[U],g,E,O);else E=v(E)?!!E.capture:!!E,g=at(g),a&&a[Le]?(a=a.i,d=String(d).toString(),d in a.g&&(U=a.g[d],g=Me(U,g,E,O),-1<g&&(ne(U[g]),Array.prototype.splice.call(U,g,1),U.length==0&&(delete a.g[d],a.h--)))):a&&(a=Wn(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Me(d,g,E,O)),(g=-1<a?d[a]:null)&&jt(g))}function jt(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[Le])_e(d.i,a);else{var g=a.type,E=a.proxy;d.removeEventListener?d.removeEventListener(g,E,a.capture):d.detachEvent?d.detachEvent(ln(g),E):d.addListener&&d.removeListener&&d.removeListener(E),(g=Wn(d))?(_e(g,a),g.h==0&&(g.src=null,d[Ye]=null)):ne(a)}}}function ln(a){return a in kn?kn[a]:kn[a]="on"+a}function Vr(a,d){if(a.da)a=!0;else{d=new Re(d,this);var g=a.listener,E=a.ha||a.src;a.fa&&jt(a),a=g.call(E,d)}return a}function Wn(a){return a=a[Ye],a instanceof he?a:null}var ur="__closure_events_fn_"+(1e9*Math.random()>>>0);function at(a){return typeof a=="function"?a:(a[ur]||(a[ur]=function(d){return a.handleEvent(d)}),a[ur])}function He(){b.call(this),this.i=new he(this),this.M=this,this.F=null}X(He,b),He.prototype[Le]=!0,He.prototype.removeEventListener=function(a,d,g,E){It(this,a,d,g,E)};function yt(a,d){var g,E=a.F;if(E)for(g=[];E;E=E.F)g.push(E);if(a=a.M,E=d.type||d,typeof d=="string")d=new ce(d,a);else if(d instanceof ce)d.target=d.target||a;else{var O=d;d=new ce(E,a),C(d,O)}if(O=!0,g)for(var U=g.length-1;0<=U;U--){var Z=d.g=g[U];O=cr(Z,E,!0,d)&&O}if(Z=d.g=a,O=cr(Z,E,!0,d)&&O,O=cr(Z,E,!1,d)&&O,g)for(U=0;U<g.length;U++)Z=d.g=g[U],O=cr(Z,E,!1,d)&&O}He.prototype.N=function(){if(He.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var g=a.g[d],E=0;E<g.length;E++)ne(g[E]);delete a.g[d],a.h--}}this.F=null},He.prototype.K=function(a,d,g,E){return this.i.add(String(a),d,!1,g,E)},He.prototype.L=function(a,d,g,E){return this.i.add(String(a),d,!0,g,E)};function cr(a,d,g,E){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var O=!0,U=0;U<d.length;++U){var Z=d[U];if(Z&&!Z.da&&Z.capture==g){var be=Z.listener,_t=Z.ha||Z.src;Z.fa&&_e(a.i,Z),O=be.call(_t,E)!==!1&&O}}return O&&!E.defaultPrevented}function Ys(a,d,g){if(typeof a=="function")g&&(a=L(a,g));else if(a&&typeof a.handleEvent=="function")a=L(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:m.setTimeout(a,d||0)}function Nr(a){a.g=Ys(()=>{a.g=null,a.i&&(a.i=!1,Nr(a))},a.l);const d=a.h;a.h=null,a.m.apply(null,d)}class hi extends b{constructor(d,g){super(),this.m=d,this.l=g,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Nr(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fi(a){b.call(this),this.h=a,this.g={}}X(fi,b);var Xs=[];function Js(a){xe(a.g,function(d,g){this.g.hasOwnProperty(g)&&jt(d)},a),a.g={}}fi.prototype.N=function(){fi.aa.N.call(this),Js(this)},fi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zs=m.JSON.stringify,eo=m.JSON.parse,to=class{stringify(a){return m.JSON.stringify(a,void 0)}parse(a){return m.JSON.parse(a,void 0)}};function di(){}di.prototype.h=null;function Qi(a){return a.h||(a.h=a.i())}function Ki(){}var vn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qn(){ce.call(this,"d")}X(Qn,ce);function Gi(){ce.call(this,"c")}X(Gi,ce);var Kn={},no=null;function pi(){return no=no||new He}Kn.La="serverreachability";function ro(a){ce.call(this,Kn.La,a)}X(ro,ce);function hr(a){const d=pi();yt(d,new ro(d))}Kn.STAT_EVENT="statevent";function io(a,d){ce.call(this,Kn.STAT_EVENT,a),this.stat=d}X(io,ce);function ut(a){const d=pi();yt(d,new io(d,a))}Kn.Ma="timingevent";function Yi(a,d){ce.call(this,Kn.Ma,a),this.size=d}X(Yi,ce);function xn(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){a()},d)}function mi(){this.g=!0}mi.prototype.xa=function(){this.g=!1};function gi(a,d,g,E,O,U){a.info(function(){if(a.g)if(U)for(var Z="",be=U.split("&"),_t=0;_t<be.length;_t++){var Ne=be[_t].split("=");if(1<Ne.length){var St=Ne[0];Ne=Ne[1];var dt=St.split("_");Z=2<=dt.length&&dt[1]=="type"?Z+(St+"="+Ne+"&"):Z+(St+"=redacted&")}}else Z=null;else Z=U;return"XMLHTTP REQ ("+E+") [attempt "+O+"]: "+d+`
`+g+`
`+Z})}function Xi(a,d,g,E,O,U,Z){a.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+O+"]: "+d+`
`+g+`
`+U+" "+Z})}function Vn(a,d,g,E){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+mu(a,g)+(E?" "+E:"")})}function so(a,d){a.info(function(){return"TIMEOUT: "+d})}mi.prototype.info=function(){};function mu(a,d){if(!a.g)return d;if(!d)return null;try{var g=JSON.parse(d);if(g){for(a=0;a<g.length;a++)if(Array.isArray(g[a])){var E=g[a];if(!(2>E.length)){var O=E[1];if(Array.isArray(O)&&!(1>O.length)){var U=O[0];if(U!="noop"&&U!="stop"&&U!="close")for(var Z=1;Z<O.length;Z++)O[Z]=""}}}}return Zs(g)}catch{return d}}var Ji={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},da={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Nn;function yi(){}X(yi,di),yi.prototype.g=function(){return new XMLHttpRequest},yi.prototype.i=function(){return{}},Nn=new yi;function Dn(a,d,g,E){this.j=a,this.i=d,this.l=g,this.R=E||1,this.U=new fi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pa}function pa(){this.i=null,this.g="",this.h=!1}var oo={},Zi={};function es(a,d,g){a.L=1,a.v=Fr(cn(d)),a.m=g,a.P=!0,ao(a,null)}function ao(a,d){a.F=Date.now(),Ke(a),a.A=cn(a.v);var g=a.A,E=a.R;Array.isArray(E)||(E=[String(E)]),Ur(g.i,"t",E),a.C=0,g=a.j.J,a.h=new pa,a.g=Na(a.j,g?d:null,!a.m),0<a.O&&(a.M=new hi(L(a.Y,a,a.g),a.O)),d=a.U,g=a.g,E=a.ca;var O="readystatechange";Array.isArray(O)||(O&&(Xs[0]=O.toString()),O=Xs);for(var U=0;U<O.length;U++){var Z=xr(g,O[U],E||d.handleEvent,!1,d.h||d);if(!Z)break;d.g[Z.key]=Z}d=a.H?T(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),hr(),gi(a.i,a.u,a.A,a.l,a.R,a.m)}Dn.prototype.ca=function(a){a=a.target;const d=this.M;d&&Xt(a)==3?d.j():this.Y(a)},Dn.prototype.Y=function(a){try{if(a==this.g)e:{const dt=Xt(this.g);var d=this.g.Ba();const Tn=this.g.Z();if(!(3>dt)&&(dt!=3||this.g&&(this.h.h||this.g.oa()||po(this.g)))){this.J||dt!=4||d==7||(d==8||0>=Tn?hr(3):hr(2)),_i(this);var g=this.g.Z();this.X=g;t:if(ma(this)){var E=po(this.g);a="";var O=E.length,U=Xt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){En(this),Dr(this);var Z="";break t}this.h.i=new m.TextDecoder}for(d=0;d<O;d++)this.h.h=!0,a+=this.h.i.decode(E[d],{stream:!(U&&d==O-1)});E.length=0,this.h.g+=a,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=g==200,Xi(this.i,this.u,this.A,this.l,this.R,dt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var be,_t=this.g;if((be=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!de(be)){var Ne=be;break t}}Ne=null}if(g=Ne)Vn(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lo(this,g);else{this.o=!1,this.s=3,ut(12),En(this),Dr(this);break e}}if(this.P){g=!0;let fn;for(;!this.J&&this.C<Z.length;)if(fn=gu(this,Z),fn==Zi){dt==4&&(this.s=4,ut(14),g=!1),Vn(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==oo){this.s=4,ut(15),Vn(this.i,this.l,Z,"[Invalid Chunk]"),g=!1;break}else Vn(this.i,this.l,fn,null),lo(this,fn);if(ma(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dt!=4||Z.length!=0||this.h.h||(this.s=1,ut(16),g=!1),this.o=this.o&&g,!g)Vn(this.i,this.l,Z,"[Invalid Chunked Response]"),En(this),Dr(this);else if(0<Z.length&&!this.W){this.W=!0;var St=this.j;St.g==this&&St.ba&&!St.M&&(St.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),go(St),St.M=!0,ut(11))}}else Vn(this.i,this.l,Z,null),lo(this,Z);dt==4&&En(this),this.o&&!this.J&&(dt==4?hs(this.j,this):(this.o=!1,Ke(this)))}else os(this.g),g==400&&0<Z.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),En(this),Dr(this)}}}catch{}finally{}};function ma(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function gu(a,d){var g=a.C,E=d.indexOf(`
`,g);return E==-1?Zi:(g=Number(d.substring(g,E)),isNaN(g)?oo:(E+=1,E+g>d.length?Zi:(d=d.slice(E,E+g),a.C=E+g,d)))}Dn.prototype.cancel=function(){this.J=!0,En(this)};function Ke(a){a.S=Date.now()+a.I,ga(a,a.I)}function ga(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=xn(L(a.ba,a),d)}function _i(a){a.B&&(m.clearTimeout(a.B),a.B=null)}Dn.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(so(this.i,this.A),this.L!=2&&(hr(),ut(17)),En(this),this.s=2,Dr(this)):ga(this,this.S-a)};function Dr(a){a.j.G==0||a.J||hs(a.j,a)}function En(a){_i(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,Js(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function lo(a,d){try{var g=a.j;if(g.G!=0&&(g.g==a||Wt(g.h,a))){if(!a.K&&Wt(g.h,a)&&g.G==3){try{var E=g.Da.g.parse(d)}catch{E=null}if(Array.isArray(E)&&E.length==3){var O=E;if(O[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<a.F)cs(g),jn(g);else break e;us(g),ut(18)}}else g.za=O[1],0<g.za-g.T&&37500>O[2]&&g.F&&g.v==0&&!g.C&&(g.C=xn(L(g.Za,g),6e3));if(1>=_a(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else gr(g,11)}else if((a.K||g.g==a)&&cs(g),!de(d))for(O=g.Da.g.parse(d),d=0;d<O.length;d++){let Ne=O[d];if(g.T=Ne[0],Ne=Ne[1],g.G==2)if(Ne[0]=="c"){g.K=Ne[1],g.ia=Ne[2];const St=Ne[3];St!=null&&(g.la=St,g.j.info("VER="+g.la));const dt=Ne[4];dt!=null&&(g.Aa=dt,g.j.info("SVER="+g.Aa));const Tn=Ne[5];Tn!=null&&typeof Tn=="number"&&0<Tn&&(E=1.5*Tn,g.L=E,g.j.info("backChannelRequestTimeoutMs_="+E)),E=g;const fn=a.g;if(fn){const Ai=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ai){var U=E.h;U.g||Ai.indexOf("spdy")==-1&&Ai.indexOf("quic")==-1&&Ai.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(uo(U,U.h),U.h=null))}if(E.D){const ds=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;ds&&(E.ya=ds,We(E.I,E.D,ds))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-a.F,g.j.info("Handshake RTT: "+g.R+"ms")),E=g;var Z=a;if(E.qa=Va(E,E.J?E.ia:null,E.W),Z.K){va(E.h,Z);var be=Z,_t=E.L;_t&&(be.I=_t),be.B&&(_i(be),Ke(be)),E.g=Z}else Si(E);0<g.i.length&&Jn(g)}else Ne[0]!="stop"&&Ne[0]!="close"||gr(g,7);else g.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?gr(g,7):Vt(g):Ne[0]!="noop"&&g.l&&g.l.ta(Ne),g.v=0)}}hr(4)}catch{}}var ya=class{constructor(a,d){this.g=a,this.map=d}};function vi(a){this.l=a||10,m.PerformanceNavigationTiming?(a=m.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function un(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function _a(a){return a.h?1:a.g?a.g.size:0}function Wt(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function uo(a,d){a.g?a.g.add(d):a.h=d}function va(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}vi.prototype.cancel=function(){if(this.i=Ea(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Ea(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(const g of a.g.values())d=d.concat(g.D);return d}return J(a.i)}function ts(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(_(a)){for(var d=[],g=a.length,E=0;E<g;E++)d.push(a[E]);return d}d=[],g=0;for(E in a)d[g++]=a[E];return d}function ns(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(_(a)||typeof a=="string"){var d=[];a=a.length;for(var g=0;g<a;g++)d.push(g);return d}d=[],g=0;for(const E in a)d[g++]=E;return d}}}function Lr(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(_(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var g=ns(a),E=ts(a),O=E.length,U=0;U<O;U++)d.call(void 0,E[U],g&&g[U],a)}var Ei=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yu(a,d){if(a){a=a.split("&");for(var g=0;g<a.length;g++){var E=a[g].indexOf("="),O=null;if(0<=E){var U=a[g].substring(0,E);O=a[g].substring(E+1)}else U=a[g];d(U,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function fr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof fr){this.h=a.h,wi(this,a.j),this.o=a.o,this.g=a.g,Or(this,a.s),this.l=a.l;var d=a.i,g=new Gn;g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),Mr(this,g),this.m=a.m}else a&&(d=String(a).match(Ei))?(this.h=!1,wi(this,d[1]||"",!0),this.o=Ve(d[2]||""),this.g=Ve(d[3]||"",!0),Or(this,d[4]),this.l=Ve(d[5]||"",!0),Mr(this,d[6]||"",!0),this.m=Ve(d[7]||"")):(this.h=!1,this.i=new Gn(null,this.h))}fr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(jr(d,rs,!0),":");var g=this.g;return(g||d=="file")&&(a.push("//"),(d=this.o)&&a.push(jr(d,rs,!0),"@"),a.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&a.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&a.push("/"),a.push(jr(g,g.charAt(0)=="/"?Ia:Ta,!0))),(g=this.i.toString())&&a.push("?",g),(g=this.m)&&a.push("#",jr(g,co)),a.join("")};function cn(a){return new fr(a)}function wi(a,d,g){a.j=g?Ve(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Or(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function Mr(a,d,g){d instanceof Gn?(a.i=d,Yn(a.i,a.h)):(g||(d=jr(d,Sa)),a.i=new Gn(d,a.h))}function We(a,d,g){a.i.set(d,g)}function Fr(a){return We(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Ve(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function jr(a,d,g){return typeof a=="string"?(a=encodeURI(a).replace(d,wa),g&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function wa(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var rs=/[#\/\?@]/g,Ta=/[#\?:]/g,Ia=/[#\?]/g,Sa=/[#\?@]/g,co=/#/g;function Gn(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function xt(a){a.g||(a.g=new Map,a.h=0,a.i&&yu(a.i,function(d,g){a.add(decodeURIComponent(d.replace(/\+/g," ")),g)}))}i=Gn.prototype,i.add=function(a,d){xt(this),this.i=null,a=wn(this,a);var g=this.g.get(a);return g||this.g.set(a,g=[]),g.push(d),this.h+=1,this};function Ln(a,d){xt(a),d=wn(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function On(a,d){return xt(a),d=wn(a,d),a.g.has(d)}i.forEach=function(a,d){xt(this),this.g.forEach(function(g,E){g.forEach(function(O){a.call(d,O,E,this)},this)},this)},i.na=function(){xt(this);const a=Array.from(this.g.values()),d=Array.from(this.g.keys()),g=[];for(let E=0;E<d.length;E++){const O=a[E];for(let U=0;U<O.length;U++)g.push(d[E])}return g},i.V=function(a){xt(this);let d=[];if(typeof a=="string")On(this,a)&&(d=d.concat(this.g.get(wn(this,a))));else{a=Array.from(this.g.values());for(let g=0;g<a.length;g++)d=d.concat(a[g])}return d},i.set=function(a,d){return xt(this),this.i=null,a=wn(this,a),On(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},i.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function Ur(a,d,g){Ln(a,d),0<g.length&&(a.i=null,a.g.set(wn(a,d),J(g)),a.h+=g.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],d=Array.from(this.g.keys());for(var g=0;g<d.length;g++){var E=d[g];const U=encodeURIComponent(String(E)),Z=this.V(E);for(E=0;E<Z.length;E++){var O=U;Z[E]!==""&&(O+="="+encodeURIComponent(String(Z[E]))),a.push(O)}}return this.i=a.join("&")};function wn(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function Yn(a,d){d&&!a.j&&(xt(a),a.i=null,a.g.forEach(function(g,E){var O=E.toLowerCase();E!=O&&(Ln(this,E),Ur(this,O,g))},a)),a.j=d}function _u(a,d){const g=new mi;if(m.Image){const E=new Image;E.onload=B(Yt,g,"TestLoadImage: loaded",!0,d,E),E.onerror=B(Yt,g,"TestLoadImage: error",!1,d,E),E.onabort=B(Yt,g,"TestLoadImage: abort",!1,d,E),E.ontimeout=B(Yt,g,"TestLoadImage: timeout",!1,d,E),m.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=a}else d(!1)}function Aa(a,d){const g=new mi,E=new AbortController,O=setTimeout(()=>{E.abort(),Yt(g,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:E.signal}).then(U=>{clearTimeout(O),U.ok?Yt(g,"TestPingServer: ok",!0,d):Yt(g,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(O),Yt(g,"TestPingServer: error",!1,d)})}function Yt(a,d,g,E,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),E(g)}catch{}}function vu(){this.g=new to}function Ra(a,d,g){const E=g||"";try{Lr(a,function(O,U){let Z=O;v(O)&&(Z=Zs(O)),d.push(E+U+"="+encodeURIComponent(Z))})}catch(O){throw d.push(E+"type="+encodeURIComponent("_badmap")),O}}function dr(a){this.l=a.Ub||null,this.j=a.eb||!1}X(dr,di),dr.prototype.g=function(){return new Ti(this.l,this.j)},dr.prototype.i=function(a){return function(){return a}}({});function Ti(a,d){He.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}X(Ti,He),i=Ti.prototype,i.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,Fn(this)},i.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||m).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mn(this)),this.readyState=0},i.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ca(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ca(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}i.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?Mn(this):Fn(this),this.readyState==3&&Ca(this)}},i.Ra=function(a){this.g&&(this.response=this.responseText=a,Mn(this))},i.Qa=function(a){this.g&&(this.response=a,Mn(this))},i.ga=function(){this.g&&Mn(this)};function Mn(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Fn(a)}i.setRequestHeader=function(a,d){this.u.append(a,d)},i.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],d=this.h.entries();for(var g=d.next();!g.done;)g=g.value,a.push(g[0]+": "+g[1]),g=d.next();return a.join(`\r
`)};function Fn(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Ti.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function pr(a){let d="";return xe(a,function(g,E){d+=E,d+=":",d+=g,d+=`\r
`}),d}function zr(a,d,g){e:{for(E in g){var E=!1;break e}E=!0}E||(g=pr(g),typeof a=="string"?g!=null&&encodeURIComponent(String(g)):We(a,d,g))}function et(a){He.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}X(et,He);var Eu=/^https?$/i,ho=["POST","PUT"];i=et.prototype,i.Ha=function(a){this.J=a},i.ea=function(a,d,g,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Nn.g(),this.v=this.o?Qi(this.o):Qi(Nn),this.g.onreadystatechange=L(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(U){Ii(this,U);return}if(a=g||"",g=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var O in E)g.set(O,E[O]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const U of E.keys())g.set(U,E.get(U));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(g.keys()).find(U=>U.toLowerCase()=="content-type"),O=m.FormData&&a instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ho,d,void 0))||E||O||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,Z]of g)this.g.setRequestHeader(U,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ss(this),this.u=!0,this.g.send(a),this.u=!1}catch(U){Ii(this,U)}};function Ii(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,is(a),hn(a)}function is(a){a.A||(a.A=!0,yt(a,"complete"),yt(a,"error"))}i.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,yt(this,"complete"),yt(this,"abort"),hn(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hn(this,!0)),et.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?fo(this):this.bb())},i.bb=function(){fo(this)};function fo(a){if(a.h&&typeof f<"u"&&(!a.v[1]||Xt(a)!=4||a.Z()!=2)){if(a.u&&Xt(a)==4)Ys(a.Ea,0,a);else if(yt(a,"readystatechange"),Xt(a)==4){a.h=!1;try{const Z=a.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var g;if(!(g=d)){var E;if(E=Z===0){var O=String(a.D).match(Ei)[1]||null;!O&&m.self&&m.self.location&&(O=m.self.location.protocol.slice(0,-1)),E=!Eu.test(O?O.toLowerCase():"")}g=E}if(g)yt(a,"complete"),yt(a,"success");else{a.m=6;try{var U=2<Xt(a)?a.g.statusText:""}catch{U=""}a.l=U+" ["+a.Z()+"]",is(a)}}finally{hn(a)}}}}function hn(a,d){if(a.g){ss(a);const g=a.g,E=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||yt(a,"ready");try{g.onreadystatechange=E}catch{}}}function ss(a){a.I&&(m.clearTimeout(a.I),a.I=null)}i.isActive=function(){return!!this.g};function Xt(a){return a.g?a.g.readyState:0}i.Z=function(){try{return 2<Xt(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),eo(d)}};function po(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function os(a){const d={};a=(a.g&&2<=Xt(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<a.length;E++){if(de(a[E]))continue;var g=V(a[E]);const O=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const U=d[O]||[];d[O]=U,U.push(g)}k(d,function(E){return E.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xn(a,d,g){return g&&g.internalChannelParams&&g.internalChannelParams[a]||d}function mo(a){this.Aa=0,this.i=[],this.j=new mi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xn("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xn("baseRetryDelayMs",5e3,a),this.cb=Xn("retryDelaySeedMs",1e4,a),this.Wa=Xn("forwardChannelMaxRetries",2,a),this.wa=Xn("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new vi(a&&a.concurrentRequestLimit),this.Da=new vu,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=mo.prototype,i.la=8,i.G=1,i.connect=function(a,d,g,E){ut(0),this.W=a,this.H=d||{},g&&E!==void 0&&(this.H.OSID=g,this.H.OAID=E),this.F=this.X,this.I=Va(this,null,this.W),Jn(this)};function Vt(a){if(as(a),a.G==3){var d=a.U++,g=cn(a.I);if(We(g,"SID",a.K),We(g,"RID",d),We(g,"TYPE","terminate"),mr(a,g),d=new Dn(a,a.j,d),d.L=2,d.v=Fr(cn(g)),g=!1,m.navigator&&m.navigator.sendBeacon)try{g=m.navigator.sendBeacon(d.v.toString(),"")}catch{}!g&&m.Image&&(new Image().src=d.v,g=!0),g||(d.g=Na(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Ke(d)}xa(a)}function jn(a){a.g&&(go(a),a.g.cancel(),a.g=null)}function as(a){jn(a),a.u&&(m.clearTimeout(a.u),a.u=null),cs(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&m.clearTimeout(a.s),a.s=null)}function Jn(a){if(!un(a.h)&&!a.s){a.s=!0;var d=a.Ga;Be||te(),ee||(Be(),ee=!0),fe.add(d,a),a.B=0}}function wu(a,d){return _a(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=xn(L(a.Ga,a,d),ka(a,a.B)),a.B++,!0)}i.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const O=new Dn(this,this.j,a);let U=this.o;if(this.S&&(U?(U=T(U),C(U,this.S)):U=this.S),this.m!==null||this.O||(O.H=U,U=null),this.P)e:{for(var d=0,g=0;g<this.i.length;g++){t:{var E=this.i[g];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(d+=E,4096<d){d=g;break e}if(d===4096||g===this.i.length-1){d=g+1;break e}}d=1e3}else d=1e3;d=Br(this,O,d),g=cn(this.I),We(g,"RID",a),We(g,"CVER",22),this.D&&We(g,"X-HTTP-Session-Id",this.D),mr(this,g),U&&(this.O?d="headers="+encodeURIComponent(String(pr(U)))+"&"+d:this.m&&zr(g,this.m,U)),uo(this.h,O),this.Ua&&We(g,"TYPE","init"),this.P?(We(g,"$req",d),We(g,"SID","null"),O.T=!0,es(O,g,null)):es(O,g,d),this.G=2}}else this.G==3&&(a?ls(this,a):this.i.length==0||un(this.h)||ls(this))};function ls(a,d){var g;d?g=d.l:g=a.U++;const E=cn(a.I);We(E,"SID",a.K),We(E,"RID",g),We(E,"AID",a.T),mr(a,E),a.m&&a.o&&zr(E,a.m,a.o),g=new Dn(a,a.j,g,a.B+1),a.m===null&&(g.H=a.o),d&&(a.i=d.D.concat(a.i)),d=Br(a,g,1e3),g.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),uo(a.h,g),es(g,E,d)}function mr(a,d){a.H&&xe(a.H,function(g,E){We(d,E,g)}),a.l&&Lr({},function(g,E){We(d,E,g)})}function Br(a,d,g){g=Math.min(a.i.length,g);var E=a.l?L(a.l.Na,a.l,a):null;e:{var O=a.i;let U=-1;for(;;){const Z=["count="+g];U==-1?0<g?(U=O[0].g,Z.push("ofs="+U)):U=0:Z.push("ofs="+U);let be=!0;for(let _t=0;_t<g;_t++){let Ne=O[_t].g;const St=O[_t].map;if(Ne-=U,0>Ne)U=Math.max(0,O[_t].g-100),be=!1;else try{Ra(St,Z,"req"+Ne+"_")}catch{E&&E(St)}}if(be){E=Z.join("&");break e}}}return a=a.i.splice(0,g),d.D=a,E}function Si(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;Be||te(),ee||(Be(),ee=!0),fe.add(d,a),a.v=0}}function us(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=xn(L(a.Fa,a),ka(a,a.v)),a.v++,!0)}i.Fa=function(){if(this.u=null,Pa(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=xn(L(this.ab,this),a)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),jn(this),Pa(this))};function go(a){a.A!=null&&(m.clearTimeout(a.A),a.A=null)}function Pa(a){a.g=new Dn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=cn(a.qa);We(d,"RID","rpc"),We(d,"SID",a.K),We(d,"AID",a.T),We(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&We(d,"TO",a.ja),We(d,"TYPE","xmlhttp"),mr(a,d),a.m&&a.o&&zr(d,a.m,a.o),a.L&&(a.g.I=a.L);var g=a.g;a=a.ia,g.L=1,g.v=Fr(cn(d)),g.m=null,g.P=!0,ao(g,a)}i.Za=function(){this.C!=null&&(this.C=null,jn(this),us(this),ut(19))};function cs(a){a.C!=null&&(m.clearTimeout(a.C),a.C=null)}function hs(a,d){var g=null;if(a.g==d){cs(a),go(a),a.g=null;var E=2}else if(Wt(a.h,d))g=d.D,va(a.h,d),E=1;else return;if(a.G!=0){if(d.o)if(E==1){g=d.m?d.m.length:0,d=Date.now()-d.F;var O=a.B;E=pi(),yt(E,new Yi(E,g)),Jn(a)}else Si(a);else if(O=d.s,O==3||O==0&&0<d.X||!(E==1&&wu(a,d)||E==2&&us(a)))switch(g&&0<g.length&&(d=a.h,d.i=d.i.concat(g)),O){case 1:gr(a,5);break;case 4:gr(a,10);break;case 3:gr(a,6);break;default:gr(a,2)}}}function ka(a,d){let g=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(g*=2),g*d}function gr(a,d){if(a.j.info("Error code "+d),d==2){var g=L(a.fb,a),E=a.Xa;const O=!E;E=new fr(E||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||wi(E,"https"),Fr(E),O?_u(E.toString(),g):Aa(E.toString(),g)}else ut(2);a.G=0,a.l&&a.l.sa(d),xa(a),as(a)}i.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function xa(a){if(a.G=0,a.ka=[],a.l){const d=Ea(a.h);(d.length!=0||a.i.length!=0)&&(z(a.ka,d),z(a.ka,a.i),a.h.i.length=0,J(a.i),a.i.length=0),a.l.ra()}}function Va(a,d,g){var E=g instanceof fr?cn(g):new fr(g);if(E.g!="")d&&(E.g=d+"."+E.g),Or(E,E.s);else{var O=m.location;E=O.protocol,d=d?d+"."+O.hostname:O.hostname,O=+O.port;var U=new fr(null);E&&wi(U,E),d&&(U.g=d),O&&Or(U,O),g&&(U.l=g),E=U}return g=a.D,d=a.ya,g&&d&&We(E,g,d),We(E,"VER",a.la),mr(a,E),E}function Na(a,d,g){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new et(new dr({eb:g})):new et(a.pa),d.Ha(a.J),d}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function yo(){}i=yo.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function fs(){}fs.prototype.g=function(a,d){return new Qt(a,d)};function Qt(a,d){He.call(this),this.g=new mo(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!de(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!de(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Zn(this)}X(Qt,He),Qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qt.prototype.close=function(){Vt(this.g)},Qt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var g={};g.__data__=a,a=g}else this.u&&(g={},g.__data__=Zs(a),a=g);d.i.push(new ya(d.Ya++,a)),d.G==3&&Jn(d)},Qt.prototype.N=function(){this.g.l=null,delete this.j,Vt(this.g),delete this.g,Qt.aa.N.call(this)};function Da(a){Qn.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(const g in d){a=g;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}X(Da,Qn);function La(){Gi.call(this),this.status=1}X(La,Gi);function Zn(a){this.g=a}X(Zn,yo),Zn.prototype.ua=function(){yt(this.g,"a")},Zn.prototype.ta=function(a){yt(this.g,new Da(a))},Zn.prototype.sa=function(a){yt(this.g,new La)},Zn.prototype.ra=function(){yt(this.g,"b")},fs.prototype.createWebChannel=fs.prototype.g,Qt.prototype.send=Qt.prototype.o,Qt.prototype.open=Qt.prototype.m,Qt.prototype.close=Qt.prototype.close,Om=function(){return new fs},Lm=function(){return pi()},Dm=Kn,lh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ji.NO_ERROR=0,Ji.TIMEOUT=8,Ji.HTTP_ERROR=6,Ll=Ji,da.COMPLETE="complete",Nm=da,Ki.EventType=vn,vn.OPEN="a",vn.CLOSE="b",vn.ERROR="c",vn.MESSAGE="d",He.prototype.listen=He.prototype.K,$o=Ki,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,Vm=et}).apply(typeof Pl<"u"?Pl:typeof self<"u"?self:typeof window<"u"?window:{});const Mp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qt.UNAUTHENTICATED=new qt(null),qt.GOOGLE_CREDENTIALS=new qt("google-credentials-uid"),qt.FIRST_PARTY=new qt("first-party-uid"),qt.MOCK_USER=new qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qs="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new Sm("@firebase/firestore");function bo(){return bi.logLevel}function ae(i,...e){if(bi.logLevel<=je.DEBUG){const r=e.map(Rh);bi.debug(`Firestore (${Qs}): ${i}`,...r)}}function Cr(i,...e){if(bi.logLevel<=je.ERROR){const r=e.map(Rh);bi.error(`Firestore (${Qs}): ${i}`,...r)}}function Us(i,...e){if(bi.logLevel<=je.WARN){const r=e.map(Rh);bi.warn(`Firestore (${Qs}): ${i}`,...r)}}function Rh(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(i="Unexpected state"){const e=`FIRESTORE (${Qs}) INTERNAL ASSERTION FAILED: `+i;throw Cr(e),new Error(e)}function qe(i,e){i||Te()}function Se(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Ws{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Uv{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(qt.UNAUTHENTICATED))}shutdown(){}}class zv{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Bv{constructor(e){this.t=e,this.currentUser=qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){qe(this.o===void 0);let o=this.i;const l=_=>this.i!==o?(o=this.i,r(_)):Promise.resolve();let c=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ar,e.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const _=c;e.enqueueRetryable(async()=>{await _.promise,await l(this.currentUser)})},m=_=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(_=>m(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?m(_):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ar)}},0),f()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(qe(typeof o.accessToken=="string"),new Mm(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string"),new qt(e)}}class bv{constructor(e,r,o){this.l=e,this.h=r,this.P=o,this.type="FirstParty",this.user=qt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class $v{constructor(e,r,o){this.l=e,this.h=r,this.P=o}getToken(){return Promise.resolve(new bv(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Hv{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){qe(this.o===void 0);const o=c=>{c.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,ae("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?r(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>o(c))};const l=c=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?l(c):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(qe(typeof r.token=="string"),this.R=r.token,new qv(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let o=0;o<i;o++)r[o]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const l=Wv(40);for(let c=0;c<l.length;++c)o.length<20&&l[c]<r&&(o+=e.charAt(l[c]%e.length))}return o}}function ze(i,e){return i<e?-1:i>e?1:0}function zs(i,e,r){return i.length===e.length&&i.every((o,l)=>r(o,e[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ue(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ue(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new ue(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*r));return new Tt(r,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Tt(0,0))}static max(){return new Ie(new Tt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,r,o){r===void 0?r=0:r>e.length&&Te(),o===void 0?o=e.length-r:o>e.length-r&&Te(),this.segments=e,this.offset=r,this.len=o}get length(){return this.len}isEqual(e){return Zo.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Zo?e.forEach(o=>{r.push(o)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,o=this.limit();r<o;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const o=Math.min(e.length,r.length);for(let l=0;l<o;l++){const c=e.get(l),f=r.get(l);if(c<f)return-1;if(c>f)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class nt extends Zo{construct(e,r,o){return new nt(e,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const o of e){if(o.indexOf("//")>=0)throw new ue(q.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(l=>l.length>0))}return new nt(r)}static emptyPath(){return new nt([])}}const Qv=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ot extends Zo{construct(e,r,o){return new Ot(e,r,o)}static isValidIdentifier(e){return Qv.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ot(["__name__"])}static fromServerFormat(e){const r=[];let o="",l=0;const c=()=>{if(o.length===0)throw new ue(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let f=!1;for(;l<e.length;){const m=e[l];if(m==="\\"){if(l+1===e.length)throw new ue(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ue(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=_,l+=2}else m==="`"?(f=!f,l++):m!=="."||f?(o+=m,l++):(c(),l++)}if(c(),f)throw new ue(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ot(r)}static emptyPath(){return new Ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(nt.fromString(e))}static fromName(e){return new ge(nt.fromString(e).popFirst(5))}static empty(){return new ge(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return nt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new nt(e.slice()))}}function Kv(i,e){const r=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,l=Ie.fromTimestamp(o===1e9?new Tt(r+1,0):new Tt(r,o));return new ai(l,ge.empty(),e)}function Gv(i){return new ai(i.readTime,i.key,-1)}class ai{constructor(e,r,o){this.readTime=e,this.documentKey=r,this.largestBatchId=o}static min(){return new ai(Ie.min(),ge.empty(),-1)}static max(){return new ai(Ie.max(),ge.empty(),-1)}}function Yv(i,e){let r=i.readTime.compareTo(e.readTime);return r!==0?r:(r=ge.comparator(i.documentKey,e.documentKey),r!==0?r:ze(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Jv{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sa(i){if(i.code!==q.FAILED_PRECONDITION||i.message!==Xv)throw i;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new W((o,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(o,l)},this.catchCallback=c=>{this.wrapFailure(r,c).next(o,l)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof W?r:W.resolve(r)}catch(r){return W.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):W.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):W.reject(r)}static resolve(e){return new W((r,o)=>{r(e)})}static reject(e){return new W((r,o)=>{o(e)})}static waitFor(e){return new W((r,o)=>{let l=0,c=0,f=!1;e.forEach(m=>{++l,m.next(()=>{++c,f&&c===l&&r()},_=>o(_))}),f=!0,c===l&&r()})}static or(e){let r=W.resolve(!1);for(const o of e)r=r.next(l=>l?W.resolve(l):o());return r}static forEach(e,r){const o=[];return e.forEach((l,c)=>{o.push(r.call(this,l,c))}),this.waitFor(o)}static mapArray(e,r){return new W((o,l)=>{const c=e.length,f=new Array(c);let m=0;for(let _=0;_<c;_++){const v=_;r(e[v]).next(I=>{f[v]=I,++m,m===c&&o(f)},I=>l(I))}})}static doWhile(e,r){return new W((o,l)=>{const c=()=>{e()===!0?r().next(()=>{c()},l):o()};c()})}}function Zv(i){const e=i.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function oa(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=o=>this.ie(o),this.se=o=>r.writeSequenceNumber(o))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Ch.oe=-1;function Jl(i){return i==null}function bl(i){return i===0&&1/i==-1/0}function e0(i){return typeof i=="number"&&Number.isInteger(i)&&!bl(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(i){let e=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e++;return e}function Hi(i,e){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e(r,i[r])}function jm(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,r){this.comparator=e,this.root=r||Lt.EMPTY}insert(e,r){return new ot(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(e){let r=0,o=this.root;for(;!o.isEmpty();){const l=this.comparator(e,o.key);if(l===0)return r+o.left.size;l<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,o)=>(e(r,o),!1))}toString(){const e=[];return this.inorderTraversal((r,o)=>(e.push(`${r}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kl(this.root,e,this.comparator,!1)}getReverseIterator(){return new kl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kl(this.root,e,this.comparator,!0)}}class kl{constructor(e,r,o,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=r?o(e.key,r):1,r&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,r,o,l,c){this.key=e,this.value=r,this.color=o??Lt.RED,this.left=l??Lt.EMPTY,this.right=c??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,o,l,c){return new Lt(e??this.key,r??this.value,o??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let l=this;const c=o(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,r,o),null):c===0?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(e,r,o)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let o,l=this;if(r(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),r(e,l.key)===0){if(l.right.isEmpty())return Lt.EMPTY;o=l.right.min(),l=l.copy(o.key,o.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,r,o,l,c){return this}insert(e,r,o){return new Lt(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,o)=>(e(r),!1))}forEachInRange(e,r){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const l=o.getNext();if(this.comparator(l.key,e[1])>=0)return;r(l.key)}}forEachWhile(e,r){let o;for(o=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new jp(this.data.getIterator())}getIteratorFrom(e){return new jp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(o=>{r=r.add(o)}),r}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const r=this.data.getIterator(),o=e.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,c=o.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Mt(this.comparator);return r.data=e,r}}class jp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new yn([])}unionWith(e){let r=new Mt(Ot.comparator);for(const o of this.fields)r=r.add(o);for(const o of e)r=r.add(o);return new yn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return zs(this.fields,e.fields,(r,o)=>r.isEqual(o))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Um("Invalid base64 string: "+c):c}}(e);return new Ft(r)}static fromUint8Array(e){const r=function(l){let c="";for(let f=0;f<l.length;++f)c+=String.fromCharCode(l[f]);return c}(e);return new Ft(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const o=new Uint8Array(r.length);for(let l=0;l<r.length;l++)o[l]=r.charCodeAt(l);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const t0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function li(i){if(qe(!!i),typeof i=="string"){let e=0;const r=t0.exec(i);if(qe(!!r),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),e=Number(l)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:ft(i.seconds),nanos:ft(i.nanos)}}function ft(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function $i(i){return typeof i=="string"?Ft.fromBase64String(i):Ft.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(i){var e,r;return((r=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function kh(i){const e=i.mapValue.fields.__previous_value__;return Ph(e)?kh(e):e}function ea(i){const e=li(i.mapValue.fields.__local_write_time__.timestampValue);return new Tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,r,o,l,c,f,m,_,v){this.databaseId=e,this.appId=r,this.persistenceKey=o,this.host=l,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=_,this.useFetchStreams=v}}class ta{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new ta("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ta&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl={mapValue:{}};function qi(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ph(i)?4:i0(i)?9007199254740991:r0(i)?10:11:Te()}function ar(i,e){if(i===e)return!0;const r=qi(i);if(r!==qi(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ea(i).isEqual(ea(e));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const f=li(l.timestampValue),m=li(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(l,c){return $i(l.bytesValue).isEqual($i(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(l,c){return ft(l.geoPointValue.latitude)===ft(c.geoPointValue.latitude)&&ft(l.geoPointValue.longitude)===ft(c.geoPointValue.longitude)}(i,e);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return ft(l.integerValue)===ft(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const f=ft(l.doubleValue),m=ft(c.doubleValue);return f===m?bl(f)===bl(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return zs(i.arrayValue.values||[],e.arrayValue.values||[],ar);case 10:case 11:return function(l,c){const f=l.mapValue.fields||{},m=c.mapValue.fields||{};if(Fp(f)!==Fp(m))return!1;for(const _ in f)if(f.hasOwnProperty(_)&&(m[_]===void 0||!ar(f[_],m[_])))return!1;return!0}(i,e);default:return Te()}}function na(i,e){return(i.values||[]).find(r=>ar(r,e))!==void 0}function Bs(i,e){if(i===e)return 0;const r=qi(i),o=qi(e);if(r!==o)return ze(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return ze(i.booleanValue,e.booleanValue);case 2:return function(c,f){const m=ft(c.integerValue||c.doubleValue),_=ft(f.integerValue||f.doubleValue);return m<_?-1:m>_?1:m===_?0:isNaN(m)?isNaN(_)?0:-1:1}(i,e);case 3:return Up(i.timestampValue,e.timestampValue);case 4:return Up(ea(i),ea(e));case 5:return ze(i.stringValue,e.stringValue);case 6:return function(c,f){const m=$i(c),_=$i(f);return m.compareTo(_)}(i.bytesValue,e.bytesValue);case 7:return function(c,f){const m=c.split("/"),_=f.split("/");for(let v=0;v<m.length&&v<_.length;v++){const I=ze(m[v],_[v]);if(I!==0)return I}return ze(m.length,_.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,f){const m=ze(ft(c.latitude),ft(f.latitude));return m!==0?m:ze(ft(c.longitude),ft(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return zp(i.arrayValue,e.arrayValue);case 10:return function(c,f){var m,_,v,I;const x=c.fields||{},L=f.fields||{},B=(m=x.value)===null||m===void 0?void 0:m.arrayValue,X=(_=L.value)===null||_===void 0?void 0:_.arrayValue,J=ze(((v=B==null?void 0:B.values)===null||v===void 0?void 0:v.length)||0,((I=X==null?void 0:X.values)===null||I===void 0?void 0:I.length)||0);return J!==0?J:zp(B,X)}(i.mapValue,e.mapValue);case 11:return function(c,f){if(c===xl.mapValue&&f===xl.mapValue)return 0;if(c===xl.mapValue)return 1;if(f===xl.mapValue)return-1;const m=c.fields||{},_=Object.keys(m),v=f.fields||{},I=Object.keys(v);_.sort(),I.sort();for(let x=0;x<_.length&&x<I.length;++x){const L=ze(_[x],I[x]);if(L!==0)return L;const B=Bs(m[_[x]],v[I[x]]);if(B!==0)return B}return ze(_.length,I.length)}(i.mapValue,e.mapValue);default:throw Te()}}function Up(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ze(i,e);const r=li(i),o=li(e),l=ze(r.seconds,o.seconds);return l!==0?l:ze(r.nanos,o.nanos)}function zp(i,e){const r=i.values||[],o=e.values||[];for(let l=0;l<r.length&&l<o.length;++l){const c=Bs(r[l],o[l]);if(c)return c}return ze(r.length,o.length)}function bs(i){return uh(i)}function uh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(r){const o=li(r);return`time(${o.seconds},${o.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(r){return $i(r).toBase64()}(i.bytesValue):"referenceValue"in i?function(r){return ge.fromName(r).toString()}(i.referenceValue):"geoPointValue"in i?function(r){return`geo(${r.latitude},${r.longitude})`}(i.geoPointValue):"arrayValue"in i?function(r){let o="[",l=!0;for(const c of r.values||[])l?l=!1:o+=",",o+=uh(c);return o+"]"}(i.arrayValue):"mapValue"in i?function(r){const o=Object.keys(r.fields||{}).sort();let l="{",c=!0;for(const f of o)c?c=!1:l+=",",l+=`${f}:${uh(r.fields[f])}`;return l+"}"}(i.mapValue):Te()}function ch(i){return!!i&&"integerValue"in i}function xh(i){return!!i&&"arrayValue"in i}function Bp(i){return!!i&&"nullValue"in i}function bp(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ol(i){return!!i&&"mapValue"in i}function r0(i){var e,r;return((r=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function Qo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Hi(i.mapValue.fields,(r,o)=>e.mapValue.fields[r]=Qo(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Qo(i.arrayValue.values[r]);return e}return Object.assign({},i)}function i0(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.value=e}static empty(){return new sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let o=0;o<e.length-1;++o)if(r=(r.mapValue.fields||{})[e.get(o)],!Ol(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qo(r)}setAll(e){let r=Ot.emptyPath(),o={},l=[];e.forEach((f,m)=>{if(!r.isImmediateParentOf(m)){const _=this.getFieldsMap(r);this.applyChanges(_,o,l),o={},l=[],r=m.popLast()}f?o[m.lastSegment()]=Qo(f):l.push(m.lastSegment())});const c=this.getFieldsMap(r);this.applyChanges(c,o,l)}delete(e){const r=this.field(e.popLast());Ol(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return ar(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<e.length;++o){let l=r.mapValue.fields[e.get(o)];Ol(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[e.get(o)]=l),r=l}return r.mapValue.fields}applyChanges(e,r,o){Hi(r,(l,c)=>e[l]=c);for(const l of o)delete e[l]}clone(){return new sn(Qo(this.value))}}function zm(i){const e=[];return Hi(i.fields,(r,o)=>{const l=new Ot([r]);if(Ol(o)){const c=zm(o.mapValue).fields;if(c.length===0)e.push(l);else for(const f of c)e.push(l.child(f))}else e.push(l)}),new yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,r,o,l,c,f,m){this.key=e,this.documentType=r,this.version=o,this.readTime=l,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Ht(e,0,Ie.min(),Ie.min(),Ie.min(),sn.empty(),0)}static newFoundDocument(e,r,o,l){return new Ht(e,1,r,Ie.min(),o,l,0)}static newNoDocument(e,r){return new Ht(e,2,r,Ie.min(),Ie.min(),sn.empty(),0)}static newUnknownDocument(e,r){return new Ht(e,3,r,Ie.min(),Ie.min(),sn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,r){this.position=e,this.inclusive=r}}function $p(i,e,r){let o=0;for(let l=0;l<i.position.length;l++){const c=e[l],f=i.position[l];if(c.field.isKeyField()?o=ge.comparator(ge.fromName(f.referenceValue),r.key):o=Bs(f,r.data.field(c.field)),c.dir==="desc"&&(o*=-1),o!==0)break}return o}function qp(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!ar(i.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,r="asc"){this.field=e,this.dir=r}}function s0(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{}class wt extends Bm{constructor(e,r,o){super(),this.field=e,this.op=r,this.value=o}static create(e,r,o){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,o):new a0(e,r,o):r==="array-contains"?new c0(e,o):r==="in"?new h0(e,o):r==="not-in"?new f0(e,o):r==="array-contains-any"?new d0(e,o):new wt(e,r,o)}static createKeyFieldInFilter(e,r,o){return r==="in"?new l0(e,o):new u0(e,o)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Bs(r,this.value)):r!==null&&qi(this.value)===qi(r)&&this.matchesComparison(Bs(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lr extends Bm{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new lr(e,r)}matches(e){return bm(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function bm(i){return i.op==="and"}function $m(i){return o0(i)&&bm(i)}function o0(i){for(const e of i.filters)if(e instanceof lr)return!1;return!0}function hh(i){if(i instanceof wt)return i.field.canonicalString()+i.op.toString()+bs(i.value);if($m(i))return i.filters.map(e=>hh(e)).join(",");{const e=i.filters.map(r=>hh(r)).join(",");return`${i.op}(${e})`}}function qm(i,e){return i instanceof wt?function(o,l){return l instanceof wt&&o.op===l.op&&o.field.isEqual(l.field)&&ar(o.value,l.value)}(i,e):i instanceof lr?function(o,l){return l instanceof lr&&o.op===l.op&&o.filters.length===l.filters.length?o.filters.reduce((c,f,m)=>c&&qm(f,l.filters[m]),!0):!1}(i,e):void Te()}function Hm(i){return i instanceof wt?function(r){return`${r.field.canonicalString()} ${r.op} ${bs(r.value)}`}(i):i instanceof lr?function(r){return r.op.toString()+" {"+r.getFilters().map(Hm).join(" ,")+"}"}(i):"Filter"}class a0 extends wt{constructor(e,r,o){super(e,r,o),this.key=ge.fromName(o.referenceValue)}matches(e){const r=ge.comparator(e.key,this.key);return this.matchesComparison(r)}}class l0 extends wt{constructor(e,r){super(e,"in",r),this.keys=Wm("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class u0 extends wt{constructor(e,r){super(e,"not-in",r),this.keys=Wm("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Wm(i,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(o=>ge.fromName(o.referenceValue))}class c0 extends wt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return xh(r)&&na(r.arrayValue,this.value)}}class h0 extends wt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&na(this.value.arrayValue,r)}}class f0 extends wt{constructor(e,r){super(e,"not-in",r)}matches(e){if(na(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!na(this.value.arrayValue,r)}}class d0 extends wt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!xh(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>na(this.value.arrayValue,o))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,r=null,o=[],l=[],c=null,f=null,m=null){this.path=e,this.collectionGroup=r,this.orderBy=o,this.filters=l,this.limit=c,this.startAt=f,this.endAt=m,this.ue=null}}function Hp(i,e=null,r=[],o=[],l=null,c=null,f=null){return new p0(i,e,r,o,l,c,f)}function Vh(i){const e=Se(i);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(o=>hh(o)).join(","),r+="|ob:",r+=e.orderBy.map(o=>function(c){return c.field.canonicalString()+c.dir}(o)).join(","),Jl(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(o=>bs(o)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(o=>bs(o)).join(",")),e.ue=r}return e.ue}function Nh(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<i.orderBy.length;r++)if(!s0(i.orderBy[r],e.orderBy[r]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let r=0;r<i.filters.length;r++)if(!qm(i.filters[r],e.filters[r]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!qp(i.startAt,e.startAt)&&qp(i.endAt,e.endAt)}function fh(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,r=null,o=[],l=[],c=null,f="F",m=null,_=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=l,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=_,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function m0(i,e,r,o,l,c,f,m){return new Zl(i,e,r,o,l,c,f,m)}function eu(i){return new Zl(i)}function Wp(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function g0(i){return i.collectionGroup!==null}function Ko(i){const e=Se(i);if(e.ce===null){e.ce=[];const r=new Set;for(const c of e.explicitOrderBy)e.ce.push(c),r.add(c.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Mt(Ot.comparator);return f.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(m=m.add(v.field))})}),m})(e).forEach(c=>{r.has(c.canonicalString())||c.isKeyField()||e.ce.push(new ql(c,o))}),r.has(Ot.keyField().canonicalString())||e.ce.push(new ql(Ot.keyField(),o))}return e.ce}function ir(i){const e=Se(i);return e.le||(e.le=y0(e,Ko(i))),e.le}function y0(i,e){if(i.limitType==="F")return Hp(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new ql(l.field,c)});const r=i.endAt?new $l(i.endAt.position,i.endAt.inclusive):null,o=i.startAt?new $l(i.startAt.position,i.startAt.inclusive):null;return Hp(i.path,i.collectionGroup,e,i.filters,i.limit,r,o)}}function dh(i,e,r){return new Zl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,r,i.startAt,i.endAt)}function tu(i,e){return Nh(ir(i),ir(e))&&i.limitType===e.limitType}function Qm(i){return`${Vh(ir(i))}|lt:${i.limitType}`}function Ls(i){return`Query(target=${function(r){let o=r.path.canonicalString();return r.collectionGroup!==null&&(o+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(o+=`, filters: [${r.filters.map(l=>Hm(l)).join(", ")}]`),Jl(r.limit)||(o+=", limit: "+r.limit),r.orderBy.length>0&&(o+=`, orderBy: [${r.orderBy.map(l=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(l)).join(", ")}]`),r.startAt&&(o+=", startAt: ",o+=r.startAt.inclusive?"b:":"a:",o+=r.startAt.position.map(l=>bs(l)).join(",")),r.endAt&&(o+=", endAt: ",o+=r.endAt.inclusive?"a:":"b:",o+=r.endAt.position.map(l=>bs(l)).join(",")),`Target(${o})`}(ir(i))}; limitType=${i.limitType})`}function nu(i,e){return e.isFoundDocument()&&function(o,l){const c=l.key.path;return o.collectionGroup!==null?l.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(c):ge.isDocumentKey(o.path)?o.path.isEqual(c):o.path.isImmediateParentOf(c)}(i,e)&&function(o,l){for(const c of Ko(o))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(i,e)&&function(o,l){for(const c of o.filters)if(!c.matches(l))return!1;return!0}(i,e)&&function(o,l){return!(o.startAt&&!function(f,m,_){const v=$p(f,m,_);return f.inclusive?v<=0:v<0}(o.startAt,Ko(o),l)||o.endAt&&!function(f,m,_){const v=$p(f,m,_);return f.inclusive?v>=0:v>0}(o.endAt,Ko(o),l))}(i,e)}function _0(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Km(i){return(e,r)=>{let o=!1;for(const l of Ko(i)){const c=v0(l,e,r);if(c!==0)return c;o=o||l.field.isKeyField()}return 0}}function v0(i,e,r){const o=i.field.isKeyField()?ge.comparator(e.key,r.key):function(c,f,m){const _=f.data.field(c),v=m.data.field(c);return _!==null&&v!==null?Bs(_,v):Te()}(i.field,e,r);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),o=this.inner[r];if(o!==void 0){for(const[l,c]of o)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,r){const o=this.mapKeyFn(e),l=this.inner[o];if(l===void 0)return this.inner[o]=[[e,r]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,r]);l.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return!1;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return o.length===1?delete this.inner[r]:o.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Hi(this.inner,(r,o)=>{for(const[l,c]of o)e(l,c)})}isEmpty(){return jm(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=new ot(ge.comparator);function Pr(){return E0}const Gm=new ot(ge.comparator);function qo(...i){let e=Gm;for(const r of i)e=e.insert(r.key,r);return e}function Ym(i){let e=Gm;return i.forEach((r,o)=>e=e.insert(r,o.overlayedDocument)),e}function zi(){return Go()}function Xm(){return Go()}function Go(){return new Ks(i=>i.toString(),(i,e)=>i.isEqual(e))}const w0=new ot(ge.comparator),T0=new Mt(ge.comparator);function ke(...i){let e=T0;for(const r of i)e=e.add(r);return e}const I0=new Mt(ze);function S0(){return I0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bl(e)?"-0":e}}function Jm(i){return{integerValue:""+i}}function A0(i,e){return e0(e)?Jm(e):Dh(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(){this._=void 0}}function R0(i,e,r){return i instanceof Hl?function(l,c){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Ph(c)&&(c=kh(c)),c&&(f.fields.__previous_value__=c),{mapValue:f}}(r,e):i instanceof ra?eg(i,e):i instanceof ia?tg(i,e):function(l,c){const f=Zm(l,c),m=Qp(f)+Qp(l.Pe);return ch(f)&&ch(l.Pe)?Jm(m):Dh(l.serializer,m)}(i,e)}function C0(i,e,r){return i instanceof ra?eg(i,e):i instanceof ia?tg(i,e):r}function Zm(i,e){return i instanceof Wl?function(o){return ch(o)||function(c){return!!c&&"doubleValue"in c}(o)}(e)?e:{integerValue:0}:null}class Hl extends ru{}class ra extends ru{constructor(e){super(),this.elements=e}}function eg(i,e){const r=ng(e);for(const o of i.elements)r.some(l=>ar(l,o))||r.push(o);return{arrayValue:{values:r}}}class ia extends ru{constructor(e){super(),this.elements=e}}function tg(i,e){let r=ng(e);for(const o of i.elements)r=r.filter(l=>!ar(l,o));return{arrayValue:{values:r}}}class Wl extends ru{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function Qp(i){return ft(i.integerValue||i.doubleValue)}function ng(i){return xh(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function P0(i,e){return i.field.isEqual(e.field)&&function(o,l){return o instanceof ra&&l instanceof ra||o instanceof ia&&l instanceof ia?zs(o.elements,l.elements,ar):o instanceof Wl&&l instanceof Wl?ar(o.Pe,l.Pe):o instanceof Hl&&l instanceof Hl}(i.transform,e.transform)}class k0{constructor(e,r){this.version=e,this.transformResults=r}}class on{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new on}static exists(e){return new on(void 0,e)}static updateTime(e){return new on(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ml(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class iu{}function rg(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new su(i.key,on.none()):new aa(i.key,i.data,on.none());{const r=i.data,o=sn.empty();let l=new Mt(Ot.comparator);for(let c of e.fields)if(!l.has(c)){let f=r.field(c);f===null&&c.length>1&&(c=c.popLast(),f=r.field(c)),f===null?o.delete(c):o.set(c,f),l=l.add(c)}return new ci(i.key,o,new yn(l.toArray()),on.none())}}function x0(i,e,r){i instanceof aa?function(l,c,f){const m=l.value.clone(),_=Gp(l.fieldTransforms,c,f.transformResults);m.setAll(_),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,r):i instanceof ci?function(l,c,f){if(!Ml(l.precondition,c))return void c.convertToUnknownDocument(f.version);const m=Gp(l.fieldTransforms,c,f.transformResults),_=c.data;_.setAll(ig(l)),_.setAll(m),c.convertToFoundDocument(f.version,_).setHasCommittedMutations()}(i,e,r):function(l,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,r)}function Yo(i,e,r,o){return i instanceof aa?function(c,f,m,_){if(!Ml(c.precondition,f))return m;const v=c.value.clone(),I=Yp(c.fieldTransforms,_,f);return v.setAll(I),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),null}(i,e,r,o):i instanceof ci?function(c,f,m,_){if(!Ml(c.precondition,f))return m;const v=Yp(c.fieldTransforms,_,f),I=f.data;return I.setAll(ig(c)),I.setAll(v),f.convertToFoundDocument(f.version,I).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(x=>x.field))}(i,e,r,o):function(c,f,m){return Ml(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,r)}function V0(i,e){let r=null;for(const o of i.fieldTransforms){const l=e.data.field(o.field),c=Zm(o.transform,l||null);c!=null&&(r===null&&(r=sn.empty()),r.set(o.field,c))}return r||null}function Kp(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(o,l){return o===void 0&&l===void 0||!(!o||!l)&&zs(o,l,(c,f)=>P0(c,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class aa extends iu{constructor(e,r,o,l=[]){super(),this.key=e,this.value=r,this.precondition=o,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ci extends iu{constructor(e,r,o,l,c=[]){super(),this.key=e,this.data=r,this.fieldMask=o,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function ig(i){const e=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=i.data.field(r);e.set(r,o)}}),e}function Gp(i,e,r){const o=new Map;qe(i.length===r.length);for(let l=0;l<r.length;l++){const c=i[l],f=c.transform,m=e.data.field(c.field);o.set(c.field,C0(f,m,r[l]))}return o}function Yp(i,e,r){const o=new Map;for(const l of i){const c=l.transform,f=r.data.field(l.field);o.set(l.field,R0(c,f,e))}return o}class su extends iu{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class N0 extends iu{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e,r,o,l){this.batchId=e,this.localWriteTime=r,this.baseMutations=o,this.mutations=l}applyToRemoteDocument(e,r){const o=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&x0(c,e,o[l])}}applyToLocalView(e,r){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(r=Yo(o,e,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(r=Yo(o,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const o=Xm();return this.mutations.forEach(l=>{const c=e.get(l.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=r.has(l.key)?null:m;const _=rg(f,m);_!==null&&o.set(l.key,_),f.isValidDocument()||f.convertToNoDocument(Ie.min())}),o}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),ke())}isEqual(e){return this.batchId===e.batchId&&zs(this.mutations,e.mutations,(r,o)=>Kp(r,o))&&zs(this.baseMutations,e.baseMutations,(r,o)=>Kp(r,o))}}class Lh{constructor(e,r,o,l){this.batch=e,this.commitVersion=r,this.mutationResults=o,this.docVersions=l}static from(e,r,o){qe(e.mutations.length===o.length);let l=function(){return w0}();const c=e.mutations;for(let f=0;f<c.length;f++)l=l.insert(c[f].key,o[f].version);return new Lh(e,r,o,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt,De;function M0(i){switch(i){default:return Te();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function sg(i){if(i===void 0)return Cr("GRPC error has no .code"),q.UNKNOWN;switch(i){case mt.OK:return q.OK;case mt.CANCELLED:return q.CANCELLED;case mt.UNKNOWN:return q.UNKNOWN;case mt.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case mt.INTERNAL:return q.INTERNAL;case mt.UNAVAILABLE:return q.UNAVAILABLE;case mt.UNAUTHENTICATED:return q.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case mt.NOT_FOUND:return q.NOT_FOUND;case mt.ALREADY_EXISTS:return q.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return q.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case mt.ABORTED:return q.ABORTED;case mt.OUT_OF_RANGE:return q.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return q.UNIMPLEMENTED;case mt.DATA_LOSS:return q.DATA_LOSS;default:return Te()}}(De=mt||(mt={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0=new Bi([4294967295,4294967295],0);function Xp(i){const e=F0().encode(i),r=new xm;return r.update(e),new Uint8Array(r.digest())}function Jp(i){const e=new DataView(i.buffer),r=e.getUint32(0,!0),o=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Bi([r,o],0),new Bi([l,c],0)]}class Oh{constructor(e,r,o){if(this.bitmap=e,this.padding=r,this.hashCount=o,r<0||r>=8)throw new Ho(`Invalid padding: ${r}`);if(o<0)throw new Ho(`Invalid hash count: ${o}`);if(e.length>0&&this.hashCount===0)throw new Ho(`Invalid hash count: ${o}`);if(e.length===0&&r!==0)throw new Ho(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Bi.fromNumber(this.Ie)}Ee(e,r,o){let l=e.add(r.multiply(Bi.fromNumber(o)));return l.compare(j0)===1&&(l=new Bi([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=Xp(e),[o,l]=Jp(r);for(let c=0;c<this.hashCount;c++){const f=this.Ee(o,l,c);if(!this.de(f))return!1}return!0}static create(e,r,o){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Oh(c,l,r);return o.forEach(m=>f.insert(m)),f}insert(e){if(this.Ie===0)return;const r=Xp(e),[o,l]=Jp(r);for(let c=0;c<this.hashCount;c++){const f=this.Ee(o,l,c);this.Ae(f)}}Ae(e){const r=Math.floor(e/8),o=e%8;this.bitmap[r]|=1<<o}}class Ho extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,r,o,l,c){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,r,o){const l=new Map;return l.set(e,la.createSynthesizedTargetChangeForCurrentChange(e,r,o)),new ou(Ie.min(),l,new ot(ze),Pr(),ke())}}class la{constructor(e,r,o,l,c){this.resumeToken=e,this.current=r,this.addedDocuments=o,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,r,o){return new la(o,r,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,r,o,l){this.Re=e,this.removedTargetIds=r,this.key=o,this.Ve=l}}class og{constructor(e,r){this.targetId=e,this.me=r}}class ag{constructor(e,r,o=Ft.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=r,this.resumeToken=o,this.cause=l}}class Zp{constructor(){this.fe=0,this.ge=tm(),this.pe=Ft.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ke(),r=ke(),o=ke();return this.ge.forEach((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:r=r.add(l);break;case 1:o=o.add(l);break;default:Te()}}),new la(this.pe,this.ye,e,r,o)}Ce(){this.we=!1,this.ge=tm()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class U0{constructor(e){this.Le=e,this.Be=new Map,this.ke=Pr(),this.qe=em(),this.Qe=new ot(ze)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const o=this.Ge(r);switch(e.state){case 0:this.ze(r)&&o.De(e.resumeToken);break;case 1:o.Oe(),o.Se||o.Ce(),o.De(e.resumeToken);break;case 2:o.Oe(),o.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(o.Ne(),o.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),o.De(e.resumeToken));break;default:Te()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((o,l)=>{this.ze(l)&&r(l)})}He(e){const r=e.targetId,o=e.me.count,l=this.Je(r);if(l){const c=l.target;if(fh(c))if(o===0){const f=new ge(c.path);this.Ue(r,f,Ht.newNoDocument(f,Ie.min()))}else qe(o===1);else{const f=this.Ye(r);if(f!==o){const m=this.Ze(e),_=m?this.Xe(m,e,f):1;if(_!==0){this.je(r);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,v)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:o="",padding:l=0},hashCount:c=0}=r;let f,m;try{f=$i(o).toUint8Array()}catch(_){if(_ instanceof Um)return Us("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{m=new Oh(f,l,c)}catch(_){return Us(_ instanceof Ho?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return m.Ie===0?null:m}Xe(e,r,o){return r.me.count===o-this.nt(e,r.targetId)?0:2}nt(e,r){const o=this.Le.getRemoteKeysForTarget(r);let l=0;return o.forEach(c=>{const f=this.Le.tt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.Ue(r,c,null),l++)}),l}rt(e){const r=new Map;this.Be.forEach((c,f)=>{const m=this.Je(f);if(m){if(c.current&&fh(m.target)){const _=new ge(m.target.path);this.ke.get(_)!==null||this.it(f,_)||this.Ue(f,_,Ht.newNoDocument(_,e))}c.be&&(r.set(f,c.ve()),c.Ce())}});let o=ke();this.qe.forEach((c,f)=>{let m=!0;f.forEachWhile(_=>{const v=this.Je(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(o=o.add(c))}),this.ke.forEach((c,f)=>f.setReadTime(e));const l=new ou(e,r,this.Qe,this.ke,o);return this.ke=Pr(),this.qe=em(),this.Qe=new ot(ze),l}$e(e,r){if(!this.ze(e))return;const o=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,o),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,o){if(!this.ze(e))return;const l=this.Ge(e);this.it(e,r)?l.Fe(r,1):l.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),o&&(this.ke=this.ke.insert(r,o))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new Zp,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Mt(ze),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||ae("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Zp),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function em(){return new ot(ge.comparator)}function tm(){return new ot(ge.comparator)}const z0={asc:"ASCENDING",desc:"DESCENDING"},B0={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},b0={and:"AND",or:"OR"};class $0{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function ph(i,e){return i.useProto3Json||Jl(e)?e:{value:e}}function Ql(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lg(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function q0(i,e){return Ql(i,e.toTimestamp())}function sr(i){return qe(!!i),Ie.fromTimestamp(function(r){const o=li(r);return new Tt(o.seconds,o.nanos)}(i))}function Mh(i,e){return mh(i,e).canonicalString()}function mh(i,e){const r=function(l){return new nt(["projects",l.projectId,"databases",l.database])}(i).child("documents");return e===void 0?r:r.child(e)}function ug(i){const e=nt.fromString(i);return qe(pg(e)),e}function gh(i,e){return Mh(i.databaseId,e.path)}function Yc(i,e){const r=ug(e);if(r.get(1)!==i.databaseId.projectId)throw new ue(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new ue(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new ge(hg(r))}function cg(i,e){return Mh(i.databaseId,e)}function H0(i){const e=ug(i);return e.length===4?nt.emptyPath():hg(e)}function yh(i){return new nt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function hg(i){return qe(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function nm(i,e,r){return{name:gh(i,e),fields:r.value.mapValue.fields}}function W0(i,e){let r;if("targetChange"in e){e.targetChange;const o=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=function(v,I){return v.useProto3Json?(qe(I===void 0||typeof I=="string"),Ft.fromBase64String(I||"")):(qe(I===void 0||I instanceof Buffer||I instanceof Uint8Array),Ft.fromUint8Array(I||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(v){const I=v.code===void 0?q.UNKNOWN:sg(v.code);return new ue(I,v.message||"")}(f);r=new ag(o,l,c,m||null)}else if("documentChange"in e){e.documentChange;const o=e.documentChange;o.document,o.document.name,o.document.updateTime;const l=Yc(i,o.document.name),c=sr(o.document.updateTime),f=o.document.createTime?sr(o.document.createTime):Ie.min(),m=new sn({mapValue:{fields:o.document.fields}}),_=Ht.newFoundDocument(l,c,f,m),v=o.targetIds||[],I=o.removedTargetIds||[];r=new Fl(v,I,_.key,_)}else if("documentDelete"in e){e.documentDelete;const o=e.documentDelete;o.document;const l=Yc(i,o.document),c=o.readTime?sr(o.readTime):Ie.min(),f=Ht.newNoDocument(l,c),m=o.removedTargetIds||[];r=new Fl([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const o=e.documentRemove;o.document;const l=Yc(i,o.document),c=o.removedTargetIds||[];r=new Fl([],c,l,null)}else{if(!("filter"in e))return Te();{e.filter;const o=e.filter;o.targetId;const{count:l=0,unchangedNames:c}=o,f=new O0(l,c),m=o.targetId;r=new og(m,f)}}return r}function Q0(i,e){let r;if(e instanceof aa)r={update:nm(i,e.key,e.value)};else if(e instanceof su)r={delete:gh(i,e.key)};else if(e instanceof ci)r={update:nm(i,e.key,e.data),updateMask:nE(e.fieldMask)};else{if(!(e instanceof N0))return Te();r={verify:gh(i,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(o=>function(c,f){const m=f.transform;if(m instanceof Hl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ra)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ia)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Wl)return{fieldPath:f.field.canonicalString(),increment:m.Pe};throw Te()}(0,o))),e.precondition.isNone||(r.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:q0(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Te()}(i,e.precondition)),r}function K0(i,e){return i&&i.length>0?(qe(e!==void 0),i.map(r=>function(l,c){let f=l.updateTime?sr(l.updateTime):sr(c);return f.isEqual(Ie.min())&&(f=sr(c)),new k0(f,l.transformResults||[])}(r,e))):[]}function G0(i,e){return{documents:[cg(i,e.path)]}}function Y0(i,e){const r={structuredQuery:{}},o=e.path;let l;e.collectionGroup!==null?(l=o,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=o.popLast(),r.structuredQuery.from=[{collectionId:o.lastSegment()}]),r.parent=cg(i,l);const c=function(v){if(v.length!==0)return dg(lr.create(v,"and"))}(e.filters);c&&(r.structuredQuery.where=c);const f=function(v){if(v.length!==0)return v.map(I=>function(L){return{field:Os(L.field),direction:Z0(L.dir)}}(I))}(e.orderBy);f&&(r.structuredQuery.orderBy=f);const m=ph(i,e.limit);return m!==null&&(r.structuredQuery.limit=m),e.startAt&&(r.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{_t:r,parent:l}}function X0(i){let e=H0(i.parent);const r=i.structuredQuery,o=r.from?r.from.length:0;let l=null;if(o>0){qe(o===1);const I=r.from[0];I.allDescendants?l=I.collectionId:e=e.child(I.collectionId)}let c=[];r.where&&(c=function(x){const L=fg(x);return L instanceof lr&&$m(L)?L.getFilters():[L]}(r.where));let f=[];r.orderBy&&(f=function(x){return x.map(L=>function(X){return new ql(Ms(X.field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(X.direction))}(L))}(r.orderBy));let m=null;r.limit&&(m=function(x){let L;return L=typeof x=="object"?x.value:x,Jl(L)?null:L}(r.limit));let _=null;r.startAt&&(_=function(x){const L=!!x.before,B=x.values||[];return new $l(B,L)}(r.startAt));let v=null;return r.endAt&&(v=function(x){const L=!x.before,B=x.values||[];return new $l(B,L)}(r.endAt)),m0(e,l,f,c,m,"F",_,v)}function J0(i,e){const r=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function fg(i){return i.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const o=Ms(r.unaryFilter.field);return wt.create(o,"==",{doubleValue:NaN});case"IS_NULL":const l=Ms(r.unaryFilter.field);return wt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ms(r.unaryFilter.field);return wt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ms(r.unaryFilter.field);return wt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(i):i.fieldFilter!==void 0?function(r){return wt.create(Ms(r.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(r.fieldFilter.op),r.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(r){return lr.create(r.compositeFilter.filters.map(o=>fg(o)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Te()}}(r.compositeFilter.op))}(i):Te()}function Z0(i){return z0[i]}function eE(i){return B0[i]}function tE(i){return b0[i]}function Os(i){return{fieldPath:i.canonicalString()}}function Ms(i){return Ot.fromServerFormat(i.fieldPath)}function dg(i){return i instanceof wt?function(r){if(r.op==="=="){if(bp(r.value))return{unaryFilter:{field:Os(r.field),op:"IS_NAN"}};if(Bp(r.value))return{unaryFilter:{field:Os(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(bp(r.value))return{unaryFilter:{field:Os(r.field),op:"IS_NOT_NAN"}};if(Bp(r.value))return{unaryFilter:{field:Os(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Os(r.field),op:eE(r.op),value:r.value}}}(i):i instanceof lr?function(r){const o=r.getFilters().map(l=>dg(l));return o.length===1?o[0]:{compositeFilter:{op:tE(r.op),filters:o}}}(i):Te()}function nE(i){const e=[];return i.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function pg(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,r,o,l,c=Ie.min(),f=Ie.min(),m=Ft.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=r,this.purpose=o,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=_}withSequenceNumber(e){return new ni(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new ni(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e){this.ct=e}}function iE(i){const e=X0({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?dh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(){this.un=new oE}addToCollectionParentIndex(e,r){return this.un.add(r),W.resolve()}getCollectionParents(e,r){return W.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return W.resolve()}deleteFieldIndex(e,r){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,r){return W.resolve()}getDocumentsMatchingTarget(e,r){return W.resolve(null)}getIndexType(e,r){return W.resolve(0)}getFieldIndexes(e,r){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,r){return W.resolve(ai.min())}getMinOffsetFromCollectionGroup(e,r){return W.resolve(ai.min())}updateCollectionGroup(e,r,o){return W.resolve()}updateIndexEntries(e,r){return W.resolve()}}class oE{constructor(){this.index={}}add(e){const r=e.lastSegment(),o=e.popLast(),l=this.index[r]||new Mt(nt.comparator),c=!l.has(o);return this.index[r]=l.add(o),c}has(e){const r=e.lastSegment(),o=e.popLast(),l=this.index[r];return l&&l.has(o)}getEntries(e){return(this.index[e]||new Mt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new $s(0)}static kn(){return new $s(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(){this.changes=new Ks(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const o=this.changes.get(r);return o!==void 0?W.resolve(o):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e,r,o,l){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=l}getDocument(e,r){let o=null;return this.documentOverlayCache.getOverlay(e,r).next(l=>(o=l,this.remoteDocumentCache.getEntry(e,r))).next(l=>(o!==null&&Yo(o.mutation,l,yn.empty(),Tt.now()),l))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.getLocalViewOfDocuments(e,o,ke()).next(()=>o))}getLocalViewOfDocuments(e,r,o=ke()){const l=zi();return this.populateOverlays(e,l,r).next(()=>this.computeViews(e,r,l,o).next(c=>{let f=qo();return c.forEach((m,_)=>{f=f.insert(m,_.overlayedDocument)}),f}))}getOverlayedDocuments(e,r){const o=zi();return this.populateOverlays(e,o,r).next(()=>this.computeViews(e,r,o,ke()))}populateOverlays(e,r,o){const l=[];return o.forEach(c=>{r.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(e,l).next(c=>{c.forEach((f,m)=>{r.set(f,m)})})}computeViews(e,r,o,l){let c=Pr();const f=Go(),m=function(){return Go()}();return r.forEach((_,v)=>{const I=o.get(v.key);l.has(v.key)&&(I===void 0||I.mutation instanceof ci)?c=c.insert(v.key,v):I!==void 0?(f.set(v.key,I.mutation.getFieldMask()),Yo(I.mutation,v,I.mutation.getFieldMask(),Tt.now())):f.set(v.key,yn.empty())}),this.recalculateAndSaveOverlays(e,c).next(_=>(_.forEach((v,I)=>f.set(v,I)),r.forEach((v,I)=>{var x;return m.set(v,new lE(I,(x=f.get(v))!==null&&x!==void 0?x:null))}),m))}recalculateAndSaveOverlays(e,r){const o=Go();let l=new ot((f,m)=>f-m),c=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(f=>{for(const m of f)m.keys().forEach(_=>{const v=r.get(_);if(v===null)return;let I=o.get(_)||yn.empty();I=m.applyToLocalView(v,I),o.set(_,I);const x=(l.get(m.batchId)||ke()).add(_);l=l.insert(m.batchId,x)})}).next(()=>{const f=[],m=l.getReverseIterator();for(;m.hasNext();){const _=m.getNext(),v=_.key,I=_.value,x=Xm();I.forEach(L=>{if(!c.has(L)){const B=rg(r.get(L),o.get(L));B!==null&&x.set(L,B),c=c.add(L)}}),f.push(this.documentOverlayCache.saveOverlays(e,v,x))}return W.waitFor(f)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,r,o,l){return function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):g0(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,o,l):this.getDocumentsMatchingCollectionQuery(e,r,o,l)}getNextDocuments(e,r,o,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,o,l).next(c=>{const f=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,o.largestBatchId,l-c.size):W.resolve(zi());let m=-1,_=c;return f.next(v=>W.forEach(v,(I,x)=>(m<x.largestBatchId&&(m=x.largestBatchId),c.get(I)?W.resolve():this.remoteDocumentCache.getEntry(e,I).next(L=>{_=_.insert(I,L)}))).next(()=>this.populateOverlays(e,v,c)).next(()=>this.computeViews(e,_,v,ke())).next(I=>({batchId:m,changes:Ym(I)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new ge(r)).next(o=>{let l=qo();return o.isFoundDocument()&&(l=l.insert(o.key,o)),l})}getDocumentsMatchingCollectionGroupQuery(e,r,o,l){const c=r.collectionGroup;let f=qo();return this.indexManager.getCollectionParents(e,c).next(m=>W.forEach(m,_=>{const v=function(x,L){return new Zl(L,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)}(r,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,o,l).next(I=>{I.forEach((x,L)=>{f=f.insert(x,L)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,r,o,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,o.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,o,c,l))).next(f=>{c.forEach((_,v)=>{const I=v.getKey();f.get(I)===null&&(f=f.insert(I,Ht.newInvalidDocument(I)))});let m=qo();return f.forEach((_,v)=>{const I=c.get(_);I!==void 0&&Yo(I.mutation,v,yn.empty(),Tt.now()),nu(r,v)&&(m=m.insert(_,v))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return W.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(l){return{id:l.id,version:l.version,createTime:sr(l.createTime)}}(r)),W.resolve()}getNamedQuery(e,r){return W.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(l){return{name:l.name,query:iE(l.bundledQuery),readTime:sr(l.readTime)}}(r)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(){this.overlays=new ot(ge.comparator),this.Ir=new Map}getOverlay(e,r){return W.resolve(this.overlays.get(r))}getOverlays(e,r){const o=zi();return W.forEach(r,l=>this.getOverlay(e,l).next(c=>{c!==null&&o.set(l,c)})).next(()=>o)}saveOverlays(e,r,o){return o.forEach((l,c)=>{this.ht(e,r,c)}),W.resolve()}removeOverlaysForBatchId(e,r,o){const l=this.Ir.get(o);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Ir.delete(o)),W.resolve()}getOverlaysForCollection(e,r,o){const l=zi(),c=r.length+1,f=new ge(r.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const _=m.getNext().value,v=_.getKey();if(!r.isPrefixOf(v.path))break;v.path.length===c&&_.largestBatchId>o&&l.set(_.getKey(),_)}return W.resolve(l)}getOverlaysForCollectionGroup(e,r,o,l){let c=new ot((v,I)=>v-I);const f=this.overlays.getIterator();for(;f.hasNext();){const v=f.getNext().value;if(v.getKey().getCollectionGroup()===r&&v.largestBatchId>o){let I=c.get(v.largestBatchId);I===null&&(I=zi(),c=c.insert(v.largestBatchId,I)),I.set(v.getKey(),v)}}const m=zi(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,I)=>m.set(v,I)),!(m.size()>=l)););return W.resolve(m)}ht(e,r,o){const l=this.overlays.get(o.key);if(l!==null){const f=this.Ir.get(l.largestBatchId).delete(o.key);this.Ir.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(o.key,new L0(r,o));let c=this.Ir.get(r);c===void 0&&(c=ke(),this.Ir.set(r,c)),this.Ir.set(r,c.add(o.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(){this.Tr=new Mt(Pt.Er),this.dr=new Mt(Pt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const o=new Pt(e,r);this.Tr=this.Tr.add(o),this.dr=this.dr.add(o)}Rr(e,r){e.forEach(o=>this.addReference(o,r))}removeReference(e,r){this.Vr(new Pt(e,r))}mr(e,r){e.forEach(o=>this.removeReference(o,r))}gr(e){const r=new ge(new nt([])),o=new Pt(r,e),l=new Pt(r,e+1),c=[];return this.dr.forEachInRange([o,l],f=>{this.Vr(f),c.push(f.key)}),c}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new ge(new nt([])),o=new Pt(r,e),l=new Pt(r,e+1);let c=ke();return this.dr.forEachInRange([o,l],f=>{c=c.add(f.key)}),c}containsKey(e){const r=new Pt(e,0),o=this.Tr.firstAfterOrEqual(r);return o!==null&&e.isEqual(o.key)}}class Pt{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return ge.comparator(e.key,r.key)||ze(e.wr,r.wr)}static Ar(e,r){return ze(e.wr,r.wr)||ge.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Mt(Pt.Er)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,o,l){const c=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new D0(c,r,o,l);this.mutationQueue.push(f);for(const m of l)this.br=this.br.add(new Pt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return W.resolve(f)}lookupMutationBatch(e,r){return W.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const o=r+1,l=this.vr(o),c=l<0?0:l;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const o=new Pt(r,0),l=new Pt(r,Number.POSITIVE_INFINITY),c=[];return this.br.forEachInRange([o,l],f=>{const m=this.Dr(f.wr);c.push(m)}),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new Mt(ze);return r.forEach(l=>{const c=new Pt(l,0),f=new Pt(l,Number.POSITIVE_INFINITY);this.br.forEachInRange([c,f],m=>{o=o.add(m.wr)})}),W.resolve(this.Cr(o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,l=o.length+1;let c=o;ge.isDocumentKey(c)||(c=c.child(""));const f=new Pt(new ge(c),0);let m=new Mt(ze);return this.br.forEachWhile(_=>{const v=_.key.path;return!!o.isPrefixOf(v)&&(v.length===l&&(m=m.add(_.wr)),!0)},f),W.resolve(this.Cr(m))}Cr(e){const r=[];return e.forEach(o=>{const l=this.Dr(o);l!==null&&r.push(l)}),r}removeMutationBatch(e,r){qe(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let o=this.br;return W.forEach(r.mutations,l=>{const c=new Pt(l.key,r.batchId);return o=o.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.br=o})}On(e){}containsKey(e,r){const o=new Pt(r,0),l=this.br.firstAfterOrEqual(o);return W.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e){this.Mr=e,this.docs=function(){return new ot(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const o=r.key,l=this.docs.get(o),c=l?l.size:0,f=this.Mr(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const o=this.docs.get(r);return W.resolve(o?o.document.mutableCopy():Ht.newInvalidDocument(r))}getEntries(e,r){let o=Pr();return r.forEach(l=>{const c=this.docs.get(l);o=o.insert(l,c?c.document.mutableCopy():Ht.newInvalidDocument(l))}),W.resolve(o)}getDocumentsMatchingQuery(e,r,o,l){let c=Pr();const f=r.path,m=new ge(f.child("")),_=this.docs.getIteratorFrom(m);for(;_.hasNext();){const{key:v,value:{document:I}}=_.getNext();if(!f.isPrefixOf(v.path))break;v.path.length>f.length+1||Yv(Gv(I),o)<=0||(l.has(I.key)||nu(r,I))&&(c=c.insert(I.key,I.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(e,r,o,l){Te()}Or(e,r){return W.forEach(this.docs,o=>r(o))}newChangeBuffer(e){return new mE(this)}getSize(e){return W.resolve(this.size)}}class mE extends aE{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((o,l)=>{l.isValidDocument()?r.push(this.cr.addEntry(e,l)):this.cr.removeEntry(o)}),W.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e){this.persistence=e,this.Nr=new Ks(r=>Vh(r),Nh),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Fh,this.targetCount=0,this.kr=$s.Bn()}forEachTarget(e,r){return this.Nr.forEach((o,l)=>r(l)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.Lr&&(this.Lr=r),W.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new $s(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,W.resolve()}updateTargetData(e,r){return this.Kn(r),W.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,r,o){let l=0;const c=[];return this.Nr.forEach((f,m)=>{m.sequenceNumber<=r&&o.get(m.targetId)===null&&(this.Nr.delete(f),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),l++)}),W.waitFor(c).next(()=>l)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,r){const o=this.Nr.get(r)||null;return W.resolve(o)}addMatchingKeys(e,r,o){return this.Br.Rr(r,o),W.resolve()}removeMatchingKeys(e,r,o){this.Br.mr(r,o);const l=this.persistence.referenceDelegate,c=[];return l&&r.forEach(f=>{c.push(l.markPotentiallyOrphaned(e,f))}),W.waitFor(c)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),W.resolve()}getMatchingKeysForTargetId(e,r){const o=this.Br.yr(r);return W.resolve(o)}containsKey(e,r){return W.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,r){this.qr={},this.overlays={},this.Qr=new Ch(0),this.Kr=!1,this.Kr=!0,this.$r=new fE,this.referenceDelegate=e(this),this.Ur=new gE(this),this.indexManager=new sE,this.remoteDocumentCache=function(l){return new pE(l)}(o=>this.referenceDelegate.Wr(o)),this.serializer=new rE(r),this.Gr=new cE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new hE,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let o=this.qr[e.toKey()];return o||(o=new dE(r,this.referenceDelegate),this.qr[e.toKey()]=o),o}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,o){ae("MemoryPersistence","Starting transaction:",e);const l=new _E(this.Qr.next());return this.referenceDelegate.zr(),o(l).next(c=>this.referenceDelegate.jr(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Hr(e,r){return W.or(Object.values(this.qr).map(o=>()=>o.containsKey(e,r)))}}class _E extends Jv{constructor(e){super(),this.currentSequenceNumber=e}}class jh{constructor(e){this.persistence=e,this.Jr=new Fh,this.Yr=null}static Zr(e){return new jh(e)}get Xr(){if(this.Yr)return this.Yr;throw Te()}addReference(e,r,o){return this.Jr.addReference(o,r),this.Xr.delete(o.toString()),W.resolve()}removeReference(e,r,o){return this.Jr.removeReference(o,r),this.Xr.add(o.toString()),W.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),W.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(l=>this.Xr.add(l.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,r.targetId).next(l=>{l.forEach(c=>this.Xr.add(c.toString()))}).next(()=>o.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.Xr,o=>{const l=ge.fromPath(o);return this.ei(e,l).next(c=>{c||r.removeEntry(l,Ie.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(o=>{o?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return W.or([()=>W.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,r,o,l){this.targetId=e,this.fromCache=r,this.$i=o,this.Ui=l}static Wi(e,r){let o=ke(),l=ke();for(const c of r.docChanges)switch(c.type){case 0:o=o.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Uh(e,r.fromCache,o,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return w_()?8:Zv(v_())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,o,l){const c={result:null};return this.Yi(e,r).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.Zi(e,r,l,o).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new vE;return this.Xi(e,r,f).next(m=>{if(c.result=m,this.zi)return this.es(e,r,f,m.size)})}).next(()=>c.result)}es(e,r,o,l){return o.documentReadCount<this.ji?(bo()<=je.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Ls(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),W.resolve()):(bo()<=je.DEBUG&&ae("QueryEngine","Query:",Ls(r),"scans",o.documentReadCount,"local documents and returns",l,"documents as results."),o.documentReadCount>this.Hi*l?(bo()<=je.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Ls(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ir(r))):W.resolve())}Yi(e,r){if(Wp(r))return W.resolve(null);let o=ir(r);return this.indexManager.getIndexType(e,o).next(l=>l===0?null:(r.limit!==null&&l===1&&(r=dh(r,null,"F"),o=ir(r)),this.indexManager.getDocumentsMatchingTarget(e,o).next(c=>{const f=ke(...c);return this.Ji.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,o).next(_=>{const v=this.ts(r,m);return this.ns(r,v,f,_.readTime)?this.Yi(e,dh(r,null,"F")):this.rs(e,v,r,_)}))})))}Zi(e,r,o,l){return Wp(r)||l.isEqual(Ie.min())?W.resolve(null):this.Ji.getDocuments(e,o).next(c=>{const f=this.ts(r,c);return this.ns(r,f,o,l)?W.resolve(null):(bo()<=je.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ls(r)),this.rs(e,f,r,Kv(l,-1)).next(m=>m))})}ts(e,r){let o=new Mt(Km(e));return r.forEach((l,c)=>{nu(e,c)&&(o=o.add(c))}),o}ns(e,r,o,l){if(e.limit===null)return!1;if(o.size!==r.size)return!0;const c=e.limitType==="F"?r.last():r.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Xi(e,r,o){return bo()<=je.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Ls(r)),this.Ji.getDocumentsMatchingQuery(e,r,ai.min(),o)}rs(e,r,o,l){return this.Ji.getDocumentsMatchingQuery(e,o,l).next(c=>(r.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e,r,o,l){this.persistence=e,this.ss=r,this.serializer=l,this.os=new ot(ze),this._s=new Ks(c=>Vh(c),Nh),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(o)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uE(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function TE(i,e,r,o){return new wE(i,e,r,o)}async function mg(i,e){const r=Se(i);return await r.persistence.runTransaction("Handle user change","readonly",o=>{let l;return r.mutationQueue.getAllMutationBatches(o).next(c=>(l=c,r.ls(e),r.mutationQueue.getAllMutationBatches(o))).next(c=>{const f=[],m=[];let _=ke();for(const v of l){f.push(v.batchId);for(const I of v.mutations)_=_.add(I.key)}for(const v of c){m.push(v.batchId);for(const I of v.mutations)_=_.add(I.key)}return r.localDocuments.getDocuments(o,_).next(v=>({hs:v,removedBatchIds:f,addedBatchIds:m}))})})}function IE(i,e){const r=Se(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const l=e.batch.keys(),c=r.cs.newChangeBuffer({trackRemovals:!0});return function(m,_,v,I){const x=v.batch,L=x.keys();let B=W.resolve();return L.forEach(X=>{B=B.next(()=>I.getEntry(_,X)).next(J=>{const z=v.docVersions.get(X);qe(z!==null),J.version.compareTo(z)<0&&(x.applyToRemoteDocument(J,v),J.isValidDocument()&&(J.setReadTime(v.commitVersion),I.addEntry(J)))})}),B.next(()=>m.mutationQueue.removeMutationBatch(_,x))}(r,o,e,c).next(()=>c.apply(o)).next(()=>r.mutationQueue.performConsistencyCheck(o)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(o,l,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(m){let _=ke();for(let v=0;v<m.mutationResults.length;++v)m.mutationResults[v].transformResults.length>0&&(_=_.add(m.batch.mutations[v].key));return _}(e))).next(()=>r.localDocuments.getDocuments(o,l))})}function gg(i){const e=Se(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function SE(i,e){const r=Se(i),o=e.snapshotVersion;let l=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=r.cs.newChangeBuffer({trackRemovals:!0});l=r.os;const m=[];e.targetChanges.forEach((I,x)=>{const L=l.get(x);if(!L)return;m.push(r.Ur.removeMatchingKeys(c,I.removedDocuments,x).next(()=>r.Ur.addMatchingKeys(c,I.addedDocuments,x)));let B=L.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(x)!==null?B=B.withResumeToken(Ft.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):I.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(I.resumeToken,o)),l=l.insert(x,B),function(J,z,Ee){return J.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=3e8?!0:Ee.addedDocuments.size+Ee.modifiedDocuments.size+Ee.removedDocuments.size>0}(L,B,I)&&m.push(r.Ur.updateTargetData(c,B))});let _=Pr(),v=ke();if(e.documentUpdates.forEach(I=>{e.resolvedLimboDocuments.has(I)&&m.push(r.persistence.referenceDelegate.updateLimboDocument(c,I))}),m.push(AE(c,f,e.documentUpdates).next(I=>{_=I.Ps,v=I.Is})),!o.isEqual(Ie.min())){const I=r.Ur.getLastRemoteSnapshotVersion(c).next(x=>r.Ur.setTargetsMetadata(c,c.currentSequenceNumber,o));m.push(I)}return W.waitFor(m).next(()=>f.apply(c)).next(()=>r.localDocuments.getLocalViewOfDocuments(c,_,v)).next(()=>_)}).then(c=>(r.os=l,c))}function AE(i,e,r){let o=ke(),l=ke();return r.forEach(c=>o=o.add(c)),e.getEntries(i,o).next(c=>{let f=Pr();return r.forEach((m,_)=>{const v=c.get(m);_.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(m)),_.isNoDocument()&&_.version.isEqual(Ie.min())?(e.removeEntry(m,_.readTime),f=f.insert(m,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),f=f.insert(m,_)):ae("LocalStore","Ignoring outdated watch update for ",m,". Current version:",v.version," Watch version:",_.version)}),{Ps:f,Is:l}})}function RE(i,e){const r=Se(i);return r.persistence.runTransaction("Get next mutation batch","readonly",o=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function CE(i,e){const r=Se(i);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let l;return r.Ur.getTargetData(o,e).next(c=>c?(l=c,W.resolve(l)):r.Ur.allocateTargetId(o).next(f=>(l=new ni(e,f,"TargetPurposeListen",o.currentSequenceNumber),r.Ur.addTargetData(o,l).next(()=>l))))}).then(o=>{const l=r.os.get(o.targetId);return(l===null||o.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.os=r.os.insert(o.targetId,o),r._s.set(e,o.targetId)),o})}async function _h(i,e,r){const o=Se(i),l=o.os.get(e),c=r?"readwrite":"readwrite-primary";try{r||await o.persistence.runTransaction("Release target",c,f=>o.persistence.referenceDelegate.removeTarget(f,l))}catch(f){if(!oa(f))throw f;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}o.os=o.os.remove(e),o._s.delete(l.target)}function rm(i,e,r){const o=Se(i);let l=Ie.min(),c=ke();return o.persistence.runTransaction("Execute query","readwrite",f=>function(_,v,I){const x=Se(_),L=x._s.get(I);return L!==void 0?W.resolve(x.os.get(L)):x.Ur.getTargetData(v,I)}(o,f,ir(e)).next(m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,o.Ur.getMatchingKeysForTargetId(f,m.targetId).next(_=>{c=_})}).next(()=>o.ss.getDocumentsMatchingQuery(f,e,r?l:Ie.min(),r?c:ke())).next(m=>(PE(o,_0(e),m),{documents:m,Ts:c})))}function PE(i,e,r){let o=i.us.get(e)||Ie.min();r.forEach((l,c)=>{c.readTime.compareTo(o)>0&&(o=c.readTime)}),i.us.set(e,o)}class im{constructor(){this.activeTargetIds=S0()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kE{constructor(){this.so=new im,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,o){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,o){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new im,Promise.resolve()}handleUserChange(e,r,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vl=null;function Xc(){return Vl===null?Vl=function(){return 268435456+Math.round(2147483648*Math.random())}():Vl++,"0x"+Vl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class DE extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const o=r.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Do=o+"://"+r.host,this.vo=`projects/${l}/databases/${c}`,this.Co=this.databaseId.database==="(default)"?`project_id=${l}`:`project_id=${l}&database_id=${c}`}get Fo(){return!1}Mo(r,o,l,c,f){const m=Xc(),_=this.xo(r,o.toUriEncodedString());ae("RestConnection",`Sending RPC '${r}' ${m}:`,_,l);const v={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(v,c,f),this.No(r,_,v,l).then(I=>(ae("RestConnection",`Received RPC '${r}' ${m}: `,I),I),I=>{throw Us("RestConnection",`RPC '${r}' ${m} failed with error: `,I,"url: ",_,"request:",l),I})}Lo(r,o,l,c,f,m){return this.Mo(r,o,l,c,f)}Oo(r,o,l){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qs}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((c,f)=>r[f]=c),l&&l.headers.forEach((c,f)=>r[f]=c)}xo(r,o){const l=VE[r];return`${this.Do}/v1/${o}:${l}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,o,l){const c=Xc();return new Promise((f,m)=>{const _=new Vm;_.setWithCredentials(!0),_.listenOnce(Nm.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Ll.NO_ERROR:const I=_.getResponseJson();ae($t,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(I)),f(I);break;case Ll.TIMEOUT:ae($t,`RPC '${e}' ${c} timed out`),m(new ue(q.DEADLINE_EXCEEDED,"Request time out"));break;case Ll.HTTP_ERROR:const x=_.getStatus();if(ae($t,`RPC '${e}' ${c} failed with status:`,x,"response text:",_.getResponseText()),x>0){let L=_.getResponseJson();Array.isArray(L)&&(L=L[0]);const B=L==null?void 0:L.error;if(B&&B.status&&B.message){const X=function(z){const Ee=z.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(Ee)>=0?Ee:q.UNKNOWN}(B.status);m(new ue(X,B.message))}else m(new ue(q.UNKNOWN,"Server responded with status "+_.getStatus()))}else m(new ue(q.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{ae($t,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(l);ae($t,`RPC '${e}' ${c} sending request:`,l),_.send(r,"POST",v,o,15)})}Bo(e,r,o){const l=Xc(),c=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Om(),m=Lm(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Oo(_.initMessageHeaders,r,o),_.encodeInitMessageHeaders=!0;const I=c.join("");ae($t,`Creating RPC '${e}' stream ${l}: ${I}`,_);const x=f.createWebChannel(I,_);let L=!1,B=!1;const X=new NE({Io:z=>{B?ae($t,`Not sending because RPC '${e}' stream ${l} is closed:`,z):(L||(ae($t,`Opening RPC '${e}' stream ${l} transport.`),x.open(),L=!0),ae($t,`RPC '${e}' stream ${l} sending:`,z),x.send(z))},To:()=>x.close()}),J=(z,Ee,de)=>{z.listen(Ee,ye=>{try{de(ye)}catch(ve){setTimeout(()=>{throw ve},0)}})};return J(x,$o.EventType.OPEN,()=>{B||(ae($t,`RPC '${e}' stream ${l} transport opened.`),X.yo())}),J(x,$o.EventType.CLOSE,()=>{B||(B=!0,ae($t,`RPC '${e}' stream ${l} transport closed`),X.So())}),J(x,$o.EventType.ERROR,z=>{B||(B=!0,Us($t,`RPC '${e}' stream ${l} transport errored:`,z),X.So(new ue(q.UNAVAILABLE,"The operation could not be completed")))}),J(x,$o.EventType.MESSAGE,z=>{var Ee;if(!B){const de=z.data[0];qe(!!de);const ye=de,ve=ye.error||((Ee=ye[0])===null||Ee===void 0?void 0:Ee.error);if(ve){ae($t,`RPC '${e}' stream ${l} received error:`,ve);const Ze=ve.status;let xe=function(A){const C=mt[A];if(C!==void 0)return sg(C)}(Ze),k=ve.message;xe===void 0&&(xe=q.INTERNAL,k="Unknown error status: "+Ze+" with message "+ve.message),B=!0,X.So(new ue(xe,k)),x.close()}else ae($t,`RPC '${e}' stream ${l} received:`,de),X.bo(de)}}),J(m,Dm.STAT_EVENT,z=>{z.stat===lh.PROXY?ae($t,`RPC '${e}' stream ${l} detected buffering proxy`):z.stat===lh.NOPROXY&&ae($t,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{X.wo()},0),X}}function Jc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(i){return new $0(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,r,o=1e3,l=1.5,c=6e4){this.ui=e,this.timerId=r,this.ko=o,this.qo=l,this.Qo=c,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),o=Math.max(0,Date.now()-this.Uo),l=Math.max(0,r-o);l>0&&ae("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,l,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,r,o,l,c,f,m,_){this.ui=e,this.Ho=o,this.Jo=l,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=_,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new yg(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===q.RESOURCE_EXHAUSTED?(Cr(r.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,l])=>{this.Yo===r&&this.P_(o,l)},o=>{e(()=>{const l=new ue(q.UNKNOWN,"Fetching auth token failed: "+o.message);return this.I_(l)})})}P_(e,r){const o=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{o(()=>this.listener.Eo())}),this.stream.Ro(()=>{o(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(l=>{o(()=>this.I_(l))}),this.stream.onMessage(l=>{o(()=>++this.e_==1?this.E_(l):this.onNext(l))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LE extends _g{constructor(e,r,o,l,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,l,f),this.serializer=c}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=W0(this.serializer,e),o=function(c){if(!("targetChange"in c))return Ie.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?Ie.min():f.readTime?sr(f.readTime):Ie.min()}(e);return this.listener.d_(r,o)}A_(e){const r={};r.database=yh(this.serializer),r.addTarget=function(c,f){let m;const _=f.target;if(m=fh(_)?{documents:G0(c,_)}:{query:Y0(c,_)._t},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=lg(c,f.resumeToken);const v=ph(c,f.expectedCount);v!==null&&(m.expectedCount=v)}else if(f.snapshotVersion.compareTo(Ie.min())>0){m.readTime=Ql(c,f.snapshotVersion.toTimestamp());const v=ph(c,f.expectedCount);v!==null&&(m.expectedCount=v)}return m}(this.serializer,e);const o=J0(this.serializer,e);o&&(r.labels=o),this.a_(r)}R_(e){const r={};r.database=yh(this.serializer),r.removeTarget=e,this.a_(r)}}class OE extends _g{constructor(e,r,o,l,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,o,l,f),this.serializer=c}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return qe(!!e.streamToken),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=K0(e.writeResults,e.commitTime),o=sr(e.commitTime);return this.listener.g_(o,r)}p_(){const e={};e.database=yh(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(o=>Q0(this.serializer,o))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME extends class{}{constructor(e,r,o,l){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=o,this.serializer=l,this.y_=!1}w_(){if(this.y_)throw new ue(q.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,o,l){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Mo(e,mh(r,o),l,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ue(q.UNKNOWN,c.toString())})}Lo(e,r,o,l,c){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Lo(e,mh(r,o),l,f,m,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ue(q.UNKNOWN,f.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class FE{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Cr(r),this.D_=!1):ae("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,r,o,l,c){this.localStore=e,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=c,this.k_._o(f=>{o.enqueueAndForget(async()=>{Wi(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),await async function(_){const v=Se(_);v.L_.add(4),await ua(v),v.q_.set("Unknown"),v.L_.delete(4),await lu(v)}(this))})}),this.q_=new FE(o,l)}}async function lu(i){if(Wi(i))for(const e of i.B_)await e(!0)}async function ua(i){for(const e of i.B_)await e(!1)}function vg(i,e){const r=Se(i);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),$h(r)?bh(r):Gs(r).r_()&&Bh(r,e))}function zh(i,e){const r=Se(i),o=Gs(r);r.N_.delete(e),o.r_()&&Eg(r,e),r.N_.size===0&&(o.r_()?o.o_():Wi(r)&&r.q_.set("Unknown"))}function Bh(i,e){if(i.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const r=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Gs(i).A_(e)}function Eg(i,e){i.Q_.xe(e),Gs(i).R_(e)}function bh(i){i.Q_=new U0({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>i.N_.get(e)||null,tt:()=>i.datastore.serializer.databaseId}),Gs(i).start(),i.q_.v_()}function $h(i){return Wi(i)&&!Gs(i).n_()&&i.N_.size>0}function Wi(i){return Se(i).L_.size===0}function wg(i){i.Q_=void 0}async function UE(i){i.q_.set("Online")}async function zE(i){i.N_.forEach((e,r)=>{Bh(i,e)})}async function BE(i,e){wg(i),$h(i)?(i.q_.M_(e),bh(i)):i.q_.set("Unknown")}async function bE(i,e,r){if(i.q_.set("Online"),e instanceof ag&&e.state===2&&e.cause)try{await async function(l,c){const f=c.cause;for(const m of c.targetIds)l.N_.has(m)&&(await l.remoteSyncer.rejectListen(m,f),l.N_.delete(m),l.Q_.removeTarget(m))}(i,e)}catch(o){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),await Kl(i,o)}else if(e instanceof Fl?i.Q_.Ke(e):e instanceof og?i.Q_.He(e):i.Q_.We(e),!r.isEqual(Ie.min()))try{const o=await gg(i.localStore);r.compareTo(o)>=0&&await function(c,f){const m=c.Q_.rt(f);return m.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const I=c.N_.get(v);I&&c.N_.set(v,I.withResumeToken(_.resumeToken,f))}}),m.targetMismatches.forEach((_,v)=>{const I=c.N_.get(_);if(!I)return;c.N_.set(_,I.withResumeToken(Ft.EMPTY_BYTE_STRING,I.snapshotVersion)),Eg(c,_);const x=new ni(I.target,_,v,I.sequenceNumber);Bh(c,x)}),c.remoteSyncer.applyRemoteEvent(m)}(i,r)}catch(o){ae("RemoteStore","Failed to raise snapshot:",o),await Kl(i,o)}}async function Kl(i,e,r){if(!oa(e))throw e;i.L_.add(1),await ua(i),i.q_.set("Offline"),r||(r=()=>gg(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ae("RemoteStore","Retrying IndexedDB access"),await r(),i.L_.delete(1),await lu(i)})}function Tg(i,e){return e().catch(r=>Kl(i,r,e))}async function uu(i){const e=Se(i),r=ui(e);let o=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;$E(e);)try{const l=await RE(e.localStore,o);if(l===null){e.O_.length===0&&r.o_();break}o=l.batchId,qE(e,l)}catch(l){await Kl(e,l)}Ig(e)&&Sg(e)}function $E(i){return Wi(i)&&i.O_.length<10}function qE(i,e){i.O_.push(e);const r=ui(i);r.r_()&&r.V_&&r.m_(e.mutations)}function Ig(i){return Wi(i)&&!ui(i).n_()&&i.O_.length>0}function Sg(i){ui(i).start()}async function HE(i){ui(i).p_()}async function WE(i){const e=ui(i);for(const r of i.O_)e.m_(r.mutations)}async function QE(i,e,r){const o=i.O_.shift(),l=Lh.from(o,e,r);await Tg(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),await uu(i)}async function KE(i,e){e&&ui(i).V_&&await async function(o,l){if(function(f){return M0(f)&&f!==q.ABORTED}(l.code)){const c=o.O_.shift();ui(o).s_(),await Tg(o,()=>o.remoteSyncer.rejectFailedWrite(c.batchId,l)),await uu(o)}}(i,e),Ig(i)&&Sg(i)}async function om(i,e){const r=Se(i);r.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const o=Wi(r);r.L_.add(3),await ua(r),o&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await lu(r)}async function GE(i,e){const r=Se(i);e?(r.L_.delete(2),await lu(r)):e||(r.L_.add(2),await ua(r),r.q_.set("Unknown"))}function Gs(i){return i.K_||(i.K_=function(r,o,l){const c=Se(r);return c.w_(),new LE(o,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(i.datastore,i.asyncQueue,{Eo:UE.bind(null,i),Ro:zE.bind(null,i),mo:BE.bind(null,i),d_:bE.bind(null,i)}),i.B_.push(async e=>{e?(i.K_.s_(),$h(i)?bh(i):i.q_.set("Unknown")):(await i.K_.stop(),wg(i))})),i.K_}function ui(i){return i.U_||(i.U_=function(r,o,l){const c=Se(r);return c.w_(),new OE(o,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(i.datastore,i.asyncQueue,{Eo:()=>Promise.resolve(),Ro:HE.bind(null,i),mo:KE.bind(null,i),f_:WE.bind(null,i),g_:QE.bind(null,i)}),i.B_.push(async e=>{e?(i.U_.s_(),await uu(i)):(await i.U_.stop(),i.O_.length>0&&(ae("RemoteStore",`Stopping write stream with ${i.O_.length} pending writes`),i.O_=[]))})),i.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,r,o,l,c){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=o,this.op=l,this.removalCallback=c,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,o,l,c){const f=Date.now()+o,m=new qh(e,r,f,l,c);return m.start(o),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hh(i,e){if(Cr("AsyncQueue",`${e}: ${i}`),oa(i))return new ue(q.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this.comparator=e?(r,o)=>e(r,o)||ge.comparator(r.key,o.key):(r,o)=>ge.comparator(r.key,o.key),this.keyedMap=qo(),this.sortedSet=new ot(this.comparator)}static emptySet(e){return new js(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,o)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof js)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,c=o.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const o=new js;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=r,o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(){this.W_=new ot(ge.comparator)}track(e){const r=e.doc.key,o=this.W_.get(r);o?e.type!==0&&o.type===3?this.W_=this.W_.insert(r,e):e.type===3&&o.type!==1?this.W_=this.W_.insert(r,{type:o.type,doc:e.doc}):e.type===2&&o.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&o.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&o.type===0?this.W_=this.W_.remove(r):e.type===1&&o.type===2?this.W_=this.W_.insert(r,{type:1,doc:o.doc}):e.type===0&&o.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Te():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,o)=>{e.push(o)}),e}}class qs{constructor(e,r,o,l,c,f,m,_,v){this.query=e,this.docs=r,this.oldDocs=o,this.docChanges=l,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,r,o,l,c){const f=[];return r.forEach(m=>{f.push({type:0,doc:m})}),new qs(e,r,js.emptySet(r),f,o,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,o=e.docChanges;if(r.length!==o.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==o[l].type||!r[l].doc.isEqual(o[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class XE{constructor(){this.queries=lm(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,o){const l=Se(r),c=l.queries;l.queries=lm(),c.forEach((f,m)=>{for(const _ of m.j_)_.onError(o)})})(this,new ue(q.ABORTED,"Firestore shutting down"))}}function lm(){return new Ks(i=>Qm(i),tu)}async function Wh(i,e){const r=Se(i);let o=3;const l=e.query;let c=r.queries.get(l);c?!c.H_()&&e.J_()&&(o=2):(c=new YE,o=e.J_()?0:1);try{switch(o){case 0:c.z_=await r.onListen(l,!0);break;case 1:c.z_=await r.onListen(l,!1);break;case 2:await r.onFirstRemoteStoreListen(l)}}catch(f){const m=Hh(f,`Initialization of query '${Ls(e.query)}' failed`);return void e.onError(m)}r.queries.set(l,c),c.j_.push(e),e.Z_(r.onlineState),c.z_&&e.X_(c.z_)&&Kh(r)}async function Qh(i,e){const r=Se(i),o=e.query;let l=3;const c=r.queries.get(o);if(c){const f=c.j_.indexOf(e);f>=0&&(c.j_.splice(f,1),c.j_.length===0?l=e.J_()?0:1:!c.H_()&&e.J_()&&(l=2))}switch(l){case 0:return r.queries.delete(o),r.onUnlisten(o,!0);case 1:return r.queries.delete(o),r.onUnlisten(o,!1);case 2:return r.onLastRemoteStoreUnlisten(o);default:return}}function JE(i,e){const r=Se(i);let o=!1;for(const l of e){const c=l.query,f=r.queries.get(c);if(f){for(const m of f.j_)m.X_(l)&&(o=!0);f.z_=l}}o&&Kh(r)}function ZE(i,e,r){const o=Se(i),l=o.queries.get(e);if(l)for(const c of l.j_)c.onError(r);o.queries.delete(e)}function Kh(i){i.Y_.forEach(e=>{e.next()})}var vh,um;(um=vh||(vh={})).ea="default",um.Cache="cache";class Gh{constructor(e,r,o){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=o||{}}X_(e){if(!this.options.includeMetadataChanges){const o=[];for(const l of e.docChanges)l.type!==3&&o.push(l);e=new qs(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const o=r!=="Offline";return(!this.options._a||!o)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=qs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==vh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e){this.key=e}}class Rg{constructor(e){this.key=e}}class ew{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ke(),this.mutatedKeys=ke(),this.Aa=Km(e),this.Ra=new js(this.Aa)}get Va(){return this.Ta}ma(e,r){const o=r?r.fa:new am,l=r?r.Ra:this.Ra;let c=r?r.mutatedKeys:this.mutatedKeys,f=l,m=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((I,x)=>{const L=l.get(I),B=nu(this.query,x)?x:null,X=!!L&&this.mutatedKeys.has(L.key),J=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let z=!1;L&&B?L.data.isEqual(B.data)?X!==J&&(o.track({type:3,doc:B}),z=!0):this.ga(L,B)||(o.track({type:2,doc:B}),z=!0,(_&&this.Aa(B,_)>0||v&&this.Aa(B,v)<0)&&(m=!0)):!L&&B?(o.track({type:0,doc:B}),z=!0):L&&!B&&(o.track({type:1,doc:L}),z=!0,(_||v)&&(m=!0)),z&&(B?(f=f.add(B),c=J?c.add(I):c.delete(I)):(f=f.delete(I),c=c.delete(I)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const I=this.query.limitType==="F"?f.last():f.first();f=f.delete(I.key),c=c.delete(I.key),o.track({type:1,doc:I})}return{Ra:f,fa:o,ns:m,mutatedKeys:c}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,o,l){const c=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const f=e.fa.G_();f.sort((I,x)=>function(B,X){const J=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return J(B)-J(X)}(I.type,x.type)||this.Aa(I.doc,x.doc)),this.pa(o),l=l!=null&&l;const m=r&&!l?this.ya():[],_=this.da.size===0&&this.current&&!l?1:0,v=_!==this.Ea;return this.Ea=_,f.length!==0||v?{snapshot:new qs(this.query,e.Ra,c,f,e.mutatedKeys,_===0,v,!1,!!o&&o.resumeToken.approximateByteSize()>0),wa:m}:{wa:m}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new am,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ke(),this.Ra.forEach(o=>{this.Sa(o.key)&&(this.da=this.da.add(o.key))});const r=[];return e.forEach(o=>{this.da.has(o)||r.push(new Rg(o))}),this.da.forEach(o=>{e.has(o)||r.push(new Ag(o))}),r}ba(e){this.Ta=e.Ts,this.da=ke();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return qs.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class tw{constructor(e,r,o){this.query=e,this.targetId=r,this.view=o}}class nw{constructor(e){this.key=e,this.va=!1}}class rw{constructor(e,r,o,l,c,f){this.localStore=e,this.remoteStore=r,this.eventManager=o,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Ca={},this.Fa=new Ks(m=>Qm(m),tu),this.Ma=new Map,this.xa=new Set,this.Oa=new ot(ge.comparator),this.Na=new Map,this.La=new Fh,this.Ba={},this.ka=new Map,this.qa=$s.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function iw(i,e,r=!0){const o=Ng(i);let l;const c=o.Fa.get(e);return c?(o.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.Da()):l=await Cg(o,e,r,!0),l}async function sw(i,e){const r=Ng(i);await Cg(r,e,!0,!1)}async function Cg(i,e,r,o){const l=await CE(i.localStore,ir(e)),c=l.targetId,f=i.sharedClientState.addLocalQueryTarget(c,r);let m;return o&&(m=await ow(i,e,c,f==="current",l.resumeToken)),i.isPrimaryClient&&r&&vg(i.remoteStore,l),m}async function ow(i,e,r,o,l){i.Ka=(x,L,B)=>async function(J,z,Ee,de){let ye=z.view.ma(Ee);ye.ns&&(ye=await rm(J.localStore,z.query,!1).then(({documents:k})=>z.view.ma(k,ye)));const ve=de&&de.targetChanges.get(z.targetId),Ze=de&&de.targetMismatches.get(z.targetId)!=null,xe=z.view.applyChanges(ye,J.isPrimaryClient,ve,Ze);return hm(J,z.targetId,xe.wa),xe.snapshot}(i,x,L,B);const c=await rm(i.localStore,e,!0),f=new ew(e,c.Ts),m=f.ma(c.documents),_=la.createSynthesizedTargetChangeForCurrentChange(r,o&&i.onlineState!=="Offline",l),v=f.applyChanges(m,i.isPrimaryClient,_);hm(i,r,v.wa);const I=new tw(e,r,f);return i.Fa.set(e,I),i.Ma.has(r)?i.Ma.get(r).push(e):i.Ma.set(r,[e]),v.snapshot}async function aw(i,e,r){const o=Se(i),l=o.Fa.get(e),c=o.Ma.get(l.targetId);if(c.length>1)return o.Ma.set(l.targetId,c.filter(f=>!tu(f,e))),void o.Fa.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(l.targetId),o.sharedClientState.isActiveQueryTarget(l.targetId)||await _h(o.localStore,l.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(l.targetId),r&&zh(o.remoteStore,l.targetId),Eh(o,l.targetId)}).catch(sa)):(Eh(o,l.targetId),await _h(o.localStore,l.targetId,!0))}async function lw(i,e){const r=Se(i),o=r.Fa.get(e),l=r.Ma.get(o.targetId);r.isPrimaryClient&&l.length===1&&(r.sharedClientState.removeLocalQueryTarget(o.targetId),zh(r.remoteStore,o.targetId))}async function uw(i,e,r){const o=gw(i);try{const l=await function(f,m){const _=Se(f),v=Tt.now(),I=m.reduce((B,X)=>B.add(X.key),ke());let x,L;return _.persistence.runTransaction("Locally write mutations","readwrite",B=>{let X=Pr(),J=ke();return _.cs.getEntries(B,I).next(z=>{X=z,X.forEach((Ee,de)=>{de.isValidDocument()||(J=J.add(Ee))})}).next(()=>_.localDocuments.getOverlayedDocuments(B,X)).next(z=>{x=z;const Ee=[];for(const de of m){const ye=V0(de,x.get(de.key).overlayedDocument);ye!=null&&Ee.push(new ci(de.key,ye,zm(ye.value.mapValue),on.exists(!0)))}return _.mutationQueue.addMutationBatch(B,v,Ee,m)}).next(z=>{L=z;const Ee=z.applyToLocalDocumentSet(x,J);return _.documentOverlayCache.saveOverlays(B,z.batchId,Ee)})}).then(()=>({batchId:L.batchId,changes:Ym(x)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(l.batchId),function(f,m,_){let v=f.Ba[f.currentUser.toKey()];v||(v=new ot(ze)),v=v.insert(m,_),f.Ba[f.currentUser.toKey()]=v}(o,l.batchId,r),await ca(o,l.changes),await uu(o.remoteStore)}catch(l){const c=Hh(l,"Failed to persist write");r.reject(c)}}async function Pg(i,e){const r=Se(i);try{const o=await SE(r.localStore,e);e.targetChanges.forEach((l,c)=>{const f=r.Na.get(c);f&&(qe(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?f.va=!0:l.modifiedDocuments.size>0?qe(f.va):l.removedDocuments.size>0&&(qe(f.va),f.va=!1))}),await ca(r,o,e)}catch(o){await sa(o)}}function cm(i,e,r){const o=Se(i);if(o.isPrimaryClient&&r===0||!o.isPrimaryClient&&r===1){const l=[];o.Fa.forEach((c,f)=>{const m=f.view.Z_(e);m.snapshot&&l.push(m.snapshot)}),function(f,m){const _=Se(f);_.onlineState=m;let v=!1;_.queries.forEach((I,x)=>{for(const L of x.j_)L.Z_(m)&&(v=!0)}),v&&Kh(_)}(o.eventManager,e),l.length&&o.Ca.d_(l),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}async function cw(i,e,r){const o=Se(i);o.sharedClientState.updateQueryState(e,"rejected",r);const l=o.Na.get(e),c=l&&l.key;if(c){let f=new ot(ge.comparator);f=f.insert(c,Ht.newNoDocument(c,Ie.min()));const m=ke().add(c),_=new ou(Ie.min(),new Map,new ot(ze),f,m);await Pg(o,_),o.Oa=o.Oa.remove(c),o.Na.delete(e),Yh(o)}else await _h(o.localStore,e,!1).then(()=>Eh(o,e,r)).catch(sa)}async function hw(i,e){const r=Se(i),o=e.batch.batchId;try{const l=await IE(r.localStore,e);xg(r,o,null),kg(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),await ca(r,l)}catch(l){await sa(l)}}async function fw(i,e,r){const o=Se(i);try{const l=await function(f,m){const _=Se(f);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let I;return _.mutationQueue.lookupMutationBatch(v,m).next(x=>(qe(x!==null),I=x.keys(),_.mutationQueue.removeMutationBatch(v,x))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,I,m)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,I)).next(()=>_.localDocuments.getDocuments(v,I))})}(o.localStore,e);xg(o,e,r),kg(o,e),o.sharedClientState.updateMutationState(e,"rejected",r),await ca(o,l)}catch(l){await sa(l)}}function kg(i,e){(i.ka.get(e)||[]).forEach(r=>{r.resolve()}),i.ka.delete(e)}function xg(i,e,r){const o=Se(i);let l=o.Ba[o.currentUser.toKey()];if(l){const c=l.get(e);c&&(r?c.reject(r):c.resolve(),l=l.remove(e)),o.Ba[o.currentUser.toKey()]=l}}function Eh(i,e,r=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.Ma.get(e))i.Fa.delete(o),r&&i.Ca.$a(o,r);i.Ma.delete(e),i.isPrimaryClient&&i.La.gr(e).forEach(o=>{i.La.containsKey(o)||Vg(i,o)})}function Vg(i,e){i.xa.delete(e.path.canonicalString());const r=i.Oa.get(e);r!==null&&(zh(i.remoteStore,r),i.Oa=i.Oa.remove(e),i.Na.delete(r),Yh(i))}function hm(i,e,r){for(const o of r)o instanceof Ag?(i.La.addReference(o.key,e),dw(i,o)):o instanceof Rg?(ae("SyncEngine","Document no longer in limbo: "+o.key),i.La.removeReference(o.key,e),i.La.containsKey(o.key)||Vg(i,o.key)):Te()}function dw(i,e){const r=e.key,o=r.path.canonicalString();i.Oa.get(r)||i.xa.has(o)||(ae("SyncEngine","New document in limbo: "+r),i.xa.add(o),Yh(i))}function Yh(i){for(;i.xa.size>0&&i.Oa.size<i.maxConcurrentLimboResolutions;){const e=i.xa.values().next().value;i.xa.delete(e);const r=new ge(nt.fromString(e)),o=i.qa.next();i.Na.set(o,new nw(r)),i.Oa=i.Oa.insert(r,o),vg(i.remoteStore,new ni(ir(eu(r.path)),o,"TargetPurposeLimboResolution",Ch.oe))}}async function ca(i,e,r){const o=Se(i),l=[],c=[],f=[];o.Fa.isEmpty()||(o.Fa.forEach((m,_)=>{f.push(o.Ka(_,e,r).then(v=>{var I;if((v||r)&&o.isPrimaryClient){const x=v?!v.fromCache:(I=r==null?void 0:r.targetChanges.get(_.targetId))===null||I===void 0?void 0:I.current;o.sharedClientState.updateQueryState(_.targetId,x?"current":"not-current")}if(v){l.push(v);const x=Uh.Wi(_.targetId,v);c.push(x)}}))}),await Promise.all(f),o.Ca.d_(l),await async function(_,v){const I=Se(_);try{await I.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>W.forEach(v,L=>W.forEach(L.$i,B=>I.persistence.referenceDelegate.addReference(x,L.targetId,B)).next(()=>W.forEach(L.Ui,B=>I.persistence.referenceDelegate.removeReference(x,L.targetId,B)))))}catch(x){if(!oa(x))throw x;ae("LocalStore","Failed to update sequence numbers: "+x)}for(const x of v){const L=x.targetId;if(!x.fromCache){const B=I.os.get(L),X=B.snapshotVersion,J=B.withLastLimboFreeSnapshotVersion(X);I.os=I.os.insert(L,J)}}}(o.localStore,c))}async function pw(i,e){const r=Se(i);if(!r.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());const o=await mg(r.localStore,e);r.currentUser=e,function(c,f){c.ka.forEach(m=>{m.forEach(_=>{_.reject(new ue(q.CANCELLED,f))})}),c.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),await ca(r,o.hs)}}function mw(i,e){const r=Se(i),o=r.Na.get(e);if(o&&o.va)return ke().add(o.key);{let l=ke();const c=r.Ma.get(e);if(!c)return l;for(const f of c){const m=r.Fa.get(f);l=l.unionWith(m.view.Va)}return l}}function Ng(i){const e=Se(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Pg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cw.bind(null,e),e.Ca.d_=JE.bind(null,e.eventManager),e.Ca.$a=ZE.bind(null,e.eventManager),e}function gw(i){const e=Se(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fw.bind(null,e),e}class Gl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=au(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return TE(this.persistence,new EE,e.initialUser,this.serializer)}Ga(e){return new yE(jh.Zr,this.serializer)}Wa(e){return new kE}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gl.provider={build:()=>new Gl};class wh{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=o=>cm(this.syncEngine,o,1),this.remoteStore.remoteSyncer.handleCredentialChange=pw.bind(null,this.syncEngine),await GE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new XE}()}createDatastore(e){const r=au(e.databaseInfo.databaseId),o=function(c){return new DE(c)}(e.databaseInfo);return function(c,f,m,_){return new ME(c,f,m,_)}(e.authCredentials,e.appCheckCredentials,o,r)}createRemoteStore(e){return function(o,l,c,f,m){return new jE(o,l,c,f,m)}(this.localStore,this.datastore,e.asyncQueue,r=>cm(this.syncEngine,r,0),function(){return sm.D()?new sm:new xE}())}createSyncEngine(e,r){return function(l,c,f,m,_,v,I){const x=new rw(l,c,f,m,_,v);return I&&(x.Qa=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(l){const c=Se(l);ae("RemoteStore","RemoteStore shutting down."),c.L_.add(5),await ua(c),c.k_.shutdown(),c.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}wh.provider={build:()=>new wh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Cr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,r,o,l,c){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=l,this.user=qt.UNAUTHENTICATED,this.clientId=Fm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(o,async f=>{ae("FirestoreClient","Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(o,f=>(ae("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const o=Hh(r,"Failed to shutdown persistence");e.reject(o)}}),e.promise}}async function Zc(i,e){i.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const r=i.configuration;await e.initialize(r);let o=r.initialUser;i.setCredentialChangeListener(async l=>{o.isEqual(l)||(await mg(e.localStore,l),o=l)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function fm(i,e){i.asyncQueue.verifyOperationInProgress();const r=await _w(i);ae("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,i.configuration),i.setCredentialChangeListener(o=>om(e.remoteStore,o)),i.setAppCheckTokenChangeListener((o,l)=>om(e.remoteStore,l)),i._onlineComponents=e}async function _w(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await Zc(i,i._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(l){return l.name==="FirebaseError"?l.code===q.FAILED_PRECONDITION||l.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(r))throw r;Us("Error using user provided cache. Falling back to memory cache: "+r),await Zc(i,new Gl)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),await Zc(i,new Gl);return i._offlineComponents}async function Dg(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),await fm(i,i._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),await fm(i,new wh))),i._onlineComponents}function vw(i){return Dg(i).then(e=>e.syncEngine)}async function Yl(i){const e=await Dg(i),r=e.eventManager;return r.onListen=iw.bind(null,e.syncEngine),r.onUnlisten=aw.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=sw.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=lw.bind(null,e.syncEngine),r}function Ew(i,e,r={}){const o=new Ar;return i.asyncQueue.enqueueAndForget(async()=>function(c,f,m,_,v){const I=new Xh({next:L=>{I.Za(),f.enqueueAndForget(()=>Qh(c,x));const B=L.docs.has(m);!B&&L.fromCache?v.reject(new ue(q.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&L.fromCache&&_&&_.source==="server"?v.reject(new ue(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(L)},error:L=>v.reject(L)}),x=new Gh(eu(m.path),I,{includeMetadataChanges:!0,_a:!0});return Wh(c,x)}(await Yl(i),i.asyncQueue,e,r,o)),o.promise}function ww(i,e,r={}){const o=new Ar;return i.asyncQueue.enqueueAndForget(async()=>function(c,f,m,_,v){const I=new Xh({next:L=>{I.Za(),f.enqueueAndForget(()=>Qh(c,x)),L.fromCache&&_.source==="server"?v.reject(new ue(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(L)},error:L=>v.reject(L)}),x=new Gh(m,I,{includeMetadataChanges:!0,_a:!0});return Wh(c,x)}(await Yl(i),i.asyncQueue,e,r,o)),o.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(i,e,r){if(!r)throw new ue(q.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Tw(i,e,r,o){if(e===!0&&o===!0)throw new ue(q.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function pm(i){if(!ge.isDocumentKey(i))throw new ue(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function mm(i){if(ge.isDocumentKey(i))throw new ue(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Jh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(o){return o.constructor?o.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Te()}function _n(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ue(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Jh(i);throw new ue(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e){var r,o;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ue(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Tw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Lg((o=e.experimentalLongPollingOptions)!==null&&o!==void 0?o:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ue(q.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ue(q.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ue(q.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(o,l){return o.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cu{constructor(e,r,o,l){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=o,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gm(e),e.credentials!==void 0&&(this._authCredentials=function(o){if(!o)return new Uv;switch(o.type){case"firstParty":return new $v(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new ue(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const o=dm.get(r);o&&(ae("ComponentProvider","Removing Datastore"),dm.delete(r),o.terminate())}(this),Promise.resolve()}}function Iw(i,e,r,o={}){var l;const c=(i=_n(i,cu))._getSettings(),f=`${e}:${r}`;if(c.host!=="firestore.googleapis.com"&&c.host!==f&&Us("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},c),{host:f,ssl:!1})),o.mockUserToken){let m,_;if(typeof o.mockUserToken=="string")m=o.mockUserToken,_=qt.MOCK_USER;else{m=__(o.mockUserToken,(l=i._app)===null||l===void 0?void 0:l.options.projectId);const v=o.mockUserToken.sub||o.mockUserToken.user_id;if(!v)throw new ue(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new qt(v)}i._authCredentials=new zv(new Mm(m,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new ha(this.firestore,e,this._query)}}class an{constructor(e,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new an(this.firestore,e,this._key)}}class oi extends ha{constructor(e,r,o){super(e,r,eu(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new an(this.firestore,null,new ge(e))}withConverter(e){return new oi(this.firestore,e,this._path)}}function ri(i,e,...r){if(i=or(i),Og("collection","path",e),i instanceof cu){const o=nt.fromString(e,...r);return mm(o),new oi(i,null,o)}{if(!(i instanceof an||i instanceof oi))throw new ue(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(nt.fromString(e,...r));return mm(o),new oi(i.firestore,null,o)}}function gn(i,e,...r){if(i=or(i),arguments.length===1&&(e=Fm.newId()),Og("doc","path",e),i instanceof cu){const o=nt.fromString(e,...r);return pm(o),new an(i,null,new ge(o))}{if(!(i instanceof an||i instanceof oi))throw new ue(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(nt.fromString(e,...r));return pm(o),new an(i.firestore,i instanceof oi?i.converter:null,new ge(o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new yg(this,"async_queue_retry"),this.Vu=()=>{const o=Jc();o&&ae("AsyncQueue","Visibility state changed to "+o.visibilityState),this.t_.jo()},this.mu=e;const r=Jc();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Jc();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Ar;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!oa(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(o=>{this.Eu=o,this.du=!1;const l=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(o);throw Cr("INTERNAL UNHANDLED ERROR: ",l),o}).then(o=>(this.du=!1,o))));return this.mu=r,r}enqueueAfterDelay(e,r,o){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const l=qh.createAndSchedule(this,e,r,o,c=>this.yu(c));return this.Tu.push(l),l}fu(){this.Eu&&Te()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function _m(i){return function(r,o){if(typeof r!="object"||r===null)return!1;const l=r;for(const c of o)if(c in l&&typeof l[c]=="function")return!0;return!1}(i,["next","error","complete"])}class kr extends cu{constructor(e,r,o,l){super(e,r,o,l),this.type="firestore",this._queue=new ym,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ym(e),this._firestoreClient=void 0,await e}}}function Sw(i,e){const r=typeof i=="object"?i:Cv(),o=typeof i=="string"?i:"(default)",l=Iv(r,"firestore").getImmediate({identifier:o});if(!l._initialized){const c=g_("firestore");c&&Iw(l,...c)}return l}function fa(i){if(i._terminated)throw new ue(q.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||Aw(i),i._firestoreClient}function Aw(i){var e,r,o;const l=i._freezeSettings(),c=function(m,_,v,I){return new n0(m,_,v,I.host,I.ssl,I.experimentalForceLongPolling,I.experimentalAutoDetectLongPolling,Lg(I.experimentalLongPollingOptions),I.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,l);i._componentsProvider||!((r=l.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((o=l.localCache)===null||o===void 0)&&o._onlineComponentProvider)&&(i._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),i._firestoreClient=new yw(i._authCredentials,i._appCheckCredentials,i._queue,c,i._componentsProvider&&function(m){const _=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(_),_online:_}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hs(Ft.fromBase64String(e))}catch(r){throw new ue(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Hs(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new ue(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ue(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ue(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(o,l){if(o.length!==l.length)return!1;for(let c=0;c<o.length;++c)if(o[c]!==l[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw=/^__.*__$/;class Cw{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return this.fieldMask!==null?new ci(e,this.data,this.fieldMask,r,this.fieldTransforms):new aa(e,this.data,r,this.fieldTransforms)}}class Mg{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return new ci(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Fg(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class nf{constructor(e,r,o,l,c,f){this.settings=e,this.databaseId=r,this.serializer=o,this.ignoreUndefinedProperties=l,c===void 0&&this.vu(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new nf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const o=(r=this.path)===null||r===void 0?void 0:r.child(e),l=this.Fu({path:o,xu:!1});return l.Ou(e),l}Nu(e){var r;const o=(r=this.path)===null||r===void 0?void 0:r.child(e),l=this.Fu({path:o,xu:!1});return l.vu(),l}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Xl(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Fg(this.Cu)&&Rw.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Pw{constructor(e,r,o){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=o||au(e)}Qu(e,r,o,l=!1){return new nf({Cu:e,methodName:r,qu:o,path:Ot.emptyPath(),xu:!1,ku:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rf(i){const e=i._freezeSettings(),r=au(i._databaseId);return new Pw(i._databaseId,!!e.ignoreUndefinedProperties,r)}function sf(i,e,r,o,l,c={}){const f=i.Qu(c.merge||c.mergeFields?2:0,e,r,l);of("Data must be an object, but it was:",f,o);const m=jg(o,f);let _,v;if(c.merge)_=new yn(f.fieldMask),v=f.fieldTransforms;else if(c.mergeFields){const I=[];for(const x of c.mergeFields){const L=Th(e,x,r);if(!f.contains(L))throw new ue(q.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);zg(I,L)||I.push(L)}_=new yn(I),v=f.fieldTransforms.filter(x=>_.covers(x.field))}else _=null,v=f.fieldTransforms;return new Cw(new sn(m),_,v)}class fu extends Zh{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fu}}function kw(i,e,r,o){const l=i.Qu(1,e,r);of("Data must be an object, but it was:",l,o);const c=[],f=sn.empty();Hi(o,(_,v)=>{const I=af(e,_,r);v=or(v);const x=l.Nu(I);if(v instanceof fu)c.push(I);else{const L=du(v,x);L!=null&&(c.push(I),f.set(I,L))}});const m=new yn(c);return new Mg(f,m,l.fieldTransforms)}function xw(i,e,r,o,l,c){const f=i.Qu(1,e,r),m=[Th(e,o,r)],_=[l];if(c.length%2!=0)throw new ue(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let L=0;L<c.length;L+=2)m.push(Th(e,c[L])),_.push(c[L+1]);const v=[],I=sn.empty();for(let L=m.length-1;L>=0;--L)if(!zg(v,m[L])){const B=m[L];let X=_[L];X=or(X);const J=f.Nu(B);if(X instanceof fu)v.push(B);else{const z=du(X,J);z!=null&&(v.push(B),I.set(B,z))}}const x=new yn(v);return new Mg(I,x,f.fieldTransforms)}function du(i,e){if(Ug(i=or(i)))return of("Unsupported field value:",e,i),jg(i,e);if(i instanceof Zh)return function(o,l){if(!Fg(l.Cu))throw l.Bu(`${o._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Bu(`${o._methodName}() is not currently supported inside arrays`);const c=o._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(o,l){const c=[];let f=0;for(const m of o){let _=du(m,l.Lu(f));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),f++}return{arrayValue:{values:c}}}(i,e)}return function(o,l){if((o=or(o))===null)return{nullValue:"NULL_VALUE"};if(typeof o=="number")return A0(l.serializer,o);if(typeof o=="boolean")return{booleanValue:o};if(typeof o=="string")return{stringValue:o};if(o instanceof Date){const c=Tt.fromDate(o);return{timestampValue:Ql(l.serializer,c)}}if(o instanceof Tt){const c=new Tt(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:Ql(l.serializer,c)}}if(o instanceof ef)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof Hs)return{bytesValue:lg(l.serializer,o._byteString)};if(o instanceof an){const c=l.databaseId,f=o.firestore._databaseId;if(!f.isEqual(c))throw l.Bu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Mh(o.firestore._databaseId||l.databaseId,o._key.path)}}if(o instanceof tf)return function(f,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:f.toArray().map(_=>{if(typeof _!="number")throw m.Bu("VectorValues must only contain numeric values.");return Dh(m.serializer,_)})}}}}}}(o,l);throw l.Bu(`Unsupported field value: ${Jh(o)}`)}(i,e)}function jg(i,e){const r={};return jm(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hi(i,(o,l)=>{const c=du(l,e.Mu(o));c!=null&&(r[o]=c)}),{mapValue:{fields:r}}}function Ug(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Tt||i instanceof ef||i instanceof Hs||i instanceof an||i instanceof Zh||i instanceof tf)}function of(i,e,r){if(!Ug(r)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(r)){const o=Jh(r);throw o==="an object"?e.Bu(i+" a custom object"):e.Bu(i+" "+o)}}function Th(i,e,r){if((e=or(e))instanceof hu)return e._internalPath;if(typeof e=="string")return af(i,e);throw Xl("Field path arguments must be of type string or ",i,!1,void 0,r)}const Vw=new RegExp("[~\\*/\\[\\]]");function af(i,e,r){if(e.search(Vw)>=0)throw Xl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new hu(...e.split("."))._internalPath}catch{throw Xl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function Xl(i,e,r,o,l){const c=o&&!o.isEmpty(),f=l!==void 0;let m=`Function ${e}() called with invalid data`;r&&(m+=" (via `toFirestore()`)"),m+=". ";let _="";return(c||f)&&(_+=" (found",c&&(_+=` in field ${o}`),f&&(_+=` in document ${l}`),_+=")"),new ue(q.INVALID_ARGUMENT,m+i+_)}function zg(i,e){return i.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,r,o,l,c){this._firestore=e,this._userDataWriter=r,this._key=o,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new an(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Nw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(bg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Nw extends Bg{data(){return super.data()}}function bg(i,e){return typeof e=="string"?af(i,e):e instanceof hu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ue(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dw{convertValue(e,r="none"){switch(qi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes($i(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const o={};return Hi(e,(l,c)=>{o[l]=this.convertValue(c,r)}),o}convertVectorValue(e){var r,o,l;const c=(l=(o=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||o===void 0?void 0:o.values)===null||l===void 0?void 0:l.map(f=>ft(f.doubleValue));return new tf(c)}convertGeoPoint(e){return new ef(ft(e.latitude),ft(e.longitude))}convertArray(e,r){return(e.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(e,r){switch(r){case"previous":const o=kh(e);return o==null?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(ea(e));default:return null}}convertTimestamp(e){const r=li(e);return new Tt(r.seconds,r.nanos)}convertDocumentKey(e,r){const o=nt.fromString(e);qe(pg(o));const l=new ta(o.get(1),o.get(3)),c=new ge(o.popFirst(5));return l.isEqual(r)||Cr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(i,e,r){let o;return o=i?r&&(r.merge||r.mergeFields)?i.toFirestore(e,r):i.toFirestore(e):e,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qg extends Bg{constructor(e,r,o,l,c,f){super(e,r,o,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new jl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const o=this._document.data.field(bg("DocumentSnapshot.get",e));if(o!==null)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class jl extends qg{data(e={}){return super.data(e)}}class Hg{constructor(e,r,o,l){this._firestore=e,this._userDataWriter=r,this._snapshot=l,this.metadata=new Wo(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(o=>{e.call(r,new jl(this._firestore,this._userDataWriter,o.key,o,new Wo(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ue(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map(m=>{const _=new jl(l._firestore,l._userDataWriter,m.doc.key,m.doc,new Wo(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:_,oldIndex:-1,newIndex:f++}})}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const _=new jl(l._firestore,l._userDataWriter,m.doc.key,m.doc,new Wo(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,I=-1;return m.type!==0&&(v=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),I=f.indexOf(m.doc.key)),{type:Lw(m.type),doc:_,oldIndex:v,newIndex:I}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Lw(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(i){i=_n(i,an);const e=_n(i.firestore,kr);return Ew(fa(e),i._key).then(r=>Wg(e,i,r))}class uf extends Dw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hs(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new an(this.firestore,null,r)}}function Dl(i){i=_n(i,ha);const e=_n(i.firestore,kr),r=fa(e),o=new uf(e);return $g(i._query),ww(r,i._query).then(l=>new Hg(e,o,i,l))}function Ui(i,e,r){i=_n(i,an);const o=_n(i.firestore,kr),l=lf(i.converter,e,r);return pu(o,[sf(rf(o),"setDoc",i._key,l,i.converter!==null,r).toMutation(i._key,on.none())])}function Ow(i){return pu(_n(i.firestore,kr),[new su(i._key,on.none())])}function Mw(i,e){const r=_n(i.firestore,kr),o=gn(i),l=lf(i.converter,e);return pu(r,[sf(rf(i.firestore),"addDoc",o._key,l,i.converter!==null,{}).toMutation(o._key,on.exists(!1))]).then(()=>o)}function eh(i,...e){var r,o,l;i=or(i);let c={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||_m(e[f])||(c=e[f],f++);const m={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(_m(e[f])){const x=e[f];e[f]=(r=x.next)===null||r===void 0?void 0:r.bind(x),e[f+1]=(o=x.error)===null||o===void 0?void 0:o.bind(x),e[f+2]=(l=x.complete)===null||l===void 0?void 0:l.bind(x)}let _,v,I;if(i instanceof an)v=_n(i.firestore,kr),I=eu(i._key.path),_={next:x=>{e[f]&&e[f](Wg(v,i,x))},error:e[f+1],complete:e[f+2]};else{const x=_n(i,ha);v=_n(x.firestore,kr),I=x._query;const L=new uf(v);_={next:B=>{e[f]&&e[f](new Hg(v,L,x,B))},error:e[f+1],complete:e[f+2]},$g(i._query)}return function(L,B,X,J){const z=new Xh(J),Ee=new Gh(B,z,X);return L.asyncQueue.enqueueAndForget(async()=>Wh(await Yl(L),Ee)),()=>{z.Za(),L.asyncQueue.enqueueAndForget(async()=>Qh(await Yl(L),Ee))}}(fa(v),I,m,_)}function pu(i,e){return function(o,l){const c=new Ar;return o.asyncQueue.enqueueAndForget(async()=>uw(await vw(o),l,c)),c.promise}(fa(i),e)}function Wg(i,e,r){const o=r.docs.get(e._key),l=new uf(i);return new qg(i,l,e._key,o,new Wo(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=rf(e)}set(e,r,o){this._verifyNotCommitted();const l=th(e,this._firestore),c=lf(l.converter,r,o),f=sf(this._dataReader,"WriteBatch.set",l._key,c,l.converter!==null,o);return this._mutations.push(f.toMutation(l._key,on.none())),this}update(e,r,o,...l){this._verifyNotCommitted();const c=th(e,this._firestore);let f;return f=typeof(r=or(r))=="string"||r instanceof hu?xw(this._dataReader,"WriteBatch.update",c._key,r,o,l):kw(this._dataReader,"WriteBatch.update",c._key,r),this._mutations.push(f.toMutation(c._key,on.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=th(e,this._firestore);return this._mutations=this._mutations.concat(new su(r._key,on.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ue(q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function th(i,e){if((i=or(i)).firestore!==e)throw new ue(q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(i){return fa(i=_n(i,kr)),new Fw(i,e=>pu(i,e))}(function(e,r=!0){(function(l){Qs=l})(Rv),Bl(new Xo("firestore",(o,{instanceIdentifier:l,options:c})=>{const f=o.getProvider("app").getImmediate(),m=new kr(new Bv(o.getProvider("auth-internal")),new Hv(o.getProvider("app-check-internal")),function(v,I){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ue(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ta(v.options.projectId,I)}(f,l),f);return c=Object.assign({useFetchStreams:r},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),Fs(Mp,"4.7.3",e),Fs(Mp,"4.7.3","esm2017")})();const Uw={apiKey:"AIzaSyBbk4SiSqWANAiet8EVvTrIC21aAWBvg",authDomain:"myattendanceproject-45c1b.firebaseapp.com",projectId:"myattendanceproject-45c1b",storageBucket:"myattendanceproject-45c1b.appspot.com",messagingSenderId:"601661458034",appId:"1:601661458034:web:8134e270349f9a0b3a3c97"},zw=Cm(Uw),ht=Sw(zw);function Bw(){const[i,e]=$e.useState([]),[r,o]=$e.useState([]),[l,c]=$e.useState([]),[f,m]=$e.useState(null),[_,v]=$e.useState(!1),[I,x]=$e.useState(""),[L,B]=$e.useState(null);$e.useEffect(()=>{const z=eh(ri(ht,"point_shop"),ye=>e(ye.docs.map(ve=>({id:ve.id,...ve.data()})))),Ee=eh(ri(ht,"point_logs"),ye=>o(ye.docs.map(ve=>({id:ve.id,...ve.data()})))),de=eh(ri(ht,"students"),ye=>c(ye.docs.map(ve=>({id:ve.id,...ve.data()}))));return()=>{z(),Ee(),de()}},[]);const X=async()=>{const z=l.find(de=>{const ye=(de.birth||"").slice(-4),ve=(de.parentPhone||"").slice(-4);return ye+ve===I});if(!z){alert("학생 인증 실패! 생일 4자리 + 엄마번호 뒤 4자리를 확인해주세요.");return}if((z.availablePoints||0)<f.point)return alert("포인트가 부족합니다");if(!window.confirm(`현재 가용 포인트는 ${z.availablePoints}pt입니다. ${f.point}pt를 사용하시겠습니까?`))return;const Ee={studentId:z.id,name:z.name,item:f.name,point:f.point,date:new Date().toISOString().split("T")[0]};await Mw(ri(ht,"point_logs"),Ee),await Ui(gn(ht,"students",z.id),{availablePoints:(z.availablePoints||0)-f.point},{merge:!0}),v(!1),B(z),setTimeout(()=>B(null),5e3)},J=async z=>{if(prompt("관리자 비밀번호를 입력하세요")!=="ys0246")return alert("비밀번호가 틀립니다.");const de=l.find(ye=>ye.id===z.studentId);de&&(await Ow(gn(ht,"point_logs",z.id)),await Ui(gn(ht,"students",de.id),{availablePoints:(de.availablePoints||0)+z.point},{merge:!0}))};return G.jsxs("div",{className:"flex",children:[G.jsxs("div",{className:"w-2/3 relative",children:[G.jsx("p",{className:"text-sm mb-1 text-blue-700",children:"📣 생일 4자리 + 엄마번호 4자리로 인증 후 사용"}),G.jsx("p",{className:"text-sm mb-2 text-gray-600",children:"🎲 랜덤 Lucky 2pt는 수업 10분 전 ~ 5분 후까지! 지각 시 0pt"}),L&&G.jsxs("div",{className:"text-green-600 font-bold mb-3",children:["✅ ",L.name,"님 ",f==null?void 0:f.point,"pt 사용 완료!"]}),G.jsx("div",{className:"grid grid-cols-2 gap-4",children:i.map(z=>G.jsxs("div",{className:"text-center relative",children:[G.jsx("img",{src:z.imageUrl,alt:z.name,className:"w-full h-32 object-cover rounded shadow"}),G.jsx("div",{className:"text-sm font-semibold mt-1",children:z.name}),G.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:[z.point,"pt"]}),G.jsx("button",{className:"text-xs bg-blue-600 text-white px-3 py-1 rounded shadow",onClick:()=>{m(z),v(!0)},children:"사용"})]},z.id))})]}),G.jsxs("div",{className:"w-1/3 pl-4 border-l",children:[G.jsx("h3",{className:"text-lg font-bold mb-2",children:"🧾 사용 내역"}),r.map(z=>G.jsxs("div",{className:"text-sm border-b py-1 flex justify-between items-center",children:[G.jsxs("div",{children:[z.name," - ",z.item," - ",z.point,"pt",G.jsx("div",{className:"text-xs text-gray-500",children:z.date})]}),G.jsx("button",{className:"text-red-500 text-xs",onClick:()=>J(z),children:"삭제"})]},z.id))]}),_&&f&&G.jsxs(G.Fragment,{children:[G.jsx("div",{className:"fixed inset-0 z-40",style:{backgroundColor:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(2px)"}}),G.jsxs("div",{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-50 text-center",style:{backgroundColor:"white",width:"480px",padding:"2rem",borderRadius:"1rem",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.2)",border:"2px solid #ccc"},children:[G.jsxs("h2",{className:"text-xl font-bold text-blue-700 mb-4",style:{backgroundColor:"white",padding:"0.5rem 1rem",borderRadius:"0.5rem"},children:["✅ ",f.name," - ",f.point,"pt 사용"]}),G.jsx("input",{type:"text",value:I,onChange:z=>x(z.target.value),placeholder:"생일4 + 엄마번호4",maxLength:8,className:"w-full p-2 border rounded mb-4 text-center",style:{backgroundColor:"#fff"}}),G.jsxs("div",{className:"flex justify-between gap-4",children:[G.jsx("button",{onClick:()=>{v(!1),m(null),x("")},className:"bg-gray-300 hover:bg-gray-400 text-black px-4 py-2 rounded w-1/2",children:"취소"}),G.jsx("button",{onClick:X,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded w-1/2",children:"사용하기"})]})]})]})]})}function bw(){const[i,e]=$e.useState([]),[r,o]=$e.useState({}),[l,c]=$e.useState([]),[f,m]=$e.useState("attendance"),[_,v]=$e.useState({}),[I,x]=$e.useState(""),[L,B]=$e.useState(localStorage.getItem("authenticated")==="true"),[X,J]=$e.useState(new Date),[z,Ee]=$e.useState(0),[de,ye]=$e.useState(null),[ve,Ze]=$e.useState(!1),[xe,k]=$e.useState([]),[T,A]=$e.useState({}),C=Object.keys(r).length,V=X.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1});[...i].sort((K,ne)=>K.name.localeCompare(ne.name));const D=["출석","숙제","수업태도","시험","문제집완료"],S=new Date,Qe=S.toISOString().split("T")[0],gt=["일","월","화","수","목","금","토"][S.getDay()];$e.useEffect(()=>{(async()=>{const he=(await Dl(ri(ht,"students"))).docs.map(rt=>({id:rt.id,...rt.data()})),_e=jw(ht);he.forEach(rt=>{if(typeof rt.points=="number"){const It={출석:rt.points,숙제:0,수업태도:0,시험:0,문제집완료:0};_e.set(gn(ht,"students",rt.id),{points:It},{merge:!0}),rt.points=It}else D.forEach(It=>{(!rt.points||rt.points[It]===void 0)&&(rt.points||(rt.points={}),rt.points[It]=0)})}),await _e.commit(),e(he);const Me=gn(ht,"attendance",Qe),Ye=await Nl(Me);Ye.exists()&&o(Ye.data());const Hn=(await Dl(ri(ht,"makeups"))).docs.map(rt=>({id:rt.id,...rt.data()})).filter(rt=>rt.date===Qe);c(Hn)})()},[]);const[Be,ee]=$e.useState([]);$e.useEffect(()=>{(async()=>{const he=(await Dl(ri(ht,"schedule_changes"))).docs.map(_e=>({id:_e.id,..._e.data()}));ee(he)})()},[]),$e.useEffect(()=>{(async()=>{const he=(await Dl(ri(ht,"students_high"))).docs.map(_e=>({id:_e.id,..._e.data()}));k(he)})()},[]),$e.useEffect(()=>{(async()=>{const ne=new Date().toISOString().split("T")[0],he=await Nl(gn(ht,"high-attendance",ne));he.exists()&&A(he.data())})()},[]);const fe=(K,ne)=>{const _e=Be.filter(Me=>Me.studentId===K).filter(Me=>Me.effectiveDate<=ne);if(_e.length===0){const Me=i.find(Ye=>Ye.id===K);return(Me==null?void 0:Me.schedules)||[]}return _e.sort((Me,Ye)=>Ye.effectiveDate.localeCompare(Me.effectiveDate)),_e[0].schedules},te=()=>{const K={},ne=S.toISOString().split("T")[0];return i.forEach(he=>{if(he.active===!1||he.pauseDate&&he.pauseDate<=ne)return;fe(he.id,ne).forEach(({day:Me,time:Ye})=>{Me===gt&&(K[Ye]||(K[Ye]=[]),K[Ye].push(he))})}),K},N=$e.useMemo(()=>te(),[i,Be]);$e.useEffect(()=>{(async()=>{const ne=new Date().toISOString().split("T")[0],he=gn(ht,"dailyLucky",ne),_e=await Nl(he);if(_e.exists()){const Me=_e.data();ye(Me.name)}})()},[]);const b=async(K,ne)=>{var ur;const he=new Date().toISOString().split("T")[0],_e=r[K.name];if(_e&&(_e.status==="onTime"||_e.status==="tardy")){alert("이미 출석 처리된 학생입니다.");return}if(prompt(`${K.name} 생일 뒷 4자리를 입력하세요 (예: 0412)`)!==((ur=K.birth)==null?void 0:ur.slice(-4))){alert("생일이 일치하지 않습니다.");return}const Ye=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),[kn,xr]=ne.split(":"),Hn=new Date;Hn.setHours(+kn,+xr,0);const It=(new Date-Hn)/6e4;let jt=0,ln="onTime",Vr=!1;if(It>15)ln="tardy",jt=0;else if(It>=-10&&It<=5){const at=gn(ht,"dailyLucky",he);(await Nl(at)).exists()?jt=1:(jt=2,Vr=!0,await Ui(at,{name:K.name,time:Ye}))}else It>=-15&&It<-10&&(jt=1);await Ui(gn(ht,"attendance",he),{[K.name]:{time:Ye,status:ln}},{merge:!0}),o(at=>({...at,[K.name]:{time:Ye,status:ln}}));const Wn={...K.points,출석:(K.points.출석||0)+jt};await Ui(gn(ht,"students",K.id),{points:Wn},{merge:!0}),e(at=>at.map(He=>He.id===K.id?{...He,points:Wn}:He)),v(at=>({...at,[K.name]:!0})),setTimeout(()=>v(at=>({...at,[K.name]:!1})),1500),Vr?(ye(K.name),Ze(!0),setTimeout(()=>Ze(!1),2500),alert(`🎉 Lucky!!! ${K.name}님 2pt 당첨!`)):alert(`✅ ${K.name}님 출석 완료! (+${jt}pt)`),e(at=>at.map(He=>He.id===K.id?{...He,points:Wn}:He)),v(at=>({...at,[K.name]:!0})),setTimeout(()=>v(at=>({...at,[K.name]:!1})),1500),alert(`✅ ${K.name}님 출석 완료! (+1pt)`)},ce=()=>{I==="1234"?(B(!0),localStorage.setItem("authenticated","true")):alert("비밀번호가 틀렸습니다.")},Ae=()=>{B(!1),localStorage.removeItem("authenticated")};if(!L)return G.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:G.jsxs("div",{className:"bg-white p-6 rounded shadow-md",children:[G.jsx("input",{type:"password",placeholder:"출석 체크 비밀번호",className:"border p-2 mr-2",value:I,onChange:K=>x(K.target.value)}),G.jsx("button",{onClick:ce,className:"bg-blue-500 text-white px-4 py-2 rounded",children:"로그인"})]})});const Re=async K=>{const ne=r[K];if(prompt("지각 상태입니다. 선생님 비밀번호를 입력하세요")==="0301"){const _e={time:ne.time,status:"onTime"};await Ui(gn(ht,"attendance",Qe),{[K]:_e},{merge:!0}),o(Me=>({...Me,[K]:_e})),alert(`${K}님의 출석 상태가 초록으로 변경되었습니다!`)}},Ce=K=>D.reduce((ne,he)=>ne+(K[he]||0),0),Le=K=>!Array.isArray(i)||i.length===0?[]:[...i].map(ne=>{var he;return{name:ne.name,value:((he=ne.points)==null?void 0:he[K])||0}}).sort((ne,he)=>he.value-ne.value).slice(0,5),Oe=async K=>{var Ye;if(prompt(`${K.name} 생일 뒷 4자리를 입력하세요 (예: 0412)`)!==((Ye=K.birth)==null?void 0:Ye.slice(-4))){alert("생일이 일치하지 않습니다.");return}const he=new Date,_e=he.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),Me=he.toISOString().split("T")[0];await Ui(gn(ht,"high-attendance",Me),{[K.name]:{time:_e,status:"출석"}},{merge:!0}),A(kn=>({...kn,[K.name]:{time:_e,status:"출석"}})),alert(`✅ ${K.name}님 고등부 출석 완료!`)};return G.jsxs(G.Fragment,{children:[ve&&G.jsxs("div",{className:"fixed top-10 left-1/2 transform -translate-x-1/2 bg-yellow-400 text-white text-2xl font-bold px-6 py-3 rounded shadow-lg z-50 animate-bounce",children:["🎉 Lucky!!! ",de,"님 2pt!"]}),G.jsxs("div",{className:"flex items-center gap-2 justify-center text-sm text-blue-700 bg-blue-100 px-4 py-2 rounded mb-4",children:[G.jsx("span",{children:"📣"}),G.jsxs("div",{children:[G.jsx("div",{children:"생일 4자리 입력시 출석완료!"}),G.jsx("div",{children:" 랜덤 Lucky 2pt는 10분전~5분후까지만! 지각시 0pt"})]})]}),G.jsxs("div",{className:"bg-gray-100 min-h-screen p-6",children:[G.jsxs("div",{className:"max-w-5xl mx-auto flex space-x-4 mb-6",children:[G.jsx("button",{className:`px-4 py-2 rounded ${f==="attendance"?"bg-blue-500 text-white":"bg-white text-gray-700"}`,onClick:()=>m("attendance"),children:"출석 체크"}),G.jsx("button",{onClick:()=>m("ranking"),className:`px-4 py-2 rounded ${f==="ranking"?"bg-blue-500 text-white":"bg-white text-gray-700"}`,children:"포인트 랭킹"}),G.jsx("button",{className:`px-4 py-2 rounded ${f==="shop"?"bg-blue-500 text-white":"bg-white text-gray-700"}`,onClick:()=>m("shop"),children:"포인트상점"})]}),f==="attendance"&&G.jsxs(G.Fragment,{children:[G.jsxs("div",{className:"max-w-5xl mx-auto flex justify-between items-center mb-8",children:[G.jsxs("div",{children:[G.jsxs("h1",{className:"text-3xl font-bold mb-2 text-gray-700",children:["📌 출석 체크 - ",gt,"요일"]}),G.jsxs("div",{className:"text-gray-600",children:["📅 ",Qe," / ⏰ ",V," / ✅ 출석 인원: ",C]}),G.jsxs("div",{className:"text-center text-lg text-yellow-600 font-bold mb-4",children:["🎉 오늘의 Lucky 당첨자: ",de?`${de}님`:"아직 없음"]})]}),G.jsx("button",{onClick:Ae,className:"bg-red-400 text-white px-4 py-2 rounded",children:"로그아웃"})]}),Object.keys(N).sort().map(K=>G.jsxs("div",{className:"max-w-5xl mx-auto mb-6 bg-white p-4 rounded-lg shadow-md",children:[G.jsxs("h2",{className:"text-xl font-semibold mb-4 border-b pb-2 text-gray-800",children:[K," 수업"]}),G.jsx("div",{className:"grid grid-cols-6 gap-4",children:N[K].map(ne=>{const he=r[ne.name],_e=he&&(he.status==="onTime"||he.status==="tardy"),Me=_[ne.name];return G.jsxs("div",{className:`
        card
        ${_e?he.status==="tardy"?"tardy":"attended":""}
        ${Me?"animated":""}
        ${_e?"cursor-not-allowed opacity-80":"cursor-pointer hover:shadow-lg"}
      `,onClick:()=>{_e?he.status==="tardy"&&Re(ne.name):b(ne,K)},children:[ne.name===de&&G.jsx("div",{className:"text-3xl text-yellow-500 text-center mb-1",children:"👑"}),G.jsxs("div",{className:"text-right text-xs font-semibold text-gray-700 leading-none mb-1",children:["총 ",Ce(ne.points),"pt",G.jsx("br",{}),G.jsxs("span",{className:"text-green-600",children:["가용 ",ne.availablePoints??Ce(ne.points),"pt"]})]}),G.jsx("p",{className:"name m-0 leading-none mb-1",children:ne.name}),_e&&G.jsxs("p",{className:"time-text m-0 leading-none mt-1",children:[he.status==="tardy"?"⚠️ 지각":"✅ 출석",G.jsx("br",{}),he.time]})]},ne.id)})})]},K)),G.jsxs("div",{className:"max-w-5xl mx-auto mt-8",children:[G.jsx("h2",{className:"text-xl font-bold mb-4",children:"🎓 고등부 출석"}),G.jsx("div",{className:"grid grid-cols-6 gap-4",children:xe.map(K=>{const ne=T[K.name],he=(ne==null?void 0:ne.status)==="출석";return G.jsxs("div",{className:`card ${he?"attended":""} cursor-pointer hover:shadow-lg`,onClick:()=>Oe(K),children:[G.jsx("p",{className:"name m-0 leading-none mb-1",children:K.name}),he&&G.jsxs("p",{className:"time-text m-0 leading-none mt-1",children:["✅ 출석",G.jsx("br",{}),ne.time]})]},K.id)})})]})]}),f==="ranking"&&G.jsxs("div",{className:"max-w-5xl mx-auto bg-white p-6 rounded-lg shadow-md",children:[G.jsx("h2",{className:"text-xl font-semibold mb-4",children:"🏆 포인트 랭킹 (실시간)"}),G.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:D.map(K=>{const ne=Le(K);return G.jsxs("div",{className:"bg-gray-50 p-4 border rounded shadow",children:[G.jsxs("h4",{className:"font-bold text-center mb-2",children:[K," TOP 5"]}),G.jsx("ol",{className:"text-sm space-y-1",children:[...Array(5)].map((he,_e)=>G.jsxs("li",{children:[_e+1,"등"," ",ne[_e]?G.jsxs(G.Fragment,{children:[G.jsx("b",{children:ne[_e].name})," (",ne[_e].value,"pt)"]}):G.jsx("span",{className:"text-gray-400",children:"-"})]},_e))})]},K)})}),G.jsx("h3",{className:"text-lg font-bold mt-8 mb-2",children:"💯 총합 TOP 5"}),G.jsx("ol",{className:"text-sm space-y-1",children:[...Array(5)].map((K,ne)=>{const he=[...i].map(_e=>({name:_e.name,total:Ce(_e.points)})).sort((_e,Me)=>Me.total-_e.total);return G.jsxs("li",{children:[ne+1,"등"," ",he[ne]?G.jsxs(G.Fragment,{children:[G.jsx("b",{children:he[ne].name})," (",he[ne].total,"pt)"]}):G.jsx("span",{className:"text-gray-400",children:"-"})]},ne)})})]}),f==="shop"&&G.jsx(Bw,{})]})]})}o_.createRoot(document.getElementById("root")).render(G.jsx(Zy.StrictMode,{children:G.jsx(bw,{})}));
